{"version":3,"file":"kendo.timeselector.min.js","names":["factory","define","amd","$","undefined$1","kendo","window","ui","encode","htmlEncode","Widget","html","extend","FOCUSED","keys","NS","listItemTemplate","ref","value","TimeSelector","init","element","options","that","this","fn","call","_wrappers","_buttons","_attchHandlers","_shortCuts","_columns","_popup","name","columns","shortcuts","size","fillMode","rounded","messages","set","cancel","days","hours","minutes","milliseconds","seconds","events","addTranslate","list","itemHeight","listHeight","translate","bottomOffset","lists","_listsContainer","find","length","i","getItemHeight","eq","outerHeight","css","transform","height","off","on","_itemClickHandler","bind","_listScrollHandler","applyValue","values","rest","Math","floor","getTimeParts","each","index","column","columnVal","min","max","_scrollListToPosition","format","selectorFormat","toggle","popup","destroy","_listContainer","_timeSelectorWrapper","_scrollerKeyDownHandler","_applyShortCut","_cancelClickHandler","_setClickHandler","_mouseOverHandler","e","preventDefault","_value","parseInt","currentTarget","attr","change","close","focus","key","keyCode","isRtl","support","wrapper","container","UP","DOWN","altKey","RIGHT","LEFT","_focusList","scrollTop","ENTER","ESC","setTimeout","visible","removeClass","addClass","trigger","_scrollTop","_activeElement","_currentValues","originalEvent","_internalScroll","_scrollingTimeout","clearTimeout","_updateCurrentlySelected","_findSelectedValue","firstOccurence","round","is","item","_renderList","title","elements","step","appendTo","shortcut","_shortcuts","renderButton","text","id","Popup","anchor","open","activate","getBoundingClientRect","plugin","jQuery"],"sources":["kendo.timeselector.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.popup', 'kendo.html.button'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"timeselector\",\n        name: \"TimeSelector\",\n        category: \"web\",\n        description: \"The TimeSelector widget allows the end user to select a time range from a popup\",\n        depends: [ \"popup\", \"html.button\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            encode = kendo.htmlEncode,\n            Widget = ui.Widget,\n            html = kendo.html,\n            extend = $.extend,\n            CHANGE = \"change\",\n            CLICK = \"click\",\n            SCROLL = \"scroll\",\n            FOCUSED = \"k-focus\",\n            keys = kendo.keys,\n            NS = \".kendoTimeSelector\",\n            html = kendo.html;\n\n        var listItemTemplate = function (ref) {\n            var value = ref.value;\n\n            return (\"<li class='k-item' data-value='\" + (encode(value)) + \"'><span>\" + (encode(value)) + \"</span></li>\");\n        };\n        var listTemplate = function (ref) {\n            var title = ref.title;\n            var name = ref.name;\n\n            return '<div class=\"k-time-list-wrapper\">' +\n                                              \"<span class=\\\"k-title\\\">\" + (encode(title)) + \"</span>\" +\n                                              '<div class=\"k-time-list\">' +\n                                                  \"<div class=\\\"k-content k-scrollable k-time-container\\\" data-name=\\\"\" + (encode(name)) + \"\\\">\" +\n                                                      '<ul class=\"k-reset\"></ul>' +\n                                                      '<div class=\"k-scrollable-placeholder\"></div>' +\n                                                  '</div>' +\n                                              '</div>' +\n                                           '</div>';\n        };\n\n        var TimeSelector = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n                that._wrappers();\n                that._buttons();\n                that._attchHandlers();\n                that._shortCuts();\n                that._columns();\n                that._popup();\n            },\n            options: {\n                name: \"TimeSelector\",\n                columns: [],\n                shortcuts: [],\n                size: \"medium\",\n                fillMode: \"solid\",\n                rounded: \"medium\",\n                messages: {\n                    set: \"Set\",\n                    cancel: \"Cancel\",\n                    days: \"Days\",\n                    hours: \"Hours\",\n                    minutes: \"Minutes\",\n                    milliseconds: \"Milliseconds\",\n                    seconds: \"Seconds\"\n                }\n            },\n\n            events: [CHANGE],\n\n            addTranslate: function() {\n                var lists = this._listsContainer.find(\".k-time-container.k-content.k-scrollable\");\n                var length = lists.length;\n                var list;\n                var itemHeight;\n                var listHeight;\n                var topOffset;\n                var translate;\n                var bottomOffset;\n\n                for (var i = 0; i < length; i++) {\n                    list = lists.eq(i);\n                    itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n                    listHeight = list.outerHeight();\n                    topOffset = (listHeight - itemHeight) / 2;\n                    translate = \"translateY(\" + topOffset + \"px)\";\n                    bottomOffset = listHeight - itemHeight;\n                    list.find(\"ul\").css({\n                        transform: translate,\n                        \"-ms-transform\": translate\n                    });\n                    list.find(\".k-scrollable-placeholder\").css({\n                        height: list.find(\"ul\").height() + bottomOffset\n                    });\n                    list.off(NS)\n                        .on(CLICK + NS, \".k-item\", this._itemClickHandler.bind(this))\n                        .on(SCROLL + NS, this._listScrollHandler.bind(this));\n                }\n            },\n\n            applyValue: function(value) {\n                if (!value) {\n                    return;\n                }\n                var that = this;\n                var lists = this._listsContainer.find('.k-time-container.k-content.k-scrollable');\n                var values = getTimeParts(value);\n\n                lists.each(function(index, list) {\n                    var column = that.options.columns[index];\n                    var columnVal = values[column.name];\n\n                    if (columnVal >= column.min && columnVal <= column.max) {\n                        that._scrollListToPosition($(list), kendo.format(column.selectorFormat, columnVal));\n                    }\n                });\n            },\n\n            toggle: function() {\n                this.popup.toggle();\n            },\n\n            destroy: function() {\n                this._listContainer.off(NS);\n                this._timeSelectorWrapper.off(NS);\n\n                if (this.popup) {\n                    this.popup.destroy();\n                    this.popup = null;\n                }\n            },\n\n            _attchHandlers: function() {\n                var that = this;\n\n                that._listContainer.on(\"keydown\" + NS, this._scrollerKeyDownHandler.bind(this));\n                that._timeSelectorWrapper.on(\"click\" + NS, \".k-time-fast-selection button\", this._applyShortCut.bind(this));\n                that._timeSelectorWrapper.on(\"click\" + NS, \".k-timeduration-footer button.k-time-cancel\", this._cancelClickHandler.bind(this));\n                that._timeSelectorWrapper.on(\"click\" + NS, \".k-timeduration-footer button.k-time-accept\", this._setClickHandler.bind(this));\n                that._listContainer.on(\"mouseover\" + NS, \".k-time-list-wrapper\", this._mouseOverHandler.bind(this));\n            },\n\n            _applyShortCut: function(e) {\n                e.preventDefault();\n                this._value = parseInt($(e.currentTarget).attr(kendo.attr(\"value\")));\n                this.options.change(this._value);\n                this.popup.close();\n                this.options.focus();\n            },\n\n            _scrollerKeyDownHandler: function(e) {\n                var that = this,\n                    key = e.keyCode,\n                    list = $(e.currentTarget).find(\".k-time-list-wrapper.k-focus\"),\n                    lists = that._listContainer.find(\".k-time-list-wrapper\"),\n                    length = lists.length,\n                    index = lists.index(list),\n                    isRtl = kendo.support.isRtl(that.wrapper),\n                    itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0)),\n                    container = list.find(\".k-time-container.k-content.k-scrollable\");\n\n                if (!list.length) {\n                    return;\n                }\n\n                if ((key == keys.UP || key == keys.DOWN) && e.altKey) {\n                    e.preventDefault();\n                    that.toggle();\n                    setTimeout(function() {\n                        if (!that.popup.visible()) {\n                            that.options.focus();\n                        }\n                    }, 100);\n                    return;\n                }\n\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    if (index + 1 < length) {\n                        that._focusList(lists.eq(index + 1));\n                    }\n\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    if (index - 1 >= 0) {\n                        that._focusList(lists.eq(index - 1));\n                    }\n                } else if (key == keys.UP) {\n                    container.scrollTop(container.scrollTop() - itemHeight);\n                    e.preventDefault();\n                } else if (key == keys.DOWN) {\n                    container.scrollTop(container.scrollTop() + itemHeight);\n                    e.preventDefault();\n                } else if (key === keys.ENTER) {\n                    that._setClickHandler(e);\n                } else if (key === keys.ESC) {\n                    that._cancelClickHandler(e);\n                }\n            },\n\n            _mouseOverHandler: function(e) {\n                this._focusList($(e.currentTarget));\n            },\n\n            _focusList: function(list) {\n                this._listContainer.find(\".k-time-list-wrapper\").removeClass(FOCUSED);\n                list.addClass(FOCUSED);\n                this._listContainer.trigger(\"focus\");\n                this._scrollTop = list.find('.k-scrollable').scrollTop();\n            },\n\n            _setClickHandler: function(e) {\n                if ($(kendo._activeElement()).attr(kendo.attr(\"value\"))) {\n                    return;\n                }\n\n                e.preventDefault();\n                this._value = convertToMsec(this._currentValues);\n                this.options.change(this._value);\n                this.popup.close();\n                this.options.focus();\n            },\n\n            _cancelClickHandler: function(e) {\n                if ($(kendo._activeElement()).attr(kendo.attr(\"value\"))) {\n                    return;\n                }\n                e.preventDefault();\n                this.popup.close();\n                this.options.focus();\n            },\n\n            _itemClickHandler: function(e) {\n                var list = $(e.originalEvent.currentTarget);\n                var index = list.find(\".k-item:visible\").index($(e.currentTarget));\n                var itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n\n                list.scrollTop(index * itemHeight);\n            },\n\n            _listScrollHandler: function(e) {\n                var that = this;\n                var itemHeight = getItemHeight($(e.currentTarget).find(\".k-item:visible\").eq(0));\n\n                if (that._internalScroll) {\n                    return;\n                }\n\n                if (that._scrollingTimeout) {\n                    clearTimeout(that._scrollingTimeout);\n                }\n\n                that._scrollingTimeout = setTimeout(function() {\n                    if (e.currentTarget.scrollTop % itemHeight > 1) {\n                        e.currentTarget.scrollTop += itemHeight - e.currentTarget.scrollTop % itemHeight;\n                    }\n                    that._scrollTop = e.currentTarget.scrollTop;\n                    that._updateCurrentlySelected();\n                }, 100);\n            },\n\n            _findSelectedValue: function(list) {\n                var firstOccurence = firstItemIndex(list.scrollTop(), getItemHeight(list.find(\".k-item:visible\").eq(0)));\n                return list.find(\".k-item:visible\").eq(firstOccurence).attr(\"data-value\");\n             },\n\n            _updateCurrentlySelected: function() {\n                var that = this;\n                var lists = this._listsContainer.find('.k-content.k-scrollable');\n\n                if (!this._listsContainer.is(\":visible\")) {\n                    return;\n                }\n\n                that._currentValues = {};\n\n                lists.each(function() {\n                    var list = $(this);\n                    that._currentValues[list.attr(\"data-name\")] = parseInt(that._findSelectedValue(list));\n                });\n            },\n\n            _scrollListToPosition: function(list, value) {\n                var item = list.find('.k-item[data-value=\"' + value + '\"]');\n                var itemHeight = getItemHeight(item);\n\n                list.scrollTop(list.find(\".k-item:visible\").index(item) * itemHeight);\n            },\n\n            _renderList: function(wrapper, options) {\n                if (!options) {\n                    return;\n                }\n                var that = this;\n                var list = $(listTemplate({ name: options.name, title: that.options.messages[options.name] }));\n                var elements = \"\";\n\n                for (var i = options.min; i <= options.max; i += options.step) {\n                    elements += listItemTemplate({ value: kendo.format(options.selectorFormat, i) });\n                }\n                list.find(\"ul\").html(elements);\n                list.appendTo(wrapper);\n            },\n\n            _columns: function() {\n                var that = this;\n                var column;\n                var options = that.options;\n\n                if (that._listsContainer) {\n                    for (var i = 0; i < options.columns.length; i++) {\n                        column = options.columns[i];\n                        that._renderList(that._listsContainer, column);\n                    }\n                }\n            },\n\n            _shortCuts: function() {\n                var that = this;\n                var options = that.options;\n                var shortcut;\n\n                if (that._shortcuts) {\n                    for (var i = 0; i < options.shortcuts.length; i++) {\n                        shortcut = options.shortcuts[i];\n\n                        $(html.renderButton('<button class=\"k-button k-button-md k-button-solid k-button-solid-base k-rounded-md\">' + shortcut.text + '</button>', {\n                            rounded: options.rounded\n                        }))\n                        .attr(kendo.attr(\"value\"), shortcut.value)\n                        .appendTo(that._shortcuts);\n                    }\n                }\n            },\n\n            _buttons: function() {\n                var that = this;\n                var options = that.options;\n\n                $(\"<div class='k-actions k-actions-stretched k-actions-horizontal k-timeduration-footer'>\"\n                    +\n                    html.renderButton('<button class=\"k-time-cancel k-button k-button-md\">' + options.messages.cancel + '</button>', {\n                     rounded: options.rounded\n                    })\n                    +\n                    html.renderButton('<button class=\"k-time-accept k-button k-button-md k-button-solid k-button-solid-primary\">' + options.messages.set + '</button>', {\n                     rounded: options.rounded\n                    })\n                    +\n                \"</div>\").appendTo(that._timeSelectorWrapper);\n            },\n\n            _wrappers: function() {\n                var that = this;\n                var options = that.options;\n\n                that._timeSelectorWrapper = $(\"<div></div>\");\n\n                that._listContainer = $(\"<div tabindex='0' class='k-timeselector k-timeselector-md'></div>\");\n                that._listContainer.appendTo(that._timeSelectorWrapper);\n\n                if (options.shortcuts) {\n                    that._shortcuts = $(\"<div class='k-actions k-actions-start k-actions-horizontal k-time-fast-selection'></div>\").appendTo(that._listContainer);\n                }\n\n                if (options.columns.length) {\n                    that._listsContainer = $(\"<div class='k-time-list-container'><span class='k-time-highlight'></span></div>\").appendTo(that._listContainer);\n                    that._listsContainer.attr(\"id\", options.id);\n                }\n            },\n\n            _popup: function() {\n                var that = this,\n                    options = that.options;\n\n                that.popup = new ui.Popup(that._timeSelectorWrapper, extend(true, {}, options.popup, {\n                    anchor: options.anchor,\n                    open: options.open,\n                    close: options.close,\n                    isRtl: kendo.support.isRtl(options.anchor),\n                    activate: function() {\n                        that.addTranslate();\n                        if (that._value) {\n                            that.applyValue(that._value);\n                        } else {\n                            that._updateCurrentlySelected();\n                        }\n                        that._focusList(that._listContainer.find(\".k-time-list-wrapper\").eq(0));\n                    }\n                }));\n            }\n        });\n\n        function convertToMsec(value) {\n            return ((value.days || 0) * 86400000) + ((value.hours || 0) * 3600000) + ((value.minutes || 0) * 60000) + ((value.seconds || 0) * 1000) + (value.milliseconds || 0);\n        }\n\n        function getTimeParts(value) {\n            var rest;\n            var days = Math.floor(value / 86400000);\n            rest = value % 86400000;\n            var hours = Math.floor(rest / 3600000);\n            rest = value % 3600000;\n            var minutes = Math.floor(rest / 60000);\n            rest = value % 60000;\n            var seconds = Math.floor(rest / 1000);\n            rest = value % 1000;\n\n            return {\n                days: days,\n                hours: hours,\n                minutes: minutes,\n                seconds: seconds,\n                milliseconds: rest\n            };\n        }\n\n        function firstItemIndex(scrollTop, itemHeight) {\n            return Math.max(Math.round(scrollTop / itemHeight), 0);\n        }\n\n        function getItemHeight(item) {\n            return item.length && item[0].getBoundingClientRect().height;\n        }\n\n        ui.plugin(TimeSelector);\n\n    })(window.kendo.jQuery);\n\n}));\n"]}