{"version":3,"file":"kendo.dropdowntree.min.js","names":["factory","define","amd","$","undefined$1","subGroup","filter","kendo","window","ui","keys","DISABLED","SELECT","CHECKED","INDETERMINATE","TreeView","node","result","children","length","Tree","extend","init","element","options","dropdowntree","that","this","fn","call","_isMultipleSelection","wrapper","on","CLICK","_clickSelectedItem","bind","_checkOnSelect","e","isDefaultPrevented","dataItem","set","checked","_setCheckedValue","value","_click","one","currentTarget","_trigger","defaultrefresh","i","action","items","parentNode","loadOnDemand","checkChildren","checkboxes","_skip","field","level","_updateNodes","findByUid","uid","_progress","bubble","_appendItems","index","_remove","_refreshChildren","_refreshRoot","expanded","load","attr","find","trigger","_treeViewDataBound","sender","updateIndeterminate","_previousVisible","lastChild","prev","root","last","_expanded","parent","checkAll","is","filterInput","_keydown","target","key","keyCode","focused","current","checkbox","first","rtl","support","isRtl","RIGHT","LEFT","_nextVisible","hasClass","expand","collapse","_enabled","DOWN","UP","altKey","HOME","END","ENTER","SPACEBAR","prop","data","_checkboxChange","ESC","_closePopup","TAB","preventDefault","select","close","refresh","skipUpdateOnBind","_checkValue","selected","_selectValue","_dropdowntree","jQuery","html","encode","htmlEncode","Widget","ObservableArray","ObservableObject","activeElement","_activeElement","ns","HIDDENCLASS","WIDTH","browser","outerWidth","_outerWidth","DOT","READONLY","STATEDISABLED","ARIA_DISABLED","FOCUSED","HOVEREVENTS","TABINDEX","OPEN","CLOSE","CHANGE","quotRegExp","CHIP","DropDownTree","_selection","_getSelection","_focusInputHandler","_focusInput","_initial","val","_values","_noInitialValue","_isNullorUndefined","_valueMethodCalled","Array","isArray","slice","_inputTemplate","_accessors","_setTreeViewOptions","_dataSource","_initWrapper","_applyCssClasses","_placeholder","_tabindex","tree","tabIndex","list","append","_header","_noData","_footer","_reset","_popup","popup","_popupOpen","_clearButton","_filterHeader","_treeview","_renderFooter","_checkAll","_enable","_toggleCloseVisibility","autoBind","text","_textAccessor","placeholder","_preselect","parents","enable","label","_label","_aria","notify","labelOptions","isPlainObject","content","Label","widget","floatCheck","_floatCheck","_inputLabel","visible","_refreshFloatingLabel","floatingLabel","treeviewOptions","dataImageUrlField","dataSpriteCssClassField","dataTextField","dataUrlField","size","treeview","template","rootDataSource","dataSource","HierarchicalDataSource","create","wrap","_altname","MultipleSelection","SingleSelection","setDataSource","_isDataSourceSet","_tags","setValue","empty","span","show","_multipleTags","name","animation","autoClose","autoWidth","clearButton","dataValueField","delay","enabled","enforceMinLength","height","ignoreCase","messages","singleTag","clear","deleteTag","noData","minLength","noDataTemplate","checkAllTemplate","tagMode","valuePrimitive","footerTemplate","headerTemplate","valueTemplate","filterLabel","fillMode","rounded","events","focus","readonly","_editable","disable","toggle","open","_toggle","_isFilterEnabled","_search","fetch","_allowOpening","addClass","_hovered","search","word","clearTimeout","_typingTimeout","_getFilter","_filtering","operator","flatView","_renderNoData","setOptions","console","warn","css","_unwrapFloating","remove","destroy","off","_clear","tagList","unbind","_form","_resetHandler","_filter","_setValue","loweredText","toLowerCase","_selectItemByText","input","role","_activeId","guid","_ariaLabel","id","header","_angularElement","prepend","angular","elements","appendTo","instance","footer","disabled","_adjustListWidth","computedStyle","computedWidth","width","style","getComputedStyle","parseFloat","msie","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","fontFamily","minWidth","whiteSpace","formId","form","closest","setTimeout","this$1$1","Popup","anchor","_openHandler","_closeHandler","autosize","deactivate","activate","toggleClass","trim","removeAttr","_currentValue","currentValue","_value","indexOfValue","isMultiple","_level","indexOf","grep","item","_tagUid","itemToAdd","toJSON","push","hide","itemToRemove","idx","_treeViewCheckAllCheck","splice","_preventChangeTrigger","position","_updateSelectedOptions","tagName","selectedItems","_option","_text","dataValue","dataText","option","replace","_accessor","_clearClick","stopPropagation","_clearTextAndValue","_clearValue","_clearInput","_clearText","_assignInstance","assign","split","removeClass","getElements","get","getter","textField","valueField","getterFunction","count","levels","map","x","d","Math","min","_accessorInput","clearTitle","insertAfter","isReadOnly","hasValue","valueDoesNotEqualPlaceHolder","_hideClear","_showClear","_prev","_deselectItem","rootItem","subItems","_checkLoadedItems","rootItems","_valueComparer","_checkLoadedItem","_getAllChecked","_checkCheckAll","_uncheckCheckAll","checkAllCheckbox","_allItemsAreChecked","_allItemsAreUnchecked","_disableCheckChildren","title","_filterChange","insertBefore","renderCheckBox","_changeCheckAll","_keydownCheckAll","_disabledCheckedItems","_disabledUnCheckedItems","isChecked","_updateCheckAll","_toggleCheckAllItems","edge","_clickCheckAll","_dfs","_traverceChildren","_uncheckItemByUid","_uncheckItemEqualsUid","_itemEqualsText","_selectItemByValue","_itemEqualsValue","_checkItemByValue","dataItems","_checkItemEqualsValue","itemText","itemValue","newValue","_allCheckedItems","_getAllCheckedItems","_childrenOptions","schema","_checkAllCheckItem","add","dropDownWrapper","_focusinHandler","_focusoutHandler","_toggleHover","_wrapperClick","_removeTagClick","_prevent","_focused","type","preventScroll","_ie11PreventScrollOnFocus","version","_toggleResize","isFilterInputActive","isWrapperActive","tagItem","isPopupVisible","_focusPrevTag","_focusNextTag","_focusFirstTag","_focusLastTag","DELETE","_removeTag","BACKSPACE","_clearFilter","activedescendant","next","_clearDisabledTag","firstTag","lastTag","fields","lastIndex","plugin","cssProperties","registerPrefix","registerValues","values","roundedValues","concat","Class","view","_wrapper","_span","DOMelement","cssText","className","accesskey","unselectable","SELECTOR","renderButton","icon","shape","_arrow","_arrowIcon","selectedNode","dropdowntreeHasValue","triggerChange","tempItem","_tagTemplate","_tagList","valueToSelect","tagTemplate","renderChip","themeColor","removable","removeIcon","removableAttr","tagCollection","renderChipList","viewModel","observable","multipleTag","tags","oldValues","_removeValues","removedValues","_getNewValues","j","tagsArray","_findTag","tempItemValue"],"sources":["kendo.dropdowntree.js"],"mappings":"CAAA,SAAWA,GACW,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,qBAAsB,kBAAmB,mBAAoB,sBAAuB,0BAA2B,wBAAyB,uBAAwB,mBAAoBD,GACzOA,IAFJ,EAGG,YACC,SAAUG,EAAGC,GAET,IAWIC,EAGsBC,EAdtBC,EAAQC,OAAOD,MACfE,EAAKF,EAAME,GACXC,EAAOH,EAAMG,KACbC,EAAW,aACXC,EAAS,SACTC,EAAU,UAIVC,EAAgB,gBAGhBC,EAAWN,EAAGM,SAEQT,EAYE,WAAxBD,EAXW,SAASW,GACZ,IAAIC,EAASD,EAAKE,SAAS,0BAM3B,OAJKD,EAAOE,SACRF,EAASD,GAGNC,EAAOC,SAASZ,IAMnC,IAAIc,EAAOL,EAASM,OAAO,CACvBC,KAAM,SAASC,EAASC,EAASC,GAC7B,IAAIC,EAAOC,KAEXD,EAAKD,aAAeA,EAEpBV,EAASa,GAAGN,KAAKO,KAAKH,EAAMH,EAASC,GACjCE,EAAKD,aAAaK,wBAClBJ,EAAKK,QAAQC,GAAGC,sBAAY,mBAAoBP,EAAKQ,mBAAmBC,KAAKT,KAIrFU,eAAgB,SAASC,GACrB,IAAKA,EAAEC,qBAAsB,CACzB,IAAIC,EAAWZ,KAAKY,SAASF,EAAErB,MAE/BuB,EAASC,IAAI,WAAYD,EAASE,WAI1CC,iBAAkB,SAAS1B,EAAM2B,GAC7B3B,EAAKwB,IAAI3B,EAAS8B,IAGtBC,OAAQ,SAASP,GACb,IAAIX,EAAOC,KAEPD,EAAKD,aAAaK,wBAClBJ,EAAKmB,IAAI,SAAUnB,EAAKU,gBAE5BrB,EAASa,GAAGgB,OAAOf,KAAKH,EAAMW,IAGlCH,mBAAoB,SAASG,GACzB,IAAIX,EAAOC,KACXX,EAAOb,EAAEkC,EAAES,eAEXpB,EAAKmB,IAAI,SAAUnB,EAAKU,gBACnBV,EAAKqB,SAASnC,EAAQI,IACvBU,EAAKa,SAASvB,GAAMwB,IAAI,YAAY,IAI5CQ,eAAgB,SAASX,GACrB,IAQIY,EAPAjC,EAAOqB,EAAErB,KACTkC,EAASb,EAAEa,OACXC,EAAQd,EAAEc,MACVC,EAAazB,KAAKI,QAClBP,EAAUG,KAAKH,QACf6B,EAAe7B,EAAQ6B,aACvBC,EAAgB9B,EAAQ+B,YAAc/B,EAAQ+B,WAAWD,cAG7D,IAAI3B,KAAK6B,MAAT,CAIA,GAAInB,EAAEoB,MAAO,CACT,IAAKN,EAAM,KAAOA,EAAM,GAAGO,MACvB,OAGJ,OAAO/B,KAAKgC,aAAaR,EAAOd,EAAEoB,OAQtC,GALIzC,IACAoC,EAAazB,KAAKiC,UAAU5C,EAAK6C,KACjClC,KAAKmC,UAAUV,GAAY,IAG3BE,GAA2B,UAAVJ,EAAoB,CACrC,IAAIa,GAAS,EAEb,IAAKd,EAAI,EAAGA,EAAIE,EAAMhC,OAAQ8B,IAC1B,GAAI,YAAaE,EAAMF,GAAI,CACvBc,GAAS,EACT,MAIR,IAAKA,GAAU/C,GAAQA,EAAKyB,QACxB,IAAKQ,EAAI,EAAGA,EAAIE,EAAMhC,OAAQ8B,IAC1BE,EAAMF,GAAGR,SAAU,EAiB/B,GAZc,OAAVS,EACAvB,KAAKqC,aAAa3B,EAAE4B,MAAOd,EAAOC,GACjB,UAAVF,EACPvB,KAAKuC,QAAQvC,KAAKiC,UAAUT,EAAM,GAAGU,MAAM,GAC1B,cAAVX,EACPvB,KAAKgC,aAAaR,GACD,cAAVD,EACPvB,KAAKwC,iBAAiBf,EAAYD,EAAOd,EAAE4B,OAE3CtC,KAAKyC,aAAajB,GAGR,UAAVD,EACA,IAAKD,EAAI,EAAGA,EAAIE,EAAMhC,OAAQ8B,IACrBI,IAAgBF,EAAMF,GAAGoB,UAC1BlB,EAAMF,GAAGqB,OA3DV3C,KAgENI,QAAQwC,KAAK,OAAQ,QAhEf5C,KAiENI,QAAQyC,KAAK,OAAOD,KAAK,OAAQ,QAEtC5C,KAAK8C,QArIG,YAqIgB,CAAEzD,KAAMA,EAAOoC,EAAahD,IACpDuB,KAAKF,aAAaiD,mBAAmB,CAAE1D,KAAMA,EAAOoC,EAAahD,EAAauE,OAAQhD,OAClFA,KAAKH,QAAQ+B,WAAWD,eACxB3B,KAAKiD,wBAIbC,iBAAkB,SAAS7D,GACvB,IACI8D,EACA7D,EAFAS,EAAOC,KAIX,IAAKX,EAAKG,QAAUH,EAAK+D,OAAO5D,OAO5B,IALIF,EADAD,EAAKG,OACIH,EAAK+D,OAELrD,EAAKsD,KAAK9D,WAAW+D,OAG3BvD,EAAKwD,UAAUjE,KAClB6D,EAAYzE,EAASY,GAAQC,WAAW+D,QAEzB9D,QAIfF,EAAS6D,OAGb7D,EAASS,EAAKyD,OAAOnE,IAASA,GAElBG,SACJO,EAAKD,aAAa2D,UAAY1D,EAAKD,aAAa2D,SAASC,GAAG,YAC5D3D,EAAKD,aAAa2D,SAASZ,KAAK,eAAeC,QAAQ,SAChD/C,EAAKD,aAAa6D,YACzB5D,EAAKD,aAAa6D,YAAYb,QAAQ,SAEtC/C,EAAKD,aAAaM,QAAQ0C,QAAQ,UAK9C,OAAOxD,GAGXsE,SAAU,SAASlD,GACf,IAEImD,EAFA9D,EAAOC,KACP8D,EAAMpD,EAAEqD,QAERC,EAAUjE,EAAKkE,UACfvB,EAAW3C,EAAKwD,UAAUS,GAC1BE,EAAWF,EAAQnB,KAAK,uBAAuBsB,QAAQtB,KAAK,aAC5DuB,EAAMxF,EAAMyF,QAAQC,MAAMvE,EAAKH,SAE/Bc,EAAEmD,QAAUnD,EAAES,iBAIZiD,GAAON,GAAO/E,EAAKwF,OAAWH,GAAON,GAAO/E,EAAKyF,KAC/C9B,EACAmB,EAAS9D,EAAK0E,aAAaT,GACnBA,EAAQnB,KAAK,SAASsB,QAAQO,SAAS1F,IAC/Ce,EAAK4E,OAAOX,IAEPI,GAAON,GAAO/E,EAAKyF,MAAUJ,GAAON,GAAO/E,EAAKwF,MACrD7B,IAAasB,EAAQnB,KAAK,SAASsB,QAAQO,SAAS1F,GACpDe,EAAK6E,SAASZ,IAEdH,EAAS9D,EAAKyD,OAAOQ,GAEhBjE,EAAK8E,SAAShB,KACfA,EAASpF,IAGVqF,GAAO/E,EAAK+F,KACnBjB,EAAS9D,EAAK0E,aAAaT,GACpBF,GAAO/E,EAAKgG,IAAOrE,EAAEsE,OAErBlB,GAAO/E,EAAKkG,KACnBpB,EAAS9D,EAAK0E,aAAajG,KACpBsF,GAAO/E,EAAKmG,IACnBrB,EAAS9D,EAAKmD,iBAAiB1E,KACxBsF,GAAO/E,EAAKoG,OAAUnB,EAAQnB,KAAK,SAASsB,QAAQO,SAAS1F,GAM7D8E,GAAO/E,EAAKqG,UAAYlB,EAAS1E,SAAWwE,EAAQnB,KAAK,SAASsB,QAAQO,SAAS1F,IAC1FkF,EAASmB,KAAKnG,GAAUgF,EAASmB,KAAKnG,IACjCoG,KAAKnG,GAAe,GACpBkG,KAAKlG,GAAe,GAEzBY,EAAKwF,gBAAgB,CAAE1B,OAAQK,IAE/BL,EAASG,GACDtD,EAAEsE,QAAUlB,IAAQ/E,EAAKgG,IAAOjB,IAAQ/E,EAAKyG,IACrDzF,EAAK0F,cACG3B,IAAQ/E,EAAK2G,MACrBhF,EAAEiF,iBACF5F,EAAK0F,eAjBAzB,EAAQnB,KAAK,SAASsB,QAAQO,SAAS,eACnC3E,EAAKqB,SAASnC,EAAQ+E,IACvBjE,EAAK6F,OAAO5B,GARpBH,EAAS9D,EAAKmD,iBAAiBc,GA0B/BH,IACAnD,EAAEiF,iBAEE3B,EAAQ,IAAMH,EAAO,KACrB9D,EAAKqB,SA5ON,WA4OyByC,GACxB9D,EAAKkE,QAAQJ,OAKzB4B,YAAa,WACTzF,KAAKF,aAAa+F,QAClB7F,KAAKF,aAAaM,QAAQ0C,QAAQ,UAGtCgD,QAAS,SAASpF,GACdV,KAAKqB,eAAeX,GAEhBV,KAAKF,aAAaD,QAAQkG,mBAIb,eAAbrF,EAAEa,OACEvB,KAAKF,aAAaK,uBACF,YAAZO,EAAEoB,OACF9B,KAAKF,aAAakG,YAAYtF,EAAEc,MAAM,IAG1B,YAAZd,EAAEoB,OAAmC,aAAZpB,EAAEoB,OAAwBpB,EAAEc,MAAM,GAAGyE,UAC9DjG,KAAKF,aAAaoG,aAAaxF,EAAEc,MAAM,IAI/CxB,KAAKF,aAAagG,QAAQpF,OAMtC9B,EAAME,GAAGqH,cAAgB1G,EA3R7B,CA6RGZ,OAAOD,MAAMwH,SAUhB,SAAU5H,EAAGC,GACT,IAAIG,EAAQC,OAAOD,MACfE,EAAKF,EAAME,GACXuH,EAAOzH,EAAMyH,KACbC,EAAS1H,EAAM2H,WACfC,EAAS1H,EAAG0H,OACZpH,EAAWN,EAAGqH,cACdM,EAAkB7H,EAAM0G,KAAKmB,gBAC7BC,EAAmB9H,EAAM0G,KAAKoB,iBAC9BhH,EAASlB,EAAEkB,OACXiH,EAAgB/H,EAAMgI,eACtBC,EAAK,qBACL9H,EAAOH,EAAMG,KACbsF,EAAUzF,EAAMyF,QAChByC,EAAc,WACdC,EAAQ,QACRC,EAAU3C,EAAQ2C,QAClBC,EAAarI,EAAMsI,YACnBC,EAAM,IACNnI,EAAW,WACXoI,EAAW,WACXC,EAAgB,aAChBC,EAAgB,gBAEhBC,EAAU,UACVC,EAAc,aAAeX,EAAK,cAAgBA,EAClDY,EAAW,WACXnH,EAAQ,QACRoH,EAAO,OACPC,EAAQ,QACRC,EAAS,SACTC,EAAa,KAEbC,EAAO,UAEPC,EAAenJ,EAAME,GAAG0H,OAAO9G,OAAQ,CACvCC,KAAM,SAASC,EAASC,GACpBG,KAAK6G,GAAKA,EAEVjI,EAAME,GAAG0H,OAAOvG,GAAGN,KAAKO,KAAKF,KAAMJ,EAASC,GAC5CG,KAAKgI,WAAahI,KAAKiI,gBACvBjI,KAAKkI,mBAAqBlI,KAAKmI,YAAY3H,KAAKR,MAChDA,KAAKoI,SAAWpI,KAAKJ,QAAQyI,MAE7BrI,KAAKsI,QAAU,GAEf,IAAItH,EAAQhB,KAAKH,QAAQmB,MA+CzB,GA7Cc,OAAVA,GAAmBA,EAAMxB,SACzBQ,KAAKuI,iBAAkB,GAGtBvI,KAAKwI,mBAAmBxH,KACzBhB,KAAKyI,oBAAqB,EAC1BzI,KAAKsI,QAAUI,MAAMC,QAAQ3H,GAASA,EAAM4H,MAAM,GAAK,CAAC5H,IAG5DhB,KAAK6I,iBAEL7I,KAAK8I,aACL9I,KAAK+I,oBAAoB/I,KAAKH,SAC9BG,KAAKgJ,cACLhJ,KAAKgI,WAAWiB,eAChBjJ,KAAKkJ,mBACLlJ,KAAKmJ,cAAa,GAClBnJ,KAAKoJ,YACLpJ,KAAKI,QAAQkF,KAAKmC,EAAUzH,KAAKI,QAAQwC,KAAK6E,IAE9CzH,KAAKqJ,KAAO7K,EAAE,UACboE,KAAK,CACF0G,UAAW,EACX,eAAe,IAGnBtJ,KAAKuJ,KAAO/K,EAAE,mCACTgL,OAAOxJ,KAAKqJ,MAEjBrJ,KAAKyJ,UACLzJ,KAAK0J,UACL1J,KAAK2J,UACL3J,KAAK4J,SACL5J,KAAK6J,SACL7J,KAAK8J,MAAM5I,IAAI,OAAQlB,KAAK+J,WAAWvJ,KAAKR,OAC5CA,KAAKgK,eACLhK,KAAKiK,gBACLjK,KAAKkK,YAELlK,KAAKmK,gBAELnK,KAAKoK,YACLpK,KAAKqK,UACLrK,KAAKsK,0BAEAtK,KAAKH,QAAQ0K,SAAU,CACxB,IAAIC,EAAO3K,EAAQ2K,MAAQ,GACtBxK,KAAKwI,mBAAmB3I,EAAQmB,OAE1BwJ,EACPxK,KAAKyK,cAAcD,GACZ3K,EAAQ6K,aACf1K,KAAKmJ,cAAa,GAJlBnJ,KAAK2K,WAAW9K,EAAQmB,OAQjBxC,EAAEwB,KAAKJ,SAASgL,QAAQ,YAAYlH,GAAG,cAGlD1D,KAAK6K,QAAO,GAEhB7K,KAAKyI,oBAAqB,EAEtBzI,KAAKH,QAAQiL,OACb9K,KAAK+K,SAGT/K,KAAKgL,QAELpM,EAAMqM,OAAOjL,OAGjB+K,OAAQ,WACJ,IAAIhL,EAAOC,KACPH,EAAUE,EAAKF,QACfqL,EAAe1M,EAAE2M,cAActL,EAAQiL,OAASjL,EAAQiL,MAAQ,CAChEM,QAASvL,EAAQiL,OAGrB/K,EAAK+K,MAAQ,IAAIlM,EAAME,GAAGuM,MAAM,KAAM7M,EAAEkB,OAAO,GAAIwL,EAAc,CAC7DI,OAAQvL,EACRwL,WAAYxL,EAAKyL,YAAYhL,KAAKT,MAGtCA,EAAK0L,YAAc1L,EAAK+K,MAAMlL,SAGlC4L,YAAa,WAET,QADgBxL,KAAKgB,UAAYhB,KAAKG,wBAA2BH,KAAKgB,QAAQxB,QAAUQ,KAAKwK,UACxExK,KAAK8J,MAAM4B,WAGpCC,sBAAuB,WACnB,IAAI5L,EAAOC,KAEPD,EAAK+K,OAAS/K,EAAK+K,MAAMc,eACzB7L,EAAK+K,MAAMc,cAAc9F,WAIjC6E,WAAY,SAASrF,EAAMtE,GACvBhB,KAAKgI,WAAW2C,WAAWrF,EAAMtE,IAGrC+H,oBAAqB,SAASlJ,GAC1B,IAAIgM,EAAkB,CAClBtB,SAAU1K,EAAQ0K,SAClB3I,WAAY/B,EAAQ+B,WACpBkK,kBAAmBjM,EAAQiM,kBAC3BC,wBAAyBlM,EAAQkM,wBACjCC,cAAenM,EAAQmM,cACvBC,aAAcpM,EAAQoM,aACtBvK,aAAc7B,EAAQ6B,aACtBwK,KAAMrM,EAAQqM,MAGlBlM,KAAKH,QAAQsM,SAAW3N,EAAEkB,OAAO,GAAImM,EAAiB7L,KAAKH,QAAQsM,UAE/DtM,EAAQuM,WACRpM,KAAKH,QAAQsM,SAASC,SAAWvM,EAAQuM,UAGzCvM,EAAQqM,OACRlM,KAAKH,QAAQsM,SAASD,KAAOrM,EAAQqM,OAI7ClD,YAAa,WACT,IAAIqD,EAAiBrM,KAAKH,QAAQyM,WAElCtM,KAAKsM,WAAa1N,EAAM0G,KAAKiH,uBAAuBC,OAAOH,GACvDA,GACA7N,EAAEkB,OAAOM,KAAKH,QAAQsM,SAAS,CAC3BG,WAAYtM,KAAKsM,cAK7BvC,WAAY,WACR,IAAID,EAAQ9J,KAAK8J,MACjBA,EAAM1J,QAAUxB,EAAM6N,KAAK3C,EAAMlK,UAGrCqI,cAAe,WACX,OAAIjI,KAAKG,wBACLH,KAAKH,QAAQ6M,SAAW,0BACjB,IAAI5N,EAAGiJ,aAAa4E,kBAAkB3M,OAEtC,IAAIlB,EAAGiJ,aAAa6E,gBAAgB5M,OAInD6M,cAAe,SAASP,GACpBtM,KAAK8M,kBAAmB,EACpB9M,KAAK+M,QACL/M,KAAKuI,iBAAkB,EACvBvI,KAAKgN,SAAS,IACdhN,KAAK+M,MAAME,QACXjN,KAAKkN,KAAKC,OACVnN,KAAKoN,cAAcH,SAEvBjN,KAAKsM,WAAaA,EAClBtM,KAAKmM,SAASU,cAAcP,GAC5BtM,KAAK8M,kBAAmB,GAG5B3M,qBAAsB,WAClB,OAAOH,KAAKH,UAAYG,KAAKH,QAAQsM,SAASvK,YAAc5B,KAAKH,QAAQ+B,aAG7E/B,QAAS,CACLwN,KAAM,eACNC,UAAW,GACX/C,UAAU,EACVgD,WAAW,EACXC,WAAW,EACXC,aAAa,EACbzB,cAAe,GACf0B,eAAgB,GAChB5B,kBAAmB,GACnBC,wBAAyB,GACzBE,aAAc,GACd0B,MAAO,IACPC,SAAS,EACTC,kBAAkB,EAClBlP,OAAQ,OACRmP,OAAQ,IACRC,YAAY,EACZzL,MAAO,EACPZ,cAAc,EACdsM,SAAU,CACNC,UAAa,mBACbC,MAAS,QACTC,UAAa,SACbC,OAAU,WAAc,MAAO,mBAEnCC,UAAW,EACXzM,YAAY,EACZ0M,gBAAgB,EAChB5D,YAAa,GACbjH,UAAU,EACV8K,iBAAkB,WAAc,MAAO,aACvCC,QAAS,WACTpC,SAAU,KACV5B,KAAM,KACN2B,SAAU,GACVsC,gBAAgB,EAChBC,eAAgB,WAAc,MAAO,IACrCC,eAAgB,WAAc,MAAO,IACrC3N,MAAO,KACP4N,cAAe,KACf9E,MAAO,KACP+E,YAAa,KACb3C,KAAM,SACN4C,SAAU,QACVC,QAAS,SACTjE,MAAO,MAGXkE,OAAQ,CACJ,OACA,QACA,YACApH,EACA,SACA,aAGJqH,MAAO,WACHjP,KAAKI,QAAQ0C,QAAQ,UAGzBlC,SAAU,SAASvB,GACf,OAAOW,KAAKmM,SAASvL,SAASvB,IAGlC6P,SAAU,SAASA,GACflP,KAAKmP,UAAU,CACXD,SAAUA,IAAazQ,GAAqByQ,EAC5CE,SAAS,IAEbpP,KAAKsK,yBAEDtK,KAAK8K,OAAS9K,KAAK8K,MAAMc,eACzB5L,KAAK8K,MAAMc,cAAcsD,SAASA,IAAazQ,GAAqByQ,IAI5ErE,OAAQ,SAASA,GACb7K,KAAKmP,UAAU,CACXD,UAAU,EACVE,UAAWvE,EAASA,IAAWpM,GAAqBoM,KAExD7K,KAAKsK,yBAEDtK,KAAK8K,OAAS9K,KAAK8K,MAAMc,eACzB5L,KAAK8K,MAAMc,cAAcf,OAAOA,EAASA,IAAWpM,GAAqBoM,IAIjFwE,OAAQ,SAASC,GACbtP,KAAKuP,QAAQD,IAGjBA,KAAM,WACF,IAAIxF,EAAQ9J,KAAK8J,MAEZ9J,KAAKH,QAAQ0K,UAAavK,KAAKsM,WAAWhH,OAAO9F,SAClDQ,KAAKmM,SAAShK,WAAU,GACpBnC,KAAKwP,mBACLxP,KAAKyP,UAELzP,KAAKsM,WAAWoD,UAIpB5F,EAAM4B,WAAc1L,KAAK2P,kBAIzB3P,KAAKG,wBACL2J,EAAMlK,QAAQgQ,SAAS,wBAE3B9F,EAAMlK,QAAQgQ,SAAS,wBAEvB9F,EAAM5I,IAAI,WAAYlB,KAAKkI,oBAC3B4B,EAAM+F,UAAW,EACjB/F,EAAMwF,SAGVzJ,MAAO,WACH7F,KAAK8J,MAAMjE,SAGfiK,OAAQ,SAASC,GACb,IACIpR,EADAkB,EAAUG,KAAKH,QAInB,GAFAmQ,aAAahQ,KAAKiQ,iBAEZpQ,EAAQgO,mBAAqBkC,EAAKvQ,QAAWuQ,EAAKvQ,QAAUK,EAAQwO,UAAW,CAEjF,GADA1P,EAASqB,KAAKkQ,WAAWH,GACrB/P,KAAK8C,QAAQ,YAAa,CAAEnE,OAAQA,KACvC+J,MAAMC,QAAQ3I,KAAKH,QAAQmM,eACxB,OAGJhM,KAAKmQ,YAAa,EAClBnQ,KAAKmM,SAASG,WAAW3N,OAAOA,KAIxCuR,WAAY,SAASH,GACjB,MAAO,CACHjO,MAAO9B,KAAKH,QAAQmM,cACpBoE,SAAUpQ,KAAKH,QAAQlB,OACvBqC,MAAO+O,EACPhC,WAAY/N,KAAKH,QAAQkO,aAIjCjI,QAAS,WACL,IAAIR,EAAOtF,KAAKmM,SAASG,WAAW+D,WACpCrQ,KAAKmK,gBACLnK,KAAKsQ,gBACDtQ,KAAK2D,aAAe3D,KAAKyD,UACzBzD,KAAKyD,SAAS4L,QAAQrP,KAAK2D,YAAY0E,MAAM7I,QAGjDQ,KAAKqJ,KAAKgG,SAAS/J,EAAK9F,QACxBhB,EAAEwB,KAAKoO,QAAQiB,QAAQ/J,EAAK9F,SAGhC+Q,WAAY,SAAS1Q,GACbG,KAAKH,QAAQ+B,YAAc/B,EAAQ+B,oBAC5B/B,EAAQ+B,WACf/C,OAAO2R,QAAQC,KAAK,mFAGxBjK,EAAOvG,GAAGsQ,WAAWrQ,KAAKF,KAAMH,GAEhCG,KAAK+I,oBAAoBlJ,GACzBG,KAAKgJ,eACDhJ,KAAKH,QAAQsM,UAAYtM,EAAQqM,OACjClM,KAAKmM,SAASoE,WAAWvQ,KAAKH,QAAQsM,UAGtCtM,EAAQiO,QAAU9N,KAAKqJ,MACvBrJ,KAAKqJ,KAAKqH,IAAI,aAAc7Q,EAAQiO,QAGxC9N,KAAKyJ,UACLzJ,KAAK0J,UACL1J,KAAK2J,UAEL3J,KAAKmK,gBACLnK,KAAKsQ,gBACDtQ,KAAKkN,OAASlN,KAAKG,wBAA0BH,KAAKkN,KAAKxI,SAAS,gBAChE1E,KAAKmJ,cAAa,GAEtBnJ,KAAK6I,iBACL7I,KAAK8I,aACL9I,KAAKiK,gBACLjK,KAAKoK,YACLpK,KAAKqK,UACDxK,IAAYA,EAAQgL,QAAUhL,EAAQ+N,UACtC5N,KAAK6K,QAAO,GAEhB7K,KAAKgK,eAEDnK,IAAYpB,GAA2B,OAAZoB,IAC3BA,EAAU,IAGVA,EAAQiL,OAAS9K,KAAKyL,YACtBzL,KAAK8K,MAAMyF,WAAW1Q,EAAQiL,QACL,IAAlBjL,EAAQiL,OACf9K,KAAK8K,MAAM6F,kBACX3Q,KAAKyL,YAAYmF,gBACV5Q,KAAKyL,aACL5L,EAAQiL,OACf9K,KAAK+K,UAIb8F,QAAS,WACLjS,EAAME,GAAG0H,OAAOvG,GAAG4Q,QAAQ3Q,KAAKF,MAC5BA,KAAKmM,UACLnM,KAAKmM,SAAS0E,UAElB7Q,KAAK8J,MAAM+G,UAEX7Q,KAAKI,QAAQ0Q,IAAIjK,GACjB7G,KAAK+Q,OAAOD,IAAIjK,GACZ7G,KAAK2D,aACL3D,KAAK2D,YAAYmN,IAAIjK,GAGrB7G,KAAKgR,SACLhR,KAAKgR,QAAQF,IAAIjK,GAGrBjI,EAAMqS,OAAOjR,KAAKgR,SACdhR,KAAKH,QAAQ4D,UAAYzD,KAAKyD,UAC9BzD,KAAKyD,SAASqN,IAAIjK,GAGlB7G,KAAKkR,OACLlR,KAAKkR,MAAMJ,IAAI,QAAS9Q,KAAKmR,eAG7BnR,KAAK8K,OACL9K,KAAK8K,MAAM+F,WAInB7D,SAAU,SAAShM,GACfA,EAAQ0H,MAAMC,QAAQ3H,IAAUA,aAAiByF,EAAkBzF,EAAM4H,MAAM,GAAK,CAAC5H,GAErFhB,KAAKsI,QAAUtH,GAGnBQ,MAAO,WACH,OAAOxB,KAAKmM,SAAS3K,SAGzBR,MAAO,SAASA,GACZ,IAAIjB,EAAOC,KAEX,GAAIgB,EACA,GAAIjB,EAAK4D,aAAe5D,EAAKuM,WAAW8E,QACpCrR,EAAKoQ,YAAa,EAClBpQ,EAAKuM,WAAW3N,OAAO,SACpB,IAAKoB,EAAKuM,WAAWhH,OAAO9F,SAAWO,EAAKoM,SAASG,WAAWhH,OAAO9F,OAe1E,YAdKO,EAAKF,QAAQ6B,aASd3B,EAAKuM,WAAWoD,OAAM,WAClB3P,EAAKiI,WAAWqJ,UAAUrQ,OAT9BjB,EAAKoM,SAASjL,IAAI,iBAAiB,WAC/BnB,EAAKiI,WAAWqJ,UAAUrQ,OAGzBjB,EAAKF,QAAQ0K,UAAYxK,EAAKF,QAAQ4O,gBACvC1O,EAAKuM,WAAWoD,UAYhC,OAAO3P,EAAKiI,WAAWqJ,UAAUrQ,IAGrCwJ,KAAM,SAASA,GACX,IAAI8G,EACAvD,EAAa/N,KAAKH,QAAQkO,WAI9B,IAFAvD,EAAgB,OAATA,EAAgB,GAAKA,KAEf/L,GAAgBuB,KAAKG,uBAa9B,OAAOH,KAAKyK,gBAZQ,iBAATD,GAKX8G,EAAcvD,EAAavD,EAAOA,EAAK+G,cAEvCvR,KAAKwR,kBAAkBF,GAEvBtR,KAAKyK,cAAc6G,GACnBtR,KAAK2L,yBATD3L,KAAKyK,cAAcD,IAgB/BQ,MAAO,WACH,IAAIyG,EAAQzR,KAAKI,QAAQyC,KAAK,sBAE9B7C,KAAKI,QAAQwC,KAAK,CACd,gBAAiB,OACjB,iBAAiB,EACjB,gBAAiB5C,KAAKmM,SAASvM,QAAQgD,KAAK,MAC5C8O,KAAQ,YAGZ1R,KAAK2R,UAAY/S,EAAMgT,OACvB5R,KAAK6R,WAAW7R,KAAKI,SAEjBJ,KAAK2D,aAAe3D,KAAKH,QAAQgP,aACjC7O,KAAK2D,YAAYf,KAAK,aAAc5C,KAAKH,QAAQgP,cAGhD7O,KAAKH,QAAQ+B,YAAc6P,EAAMjH,OAAOhL,QACzCiS,EAAM7O,KAAK,OAAQ,UACnB6O,EAAM7O,KAAK,gBAAiB,QAC5B6O,EAAM7O,KAAK,KAAM5C,KAAK2R,WAEtB3R,KAAKI,QAAQwC,KAAK,wBAAyB5C,KAAK2R,YACzC3R,KAAKH,QAAQ+B,aACpB5B,KAAKI,QAAQwC,KAAK,CACd,wBAAwB,EACxB,mBAAoB5C,KAAKgR,QAAQ,GAAGc,KAGxC9R,KAAKgR,QAAQpO,KAAK,OAAQ,UAIlC6G,QAAS,WACL,IAAIF,EAAOvJ,KACP+R,EAASvT,EAAE+K,EAAKwI,QAChB3F,EAAW7C,EAAK1J,QAAQ8O,eAM5B,GAJA3O,KAAKgS,gBAAgBD,EAAQ,WAC7BnT,EAAMiS,QAAQkB,GACdA,EAAOnB,SAEFxE,EAAL,CAKA,IAAIuC,EAAqC,mBAAbvC,EAA0BxN,EAAMwN,SAASA,GAAYA,EACjF2F,EAASvT,EAAEmQ,EAAe,KAE1BpF,EAAKwI,OAASA,EAAO,GAAKA,EAAS,KACnCxI,EAAKA,KAAK0I,QAAQF,GAElB/R,KAAKgS,gBAAgBzI,EAAKwI,OAAQ,gBAV9BxI,EAAKwI,OAAS,MAatBrI,QAAS,WACL,IAAIH,EAAOvJ,KACPoO,EAAS5P,EAAE+K,EAAK6E,QAChBhC,GAA2C,IAAhC7C,EAAK1J,QAAQyO,eAA0B/E,EAAK1J,QAAQmO,SAASI,OAAS7E,EAAK1J,QAAQyO,eAElG/E,EAAK2I,QAAQ,WAAW,WAAa,MAAO,CAAEC,SAAU/D,MACxDxP,EAAMiS,QAAQzC,GACdA,EAAOwC,SAEFxE,GAKL7C,EAAK6E,OAAS5P,EAAE,wDAAwD4T,SAAS7I,EAAKA,MACtFA,EAAK+E,eAAqC,mBAAblC,EAA0BxN,EAAMwN,SAASA,GAAYA,GAL9E7C,EAAK6E,OAAS,MAQtBkC,cAAe,WACX,IAAI/G,EAAOvJ,KACPoO,EAAS7E,EAAK6E,OAEbA,IAILpO,KAAKgS,gBAAgB5D,EAAQ,WAC7BA,EAAO/H,KAAKkD,EAAK+E,eAAe,CAAE+D,SAAU9I,KAC5CvJ,KAAKgS,gBAAgB5D,EAAQ,aAGjCzE,QAAS,WACL,IAAIJ,EAAOvJ,KACPsS,EAAS9T,EAAE+K,EAAK+I,QAChBlG,EAAW7C,EAAK1J,QAAQ6O,eAE5B1O,KAAKgS,gBAAgBM,EAAQ,WAC7B1T,EAAMiS,QAAQyB,GACdA,EAAO1B,SAEFxE,GAKL7C,EAAK+I,OAAS9T,EAAE,gCAAgC4T,SAAS7I,EAAKA,MAC9DA,EAAKmF,eAAqC,mBAAbtC,EAA0BxN,EAAMwN,SAASA,GAAYA,GAL9E7C,EAAK+I,OAAS,MAQtBnI,cAAe,WACX,IAAIZ,EAAOvJ,KACPsS,EAAS/I,EAAK+I,OAEbA,IAILtS,KAAKgS,gBAAgBM,EAAQ,WAC7BA,EAAOjM,KAAKkD,EAAKmF,eAAe,CAAE2D,SAAU9I,KAC5CvJ,KAAKgS,gBAAgBM,EAAQ,aAGjCjI,QAAS,WACL,IAAItK,EAAOC,KACPH,EAAUE,EAAKF,QACf0S,EAAWxS,EAAKH,QAAQ8D,GAAG,cAE3B7D,EAAQgL,SAAWpM,IACnBoB,EAAQ+N,QAAU/N,EAAQgL,SAGzBhL,EAAQ+N,SAAW2E,EACpBxS,EAAK8K,QAAO,GAEZ9K,EAAKmP,SAASnP,EAAKH,QAAQ8D,GAAG,gBAItC8O,iBAAkB,WACd,IAIIC,EAAeC,EAJf3S,EAAOC,KACPuJ,EAAOxJ,EAAKwJ,KACZoJ,EAAQpJ,EAAK,GAAGqJ,MAAMD,MACtBvS,EAAUL,EAAKK,QAGnB,GAAKmJ,EAAKjE,KAAKyB,KAAU4L,EAyBzB,OArBAF,EAAgB5T,OAAOgU,iBAAmBhU,OAAOgU,iBAAiBzS,EAAQ,GAAI,MAAQ,EACtFsS,EAAgBI,WAAWL,GAAiBA,EAAcE,QAAU1L,EAAW7G,GAE3EqS,GAAiBzL,EAAQ+L,OACzBL,GAAiBI,WAAWL,EAAcO,aAAeF,WAAWL,EAAcQ,cAAgBH,WAAWL,EAAcS,iBAAmBJ,WAAWL,EAAcU,mBAIvKR,EAD2B,eAA3BpJ,EAAKmH,IAAI,cACDgC,GAAiBzL,EAAWsC,GAAQA,EAAKoJ,SAEzCD,EAGZnJ,EAAKmH,IAAI,CACL0C,WAAYhT,EAAQsQ,IAAI,eACxBiC,MAAO5S,EAAKF,QAAQ2N,UAAY,OAASmF,EACzCU,SAAUV,EACVW,WAAYvT,EAAKF,QAAQ2N,UAAY,SAAW,WAEnDlI,KAAKyB,EAAO4L,IAEN,GAGX/I,OAAQ,WACJ,IAAI7J,EAAOC,KACPJ,EAAUG,EAAKH,QACf2T,EAAS3T,EAAQgD,KAAK,QACtB4Q,EAAOD,EAAS/U,EAAE,IAAM+U,GAAU3T,EAAQ6T,QAAQ,QAElDD,EAAK,KACLzT,EAAKoR,cAAgB,WACjBuC,YAAW,WACP3T,EAAKiB,MAAMjB,EAAKqI,cAIxBrI,EAAKmR,MAAQsC,EAAKnT,GAAG,QAASN,EAAKoR,iBAI3CtH,OAAQ,WACJ,IAAI8J,EAAW3T,KAEXuJ,EAAOvJ,KAEPuJ,EAAK1J,QAAQ+B,YAAc2H,EAAK1J,QAAQ4D,UACxC8F,EAAKA,KAAK3G,KAAK,OAAQ,eAG3B2G,EAAKO,MAAQ,IAAIhL,EAAG8U,MAAMrK,EAAKA,KAAM7J,EAAO,GAAI6J,EAAK1J,QAAQiK,MAAO,CAChE+J,OAAQtK,EAAKnJ,QACbkP,KAAM/F,EAAKuK,aAAatT,KAAK+I,GAC7B1D,MAAO0D,EAAKwK,cAAcvT,KAAK+I,GAC/B+D,UAAW/D,EAAK1J,QAAQyN,UACxBhJ,MAAOD,EAAQC,MAAMiF,EAAKnJ,SAC1B4T,SAAUzK,EAAK1J,QAAQ2N,UACvByG,WAAY,WACRN,EAAShI,yBAEbuI,SAAU,WACNP,EAAShI,6BAKrBqG,gBAAiB,SAASpS,EAAS2B,GAC1B3B,GAILI,KAAKkS,QAAQ3Q,GAAQ,WACjB,MAAO,CAAE4Q,SAAUvS,OAI3B+P,cAAe,WACX,OAAO3P,KAAKH,QAAQyO,gBAAkBtO,KAAKmM,SAASG,WAAW+D,WAAW7Q,QAG9E2J,aAAc,SAASgE,GACfnN,KAAKkN,MACLlN,KAAKkN,KAAKiH,YAAY,aAAchH,GAAM3C,KAAK2C,EAAOnN,KAAKH,QAAQ6K,YAAc,IAGjF1K,KAAKkN,KAAK1C,OAAO4J,OAAO5U,OAAS,EACjCQ,KAAKkN,KAAK1J,SAASZ,KAAK,CACpB8O,KAAM,SACN,iBAAiB,KAGrB1R,KAAKkN,KAAK1J,SAAS6Q,WAAW,QAC9BrU,KAAKkN,KAAK1J,SAAS6Q,WAAW,mBAItCC,cAAe,SAAS1T,GACpB,IAAI2T,EAAevU,KAAKwU,OAAO5T,GAK/B,OAJK2T,GAAiC,IAAjBA,IACjBA,EAAe3T,GAGZ2T,GAGXvO,YAAa,SAASpF,GAClB,IAAII,EAAQ,GACRyT,GAAgB,EAChBF,EAAevU,KAAKgB,QACpB0T,EAAsC,aAAzB1U,KAAKH,QAAQ2O,QAY9B,IAVI5N,GAAyB,IAAbA,KACRA,EAASmB,QACTnB,EAAS+T,OAAS/T,EAASmB,SAG/Bf,EAAQhB,KAAKsU,cAAc1T,GAE3B6T,EAAeF,EAAaK,QAAQ5T,IAGpCJ,EAASE,QAAS,CAKlB,GAJsBtC,EAAEqW,KAAK7U,KAAK+M,OAAO,SAAU+H,GAC/C,OAAOA,EAAK5S,MAAQtB,EAASmU,WAGbvV,OAChB,OAGJ,IAAIwV,EAAY,IAAItO,EAAiB9F,EAASqU,UAC9CrU,EAASmU,QAAUC,EAAU9S,IAC7BlC,KAAK+M,MAAMmI,KAAKF,GAEU,IAAtBhV,KAAK+M,MAAMvN,SACXQ,KAAKkN,KAAKiI,OAELT,GACD1U,KAAKoN,cAAc8H,KAAKF,KAIV,IAAlBP,IACAF,EAAaW,KAAKlU,GAClBhB,KAAKgN,SAASuH,QAEf,CACH,IAAIa,EAAepV,KAAK+M,MAAMlK,MAAK,SAASiS,GACxC,OAAOA,EAAK5S,MAAQtB,EAASmU,WAG7BM,EAAMrV,KAAK+M,MAAM6H,QAAQQ,GAE7B,IAAa,IAATC,EAIA,YADArV,KAAKsV,uBAAuB1U,GAF5BZ,KAAK+M,MAAMwI,OAAOF,EAAK,GAMD,IAAtBrV,KAAK+M,MAAMvN,SACXQ,KAAKkN,KAAKC,OACLuH,GACD1U,KAAKoN,cAAcmI,OAAO,EAAG,KAGf,IAAlBd,IACAF,EAAagB,OAAOd,EAAc,GAClCzU,KAAKgN,SAASuH,IAItBvU,KAAKsV,uBAAuB1U,GACvBZ,KAAKwV,uBAA0BxV,KAAKyI,oBAAuBzI,KAAKuI,iBACjEvI,KAAK8C,QAAQ8E,GAGb5H,KAAKH,QAAQ0N,WAAavN,KAAK8J,MAAM4B,YACrC1L,KAAK6F,QACL7F,KAAKI,QAAQ0C,QAAQ,UAEzB9C,KAAK8J,MAAM2L,WACXzV,KAAKsK,yBACLtK,KAAK0V,0BAGTA,uBAAwB,WACpB,GAA8C,WAA1C1V,KAAKJ,QAAQ,GAAG+V,QAAQpE,cAA5B,CAIA,IAAIqE,EAAgB5V,KAAK+M,MACrBlN,EAAU,GACVe,EAAW,KACXI,EAAQ,KAEZ,GAAI4U,EAAcpW,OACd,IAAK,IAAI6V,EAAM,EAAGA,EAAMO,EAAcpW,OAAQ6V,IAC1CzU,EAAWgV,EAAcP,GAEzBrU,EAAQhB,KAAKwU,OAAO5T,GACpBf,GAAWG,KAAK6V,QAAQ7U,EAAOhB,KAAK8V,MAAMlV,IAAW,GAI7DZ,KAAKJ,QAAQyG,KAAKxG,KAGtBgW,QAAS,SAASE,EAAWC,EAAU/P,GACnC,IAAIgQ,EAAS,UAsBb,OApBIF,IAActX,KAGkB,KAFhCsX,GAAa,IAECnB,QAAQ,OAClBmB,EAAYA,EAAUG,QAAQrO,EAAY,WAG9CoO,GAAU,WAAaF,EAAY,KAGnC9P,IACAgQ,GAAU,aAGdA,GAAU,IAEND,IAAavX,IACbwX,GAAUrX,EAAM2H,WAAWyP,IAGxBC,EAAU,aAGrB/P,aAAc,SAAStF,GACnB,IAAII,EAAQ,GACRwJ,EAAO,IAEP5J,GAAyB,IAAbA,KACRA,EAASmB,QACTnB,EAAS+T,OAAS/T,EAASmB,SAE/ByI,EAAOxK,KAAK8V,MAAMlV,IAAaA,EAC/BI,EAAQhB,KAAKsU,cAAc1T,IAGjB,OAAVI,IACAA,EAAQ,IAEZhB,KAAKgN,SAAShM,GACdhB,KAAKyK,cAAcD,EAAM5J,GACzBZ,KAAKmW,UAAUnV,GAEVhB,KAAKwV,uBAA0BxV,KAAKyI,oBACrCzI,KAAK8C,QAAQ8E,GAEjB5H,KAAKyI,oBAAqB,EAEtBzI,KAAKH,QAAQ0N,WAAavN,KAAK8J,MAAM4B,YACrC1L,KAAK6F,QACL7F,KAAKI,QAAQ0C,QAAQ,UAEzB9C,KAAK8J,MAAM2L,WACXzV,KAAKsK,0BAGT8L,YAAa,SAAS1V,GAClBA,EAAE2V,kBACFrW,KAAKI,QAAQ0C,QAAQ,SACrB9C,KAAKsW,sBAGTA,mBAAoB,WAChBtW,KAAKgI,WAAWuO,cAChBvW,KAAKgN,SAAS,IACdhN,KAAKwW,cACLxW,KAAKyW,aACLzW,KAAK8J,MAAM2L,WACXzV,KAAKsK,yBACLtK,KAAK2L,yBAGT8K,WAAY,WACJzW,KAAKH,QAAQ6K,YACb1K,KAAKmJ,cAAa,GAEdnJ,KAAKkN,MACLlN,KAAKkN,KAAK7G,KAAK,KAK3BwC,eAAgB,WACZ,IAAI8K,EAAW3T,KAEXoM,EAAWpM,KAAKH,QAAQ+O,cAKxBxC,EAHCA,EAGUxN,EAAMwN,SAASA,GAFf,SAAU9G,GAAQ,OAAOgB,EAAOqN,EAASmC,MAAMxQ,KAK9DtF,KAAK4O,cAAgBxC,GAGzBsK,gBAAiB,SAASlM,EAAMxJ,GAC5B,IAAIgL,EAAgBhM,KAAKH,QAAQmM,cAC7BpL,EAAW,GAUf,OARIoL,GACA2K,EAAO/V,EAAUoL,EAAc4K,MAAMzP,GAAMqD,GAC3CmM,EAAO/V,EAAUZ,KAAKH,QAAQ6N,eAAekJ,MAAMzP,GAAMnG,GACzDJ,EAAW,IAAI8F,EAAiB9F,IAEhCA,EAAW4J,EAGR5J,GAGX6J,cAAe,SAASD,EAAM5J,GAC1B,IAAIgO,EAAgB5O,KAAK4O,cACrB1B,EAAOlN,KAAKkN,KAEhB,GAAI1C,IAAS/L,EACT,OAAOyO,EAAK1C,OAGhB0C,EAAK2J,YAAY,eAEZjW,IAAapC,EAAE2M,cAAcX,IAASA,aAAgB9D,KACvD9F,EAAW4J,GAGV5J,IACDA,EAAWZ,KAAK0W,gBAAgBlM,EAAMxK,KAAKmW,cAG/C,IAAIW,EAAc,WACd,MAAO,CACH3E,SAAUjF,EAAK6J,MACfzR,KAAM,CAAE,CAAE1E,SAAUA,MAI5BZ,KAAKkS,QAAQ,UAAW4E,GAExB,IACI5J,EAAK7G,KAAKuI,EAAchO,IAC1B,MAAOF,GAEDwM,GACAA,EAAK7G,KAAK,IAIlBrG,KAAKkS,QAAQ,UAAW4E,IAG5BhO,WAAY,WACR,IAAIlJ,EAAUI,KAAKJ,QACfC,EAAUG,KAAKH,QACfmX,EAASpY,EAAMoY,OACfC,EAAYrX,EAAQgD,KAAKhE,EAAMgE,KAAK,eACpCsU,EAAatX,EAAQgD,KAAKhE,EAAMgE,KAAK,gBAErCuU,EAAiB,SAASrV,GAC1B,GAAI4G,MAAMC,QAAQ7G,GAAQ,CACtB,IAAIsV,EAAQtV,EAAMtC,OACd6X,EAAS7Y,EAAE8Y,IAAIxV,GAAO,SAASyV,GAC/B,OAAO,SAASC,GAAK,OAAOA,EAAED,OAGlC,OAAO,SAAS3W,GACZ,IAAImB,EAAQnB,EAAS+T,OAErB,GAAK5S,GAAmB,IAAVA,EAId,OAAOsV,EAAOI,KAAKC,IAAI3V,EAAOqV,EAAQ,IAAIxW,IAG9C,OAAOoW,EAAOlV,KAIjBjC,EAAQmM,eAAiBiL,IAC1BpX,EAAQmM,cAAgBiL,IAGvBpX,EAAQ6N,gBAAkBwJ,IAC3BrX,EAAQ6N,eAAiBwJ,GAG7BrX,EAAQmM,cAAgBnM,EAAQmM,eAAiB,OACjDnM,EAAQ6N,eAAiB7N,EAAQ6N,gBAAkB,QAEnD1N,KAAK8V,MAAQqB,EAAetX,EAAQmM,eACpChM,KAAKwU,OAAS2C,EAAetX,EAAQ6N,iBAGzCyI,UAAW,SAASnV,EAAOqU,GACvB,OAAOrV,KAAK2X,eAAe3W,EAAOqU,IAGtCsC,eAAgB,SAAS3W,GACrB,IAAIpB,EAAUI,KAAKJ,QAAQ,GAE3B,GAAIoB,IAAUvC,EACV,OAAOmB,EAAQoB,MAED,OAAVA,IACAA,EAAQ,IAEZpB,EAAQoB,MAAQA,GAIxBwV,YAAa,WACKxW,KAAKJ,QAAQ,GACnBoB,MAAQ,IAGpBgJ,aAAc,WACV,IAAI4N,EAAa5X,KAAKH,QAAQmO,SAASE,MAElClO,KAAK+Q,SACN/Q,KAAK+Q,OAASvS,EAAE,wDAA0DoZ,EAAa,+CAA+ChV,KAAK,CACvI8O,KAAQ,SACRpI,UAAa,KAIjBtJ,KAAKH,QAAQ4N,aACbzN,KAAK+Q,OAAO8G,YAAY7X,KAAKgR,SAAWhR,KAAKkN,KAAK1J,UAClDxD,KAAKI,QAAQwP,SAAS,6BAEjB5P,KAAKH,QAAQ4N,aACdzN,KAAK+Q,OAAOH,UAKxBtG,uBAAwB,WACpB,IAAIwN,EAAa9X,KAAKJ,QAAQgD,KAAKwE,GAC/B2Q,EAAY/X,KAAKgB,UAAYhB,KAAKG,wBAA2BH,KAAKgB,QAAQxB,OAC1EwY,EAA+BhY,KAAKJ,QAAQyI,OAASrI,KAAKJ,QAAQyI,QAAUrI,KAAKH,QAAQ6K,YAEvFoN,IAAeC,IAAYC,EAG7BhY,KAAKiY,aAFLjY,KAAKkY,cAMbA,WAAY,WACJlY,KAAK+Q,QACL/Q,KAAK+Q,OAAO8F,YAAY/P,IAIhCmR,WAAY,WACJjY,KAAK+Q,QACL/Q,KAAK+Q,OAAOnB,SAAS9I,IAI7BgN,aAAc,SAASpT,GACnBV,KAAKwS,mBAEDxS,KAAK8C,QAAQ4E,GACbhH,EAAEiF,kBAED3F,KAAKI,QAAQwC,KAAK,iBAAiB,GACnC5C,KAAKqJ,KAAKzG,KAAK,eAAe,GAAOA,KAAK,OAAQ,UAI3DmR,cAAe,SAASrT,GAChBV,KAAK8C,QAAQ6E,GACbjH,EAAEiF,kBAED3F,KAAKI,QAAQwC,KAAK,iBAAiB,GACnC5C,KAAKqJ,KAAKzG,KAAK,eAAe,KAIvCsH,UAAW,WACP,IAAInK,EAAOC,KACPD,EAAKF,QAAQiO,QACb/N,EAAKsJ,KAAKqH,IAAI,aAAa3Q,EAAKF,QAAQiO,QAE5C/N,EAAKsJ,KAAKzG,KAAK,KAAMhE,EAAMgT,QAC3B7R,EAAKoM,SAAW,IAAI/M,EAASW,EAAKsJ,KAAM3J,EAAO,CAAEwM,KAAMnM,EAAKF,QAAQqM,MAAQnM,EAAKF,QAAQsM,UAAWpM,GACpGA,EAAKuM,WAAavM,EAAKoM,SAASG,WAEhCvM,EAAKoM,SAAS3L,KAAK,UAAS,SAASE,GACjCX,EAAK+C,QAAQ,SAAUpC,OAI/BqC,mBAAoB,SAASrC,GAKzB,GAJIA,EAAErB,MAAQW,KAAKmY,OAASnY,KAAKmY,MAAM3Y,QACnCkB,EAAEsC,OAAO2B,OAAOjE,EAAErB,MAGlBW,KAAKmQ,WAQL,OAPKzP,EAAErB,OACHW,KAAKmQ,YAAa,QAGjBnQ,KAAKG,wBACNH,KAAKoY,cAAc1X,IAS3B,GAJKV,KAAKmM,WACNnM,KAAKmM,SAAWzL,EAAEsC,QAGjBtC,EAAErB,KAOA,CACH,IAAIgZ,EAAW3X,EAAEsC,OAAOpC,SAASF,EAAErB,MACnC,GAAIgZ,EAAU,CACV,IAAIC,EAAWD,EAAS9Y,SAAS+F,OACjCtF,KAAKuY,kBAAkBD,QAXlB,CACT,IAAIE,EAAY9X,EAAEsC,OAAOsJ,WAAWhH,OAEpCtF,KAAKuY,kBAAkBC,GACnBxY,KAAKuI,kBACLvI,KAAKuI,iBAAkB,GAS/BvI,KAAK8C,QAAQ,YAAapC,IAG9B0X,cAAe,SAAS1X,GACpB,IAAIc,EAAQ,GACZ,GAAKd,EAAErB,KAEA,CACH,IAAIgZ,EAAW3X,EAAEsC,OAAOpC,SAASF,EAAErB,MAC/BgZ,IACA7W,EAAQ6W,EAAS9Y,SAAS+F,aAJ9B9D,EAAQd,EAAEsC,OAAOsJ,WAAWhH,OAQhC,IAAK,IAAIhE,EAAI,EAAGA,EAAIE,EAAMhC,OAAQ8B,IAC1BE,EAAMF,GAAG2E,WACRjG,KAAKyY,eAAejX,EAAMF,GAAItB,KAAKgB,UACpCQ,EAAMF,GAAGT,IAAI,YAAY,IAKrC0X,kBAAmB,SAAS/W,GACxB,IAAIR,EAAQhB,KAAKgB,QAEjB,GAAKQ,EAIL,IAAK,IAAI6T,EAAM,EAAGA,EAAM7T,EAAMhC,OAAQ6V,IAClCrV,KAAKgI,WAAW0Q,iBAAiBlX,EAAM6T,GAAMrU,IAIrDsU,uBAAwB,SAAS1U,GACzBZ,KAAKH,QAAQ4D,UAAYzD,KAAKyD,WAC9BzD,KAAK2Y,iBAED/X,EAASE,QACTd,KAAK4Y,iBAEL5Y,KAAK6Y,qBAKjBD,eAAgB,WACZ,IAAIE,EAAmB9Y,KAAKyD,SAASZ,KAAK,eAEtC7C,KAAK+Y,oBACLD,EAAiBzT,KAAK,WAAW,GAChBA,KAAK,iBAAiB,GAEvCyT,EAAiBzT,KAAK,iBAAiB,IAI/CwT,iBAAkB,WACd,IAAIC,EAAmB9Y,KAAKyD,SAASZ,KAAK,eAEtC7C,KAAKgZ,sBACLF,EAAiBzT,KAAK,WAAW,GAChBA,KAAK,iBAAiB,GAEvCyT,EAAiBzT,KAAK,iBAAiB,IAI/C4E,cAAe,WAOPjK,KAAK2D,cACL3D,KAAK2D,YACAmN,IAAIjK,GACJrD,SACAoN,SAEL5Q,KAAK2D,YAAc,MAGnB3D,KAAKwP,qBACLxP,KAAKiZ,wBAELjZ,KAAK2D,YAAcnF,EAAE,+CAChBoE,KAAK,CACF8H,YAAa1K,KAAKJ,QAAQgD,KAAK,eAC/BsW,MAAOlZ,KAAKJ,QAAQgD,KAAK,SACzB8O,KAAM,YACN,gBAAiB,UACjB,oBAAqB,SAG7B1R,KAAK2D,YAAYtD,GAAG,QAAUL,KAAKmZ,cAAc3Y,KAAKR,OAEtDxB,EA7BiB,uMA8BZ4a,aAAapZ,KAAKqJ,MAClBxG,KAAK,gBACL2G,OAAOxJ,KAAK2D,eAIzBwV,cAAe,WACPnZ,KAAK2D,aACL3D,KAAKyP,WAIbwJ,sBAAuB,WACfjZ,KAAKG,wBAA0BH,KAAKH,QAAQsM,SAASvK,YAAc5B,KAAKH,QAAQsM,SAASvK,WAAWD,gBACpG3B,KAAKH,QAAQsM,SAASvK,WAAWD,eAAgB,IAIzDyI,UAAW,WASP,GARIpK,KAAKyD,WACLzD,KAAKyD,SAASZ,KAAK,kCACdiO,IAAIjK,GACT7G,KAAKyD,SAASmN,SAEd5Q,KAAKyD,SAAW,MAGhBzD,KAAKG,wBAA0BH,KAAKH,QAAQ4D,SAAU,CACtD,IAAIqV,EAAmBzS,EAAKgT,eAAe3Z,EAAO,GAAIM,KAAKH,QAAS,CAChEiL,MAAO,YACPiE,QAAS,YAEb/O,KAAKyD,SAAWjF,EAAE,4BAA8Bsa,EAAmB,UAAUM,aAAapZ,KAAKqJ,MAC/FrJ,KAAKyD,SAASZ,KAAK,qBAAqBwD,KAAKzH,EAAMwN,SAASpM,KAAKH,QAAQ0O,iBAA5B3P,CAA8C,CAAEyT,SAAUrS,QACvGA,KAAKyD,SAASZ,KAAK,eACFxC,GAAG,SAAWwG,EAAI7G,KAAKsZ,gBAAgB9Y,KAAKR,OAC5CK,GAAG,UAAYwG,EAAI7G,KAAKuZ,iBAAiB/Y,KAAKR,OAC/DA,KAAKwZ,sBAAwB,GAC7BxZ,KAAKyZ,wBAA0B,GAE/BzZ,KAAK2Y,iBAEA3Y,KAAKgZ,uBACNhZ,KAAK4Y,mBAKjBU,gBAAiB,WACb,IACII,EADmB1Z,KAAKyD,SAASZ,KAAK,eACTwC,KAAK,WAEtCrF,KAAK2Z,gBAAgBD,IAGzBC,gBAAiB,SAASD,GACtB,IAAIZ,EAAmB9Y,KAAKyD,SAASZ,KAAK,eAC1C7C,KAAK4Z,qBAAqBF,GAC1BZ,EAAiBzT,KAAK,UAAWqU,GAC7B1Z,KAAKwZ,sBAAsBha,QAAUQ,KAAKyZ,wBAAwBja,OAClEsZ,EAAiBzT,KAAK,iBAAiB,GAChCrF,KAAKwZ,sBAAsBha,OAClCsZ,EAAiBzT,KAAK,iBAAkBqU,GACjC1Z,KAAKyZ,wBAAwBja,OACpCsZ,EAAiBzT,KAAK,gBAAiBqU,GAEvCZ,EAAiBzT,KAAK,iBAAiB,GAE3CrF,KAAKwZ,sBAAwB,GAC7BxZ,KAAKyZ,wBAA0B,IAGnCF,iBAAkB,SAAS7Y,GACvB,IAAIoD,EAAMpD,EAAEqD,QAGZ,GAFarD,EAAEsE,QAEAlB,IAAQ/E,EAAKgG,IAAOjB,IAAQ/E,EAAKyG,KAAO1B,IAAQ/E,EAAK2G,IAIhE,OAHA1F,KAAK6F,QACL7F,KAAKI,QAAQ0C,QAAQ,cACrBpC,EAAEiF,iBAIF7B,IAAQ/E,EAAKgG,KACT/E,KAAK2D,YACL3D,KAAK2D,YAAYb,QAAQ,SAEzB9C,KAAKI,QAAQ0C,QAAQ,SAGzBpC,EAAEiF,kBAGF7B,IAAQ/E,EAAK+F,OACT9E,KAAKqJ,MAAQrJ,KAAKqJ,KAAK3F,GAAG,aAC1B1D,KAAKqJ,KAAK4F,QAGdvO,EAAEiF,kBAGF7B,IAAQ/E,EAAKqG,WAAa4B,EAAQ+L,MAAQ/L,EAAQ6S,QAClD7Z,KAAK8Z,iBACLpZ,EAAEiF,mBAIVmU,eAAgB,WACZ,IAAIhB,EAAmB9Y,KAAKyD,SAASZ,KAAK,eACtC6W,EAAYZ,EAAiBzT,KAAK,WAEtCrF,KAAK2Z,iBAAiBD,GAEtBZ,EAAiBhW,QAAQ,UAI7BiX,KAAM,SAASvY,EAAOD,EAAQ8D,GAC1B,IAAK,IAAIgQ,EAAM,EAAGA,EAAM7T,EAAMhC,QACrBQ,KAAKuB,GAAQC,EAAM6T,GAAMhQ,GADIgQ,IAIlCrV,KAAKga,kBAAkBxY,EAAM6T,GAAM9T,EAAQ8D,IAInD4U,kBAAmB,SAAS/X,GACxBlC,KAAK+Z,KAAK/Z,KAAKsM,WAAWhH,OAAQ,wBAAyBpD,IAG/DgY,sBAAuB,SAASpF,EAAM5S,GAClC,OAAqB,IAAjB4S,EAAKlH,SAAqBkH,EAAKC,SAAW7S,IAC1C4S,EAAKjU,IAAI,WAAW,IACb,IAKf2Q,kBAAmB,SAAShH,GACxBxK,KAAK+Z,KAAK/Z,KAAKsM,WAAWhH,OAAQ,kBAAmBkF,IAGzD2P,gBAAiB,SAASrF,EAAMtK,GAC5B,OAAqB,IAAjBsK,EAAKlH,SAAqB5N,KAAK8V,MAAMhB,KAAUtK,IAC/CxK,KAAKmM,SAASvG,OAAO5F,KAAKmM,SAASlK,UAAU6S,EAAK5S,MAClDlC,KAAKkG,aAAa4O,IACX,IAKfsF,mBAAoB,SAASpZ,GACzBhB,KAAK+Z,KAAK/Z,KAAKsM,WAAWhH,OAAQ,mBAAoBtE,IAG1DqZ,iBAAkB,SAASvF,EAAM9T,GAC7B,OAAqB,IAAjB8T,EAAKlH,UAAqB5N,KAAKyY,eAAe3D,EAAM9T,KAEpDhB,KAAKmM,SAASvG,OAAO5F,KAAKmM,SAASlK,UAAU6S,EAAK5S,OAE3C,IAKfoY,kBAAmB,SAAStZ,GAExB,IADA,IAAIQ,EAAQxB,KAAKmM,SAASoO,YACjBlF,EAAM,EAAGA,EAAMrU,EAAMxB,OAAQ6V,IAClCrV,KAAK+Z,KAAKvY,EAAO,wBAAyBR,EAAMqU,KAIxDmF,sBAAuB,SAAS1F,EAAM9T,GAClC,OAAqB,IAAjB8T,EAAKlH,UAAqB5N,KAAKyY,eAAe3D,EAAM9T,KAChD8T,EAAKjU,IAAI,WAAW,IACjB,IAKf4X,eAAgB,SAAS3D,EAAM9T,GAC3B,IACIyZ,EADAC,EAAY1a,KAAKwU,OAAOM,GAG5B,IAAK9U,KAAKwI,mBAAmBkS,GAAY,CACrC,GAAI1a,KAAKwI,mBAAmBxH,GACxB,OAAO,EAGX,IAAI2Z,EAAW3a,KAAKwU,OAAOxT,GAE3B,OAAI2Z,EACOD,GAAaC,EAEbD,GAAa1Z,EAK5B,SADAyZ,EAAWza,KAAK8V,MAAMhB,MAEd9U,KAAK8V,MAAM9U,GACJyZ,GAAYza,KAAK8V,MAAM9U,GAEvByZ,GAAYzZ,IAO/BwH,mBAAoB,SAASxH,GACzB,OAAOA,IAAUvC,GAAyB,OAAVuC,GAGpC2X,eAAgB,WAOZ,OANA3Y,KAAK4a,iBAAmB,GACxB5a,KAAK+Y,qBAAsB,EAC3B/Y,KAAKgZ,uBAAwB,EAE7BhZ,KAAK+Z,KAAK/Z,KAAKsM,WAAWhH,OAAQ,uBAE3BtF,KAAK4a,kBAGhBC,oBAAqB,SAAS/F,GAY1B,OAXI9U,KAAK+Y,sBACL/Y,KAAK+Y,oBAAsBjE,EAAKhU,SAGhCd,KAAKgZ,wBACLhZ,KAAKgZ,uBAAyBlE,EAAKhU,SAGnCgU,EAAKhU,SACLd,KAAK4a,iBAAiB1F,KAAKJ,IAExB,GAGXkF,kBAAmB,SAASlF,EAAMvT,EAAQ8D,GACtC,IACIiT,EAAWxD,EADMA,EAAKgG,kBAAoBhG,EAAKgG,iBAAiBC,OAAUjG,EAAKgG,iBAAiBC,OAAOzV,KAAO,OAC5EwP,EAAKtT,OAASsT,EAAKvV,SAEpD+Y,GAILtY,KAAK+Z,KAAKzB,EAAU/W,EAAQ8D,IAGhCuU,qBAAsB,SAAS9Y,GAC3Bd,KAAK+Z,KAAK/Z,KAAKsM,WAAWhH,OAAQ,qBAAsBxE,IAG5Dka,mBAAoB,SAASlG,EAAMhU,GAU/B,OATqB,IAAjBgU,EAAKlH,QACDkH,EAAKhU,QACLd,KAAKwZ,sBAAsBtE,KAAKJ,GAEhC9U,KAAKyZ,wBAAwBvE,KAAKJ,GAGtCA,EAAKjU,IAAI,UAAWC,IAEjB,GAGX0O,iBAAkB,WACd,IAAI7Q,EAASqB,KAAKH,QAAQlB,OAC1B,OAAOA,GAAqB,SAAXA,GAGrBwQ,UAAW,SAAStP,GAChB,IAAIE,EAAOC,KACPJ,EAAUG,EAAKH,QACfwP,EAAUvP,EAAQuP,QAClBF,EAAWrP,EAAQqP,SACnB9O,EAAUL,EAAKK,QAAQ6a,IAAIlb,EAAK4D,aAAamN,IAAIjK,GACjDqU,EAAkBnb,EAAKK,QAAQ0Q,IAAItJ,GACnCzH,EAAKI,wBACLJ,EAAKiR,QAAQF,IAAIxQ,EAAQuG,GAExBqI,GAAaE,EA0BPA,GACPhP,EAAQiU,WAAW5M,GACnByT,EACKtL,SAASvI,KAEdjH,EACKwC,KAAK6E,EAAUrH,EAAQkF,KAAKmC,IAEjCyT,EACKrE,YAAYxP,GAEjBjH,EACKC,GAAG,UAAYwG,EAAI9G,EAAKob,gBAAgB3a,KAAKT,IAC7CM,GAAG,WAAawG,EAAI9G,EAAKqb,iBAAiB5a,KAAKT,MAtCpDH,EAAQyF,KAAKrG,GAAU,GAAOqG,KAAK+B,GAAU,GAE7C8T,EACKrE,YAAYxP,GACZhH,GAAGmH,EAAazH,EAAKsb,cAE1Btb,EAAKgR,OAAO1Q,GAAG,QAAUwG,EAAI9G,EAAKqW,YAAY5V,KAAKT,IACnDK,EACKwC,KAAK6E,EAAUrH,EAAQkF,KAAKmC,IAC5B7E,KAAK0E,GAAe,GACpBjH,GAAG,UAAYwG,EAAI9G,EAAK6D,SAASpD,KAAKT,IACtCM,GAAG,UAAYwG,EAAI9G,EAAKob,gBAAgB3a,KAAKT,IAC7CM,GAAG,WAAawG,EAAI9G,EAAKqb,iBAAiB5a,KAAKT,IAEpDA,EAAKK,QAAQC,GAAGC,EAAQuG,EAAI9G,EAAKub,cAAc9a,KAAKT,IAEhDC,KAAKG,yBACLJ,EAAKiR,QAAQ3Q,GAAGC,EAAQuG,EAAI,cAAc,SAASnG,GAC/ClC,EAAEkC,EAAES,eAAeyO,SAASrI,MAGhCxH,EAAKiR,QAAQ3Q,GAAGC,EAAQuG,EAAI,iBAAiB,SAASnG,GAClDX,EAAKwb,gBAAgB7a,QAmBjCd,EAAQgD,KAAK5D,EAAUoQ,GACfxM,KAAKwE,EAAU8H,GAEvB9O,EAAQwC,KAAK0E,EAAe8H,IAGhC+L,gBAAiB,WACbnb,KAAKI,QAAQwP,SAASrI,GACtBvH,KAAKwb,UAAW,GAGpBJ,iBAAkB,WACd,IAAIrb,EAAOC,KAEPA,KAAKG,wBACLH,KAAKgR,QAAQnO,KAAKsE,YAAe0P,YAAYtP,GAE5CxH,EAAKyb,WACNxb,KAAKI,QAAQyW,YAAYtP,GACzBxH,EAAKyb,UAAW,EAChBzb,EAAKH,QAAQkD,QAAQ,UAI7ByM,QAAS,SAASD,GAGdtP,MAFAsP,EAAOA,IAAS7Q,EAAc6Q,GAAQtP,KAAK8J,MAAM4B,WAErChE,EAAOC,MAGvB2T,cAAe,SAAS5a,GACpBA,EAAEiF,iBACF3F,KAAK8J,MAAMmH,OAAO,WAAYjR,KAAKkI,oBACnClI,KAAKyb,SAAWzb,KAAKI,QACrBJ,KAAKwb,UAAW,EAChBxb,KAAKuP,WAGT8L,aAAc,SAAS3a,GACnBlC,EAAEkC,EAAES,eAAegT,YA/mDf,UA+mD6C,eAAXzT,EAAEgb,OAG5CvT,YAAa,WACLnI,KAAK2D,YACL3D,KAAK2D,YAAYb,QAAQ,SAClB9C,KAAKyD,SACZzD,KAAKyD,SAASZ,KAAK,eAAeC,QAAQ,SACnC9C,KAAKqJ,KAAK3F,GAAG,cACpB1D,KAAKqJ,KAAK,GAAG4F,MAAM,CAAE0M,eAAe,IACpC3b,KAAK4b,8BAIbA,0BAA2B,WACvB,GAAI5U,EAAQ+L,MAA2B,IAAnB/L,EAAQ6U,QAAe,CACvC,IAAI/R,EAAQ9J,KAAK8J,MACjBA,EAAMgS,eAAc,GACpBpI,YAAW,WACP5J,EAAMgS,eAAc,KACtB,MAIVlY,SAAU,SAASlD,GACf,IAEIqb,EACAC,EACAhY,EAASiY,EAJTnY,EAAMpD,EAAEqD,QACRiB,EAAStE,EAAEsE,OAKXkX,EAAiBlc,KAAK8J,MAAM4B,UAUhC,GARI1L,KAAK2D,cACLoY,EAAsB/b,KAAK2D,YAAY,KAAOgD,KAG9C3G,KAAKI,UACL4b,EAAkBhc,KAAKI,QAAQ,KAAOuG,KAGtCqV,EAAiB,CACjB,GAAIlY,IAAQ/E,EAAKyG,IAGb,OAFAxF,KAAKsW,0BACL5V,EAAEiF,iBAIN,GAAI3F,KAAKG,uBAAwB,CAC7B,GAAI2D,IAAQ/E,EAAKyF,KAGb,OAFAxE,KAAKmc,qBACLzb,EAAEiF,iBAIN,GAAI7B,IAAQ/E,EAAKwF,MAGb,OAFAvE,KAAKoc,qBACH1b,EAAEiF,iBAIR,GAAI7B,IAAQ/E,EAAKkG,KAGb,OAFAjF,KAAKqc,sBACL3b,EAAEiF,iBAIN,GAAI7B,IAAQ/E,EAAKmG,IAGb,OAFAlF,KAAKsc,qBACL5b,EAAEiF,iBAIN,GAAI7B,IAAQ/E,EAAKwd,OAOb,OANAvY,EAAUhE,KAAKgR,QAAQnO,KAAKsE,YAAehD,SAC/B3E,SACRyc,EAAUjc,KAAK+M,MAAM/I,EAAQ1B,SAC7BtC,KAAKwc,WAAWP,SAEpBvb,EAAEiF,iBAIN,GAAI7B,IAAQ/E,EAAK0d,UAab,QAZAzY,EAAUhE,KAAKgR,QAAQnO,KAAKsE,YAAehD,SAC/B3E,SAIRwE,EAAUhE,KAAKsc,iBACH9c,UAJZyc,EAAUjc,KAAK+M,MAAM/I,EAAQ1B,SAC7BtC,KAAKwc,WAAWP,SAQpBvb,EAAEiF,kBAOd,OAAIoW,IACIjY,IAAQ/E,EAAKyG,KACbxF,KAAK0c,eAGJ5Y,IAAQ/E,EAAKgG,IAAQC,IACtBhF,KAAKI,QAAQ0C,QAAQ,SACrBpC,EAAEiF,kBAGFqB,EAAQ+L,MAAQ/L,EAAQ6U,QAAU,KAC9B/X,IAAQ/E,EAAK0d,WAAa3Y,IAAQ/E,EAAKwd,QACvCvc,KAAKyP,WAIT3L,IAAQ/E,EAAK2G,MAQhBV,GAAUlB,IAAQ/E,EAAKgG,IAAOjB,IAAQ/E,EAAKyG,KAPxCxF,KAAK6F,QACL7F,KAAKI,QAAQ0C,QAAQ,cACrBpC,EAAEiF,uBAYN7B,IAAQ/E,EAAKoG,OAASnF,KAAKiQ,gBAAkBjQ,KAAK2D,aAAeuY,EACjExb,EAAEiF,kBAIF7B,IAAQ/E,EAAKqG,UAAa2W,IAC1B/b,KAAKuP,SAAS2M,GACdxb,EAAEiF,kBAGDX,GAAUlB,IAAQ/E,EAAK+F,OAAUoX,IAClClc,KAAKsP,OACL5O,EAAEiF,kBAGD7B,IAAQ/E,EAAK+F,MAASoX,IACnBlc,KAAK2D,cAAgBoY,EACrB/b,KAAK2D,YAAYb,QAAQ,SAClB9C,KAAKyD,UAAYzD,KAAKyD,SAASC,GAAG,YACzC1D,KAAKyD,SAASZ,KAAK,SAASC,QAAQ,SAC7B9C,KAAKqJ,KAAK3F,GAAG,cACpB1D,KAAKqJ,KAAK,GAAG4F,MAAM,CAAE0M,eAAe,IACpC3b,KAAK4b,6BAETlb,EAAEiF,kBAGF7B,IAAQ/E,EAAK2G,KAAOwW,IACpBlc,KAAK6F,QACL7F,KAAKI,QAAQ0C,QAAQ,SACrBpC,EAAEiF,qBAIVwW,cAAe,WACX,IAAInY,EAAUhE,KAAKgR,QAAQnO,KAAKsE,YAChC,GAAInD,EAAQxE,OAAQ,CAChB,IAAImd,EAAmB3c,KAAK2R,UAE5B3N,EAAQG,QACH0S,YAAYtP,GACZ8M,WAAW,MACXjR,KAAK0E,GACL8H,SAASrI,GACT3E,KAAK,KAAM+Z,GAEhB3c,KAAKI,QAAQwC,KAAK,wBAAyB+Z,QAE3C3c,KAAKsc,iBAIbF,cAAe,WACX,IAAIpY,EAAUhE,KAAKgR,QAAQnO,KAAKsE,YAEhC,GAAInD,EAAQxE,OAAQ,CAChB,IAAImd,EAAmB3c,KAAK2R,UAE5B3N,EAAQG,QACH0S,YAAYtP,GACZ8M,WAAW,MACXuI,KAAK9U,GACL8H,SAASrI,GACT3E,KAAK,KAAM+Z,GAEhB3c,KAAKI,QAAQwC,KAAK,wBAAyB+Z,QAE3C3c,KAAKqc,kBAIbA,eAAgB,WACZ,IAAIM,EAAmB3c,KAAK2R,UAE5B3R,KAAK6c,oBAEL,IAAIC,EAAW9c,KAAKgR,QAAQzR,SAASuI,GAAM3D,QACtCyL,SAASrI,GACT3E,KAAK,KAAM+Z,GAIhB,OAFA3c,KAAKI,QAAQwC,KAAK,wBAAyB+Z,GAEpCG,GAGXR,cAAe,WACX,IAAIK,EAAmB3c,KAAK2R,UAE5B3R,KAAK6c,oBAEL,IAAIE,EAAU/c,KAAKgR,QAAQzR,SAASuI,GAAMxE,OACrCsM,SAASrI,GACT3E,KAAK,KAAM+Z,GAIhB,OAFA3c,KAAKI,QAAQwC,KAAK,wBAAyB+Z,GAEpCI,GAGXF,kBAAmB,WACf7c,KAAKgR,QAAQnO,KAAKsE,YAAe0P,YAAYtP,GAAS8M,WAAW,OAGrE5E,QAAS,WACL,IAAI1P,EAAOC,KACXgQ,aAAajQ,EAAKkQ,gBAElBlQ,EAAKkQ,eAAiByD,YAAW,WAC7B,IAAI1S,EAAQjB,EAAK4D,YAAY0E,MAEzBtI,EAAKoY,QAAUnX,IACfjB,EAAKoY,MAAQnX,EACbjB,EAAK+P,OAAO9O,IAGhBjB,EAAKkQ,eAAiB,OACvBlQ,EAAKF,QAAQ8N,QAGpB+O,aAAc,WACN1c,KAAK2D,YAAY0E,MAAM7I,SACvBQ,KAAK2D,YAAY0E,IAAI,IACrBrI,KAAKmY,MAAQ,GACbnY,KAAKmQ,YAAa,EAClBnQ,KAAKmM,SAASG,WAAW3N,OAAO,MAIxC4c,gBAAiB,SAAS7a,GACtBA,EAAE2V,kBACF,IAAI4F,EAAUjc,KAAK+M,MAAMvO,EAAEkC,EAAES,cAAcsS,QAAQ3L,IAAOxF,SAC1DtC,KAAKwc,WAAWP,IAGpBO,WAAY,SAASP,GAClB,GAAKA,EAAL,CAIA,IAAI/Z,EAAM+Z,EAAQ/Z,IAClBlC,KAAKia,kBAAkB/X,OAI9B,SAASyU,EAAOtE,EAAU2K,EAAQhc,GAK9B,IAJA,IAEIc,EAFAuT,EAAM,EACN4H,EAAYD,EAAOxd,OAAS,EAGzB6V,EAAM4H,IAAa5H,GACtBvT,EAAQkb,EAAO3H,MAEAhD,IACXA,EAASvQ,GAAS,IAGtBuQ,EAAWA,EAASvQ,GAGxBuQ,EAAS2K,EAAOC,IAAcjc,EAGlClC,EAAGoe,OAAOnV,GAEVnJ,EAAMue,cAAcC,eAAe,eAAgB,aAEnDxe,EAAMue,cAAcE,eAAe,eAAgB,CAAC,CAChDhY,KAAM,UACNiY,OAAQ1e,EAAMue,cAAcI,cAAcC,OAAO,CAAC,CAAC,OAAQ,aAG/D5e,EAAMue,cAAcC,eAAe,0BAA2B,YAE9Dxe,EAAMue,cAAcE,eAAe,0BAA2B,CAAC,CAC3DhY,KAAM,UACNiY,OAAQ1e,EAAMue,cAAcI,cAAcC,OAAO,CAAC,CAAC,OAAQ,aAG/D,IAAI5Q,EAAkBhO,EAAM6e,MAAM/d,OAAO,CACrCC,KAAM,SAAS+d,GACX1d,KAAKmG,cAAgBuX,GAGzBzU,aAAc,WACVjJ,KAAK2d,WACL3d,KAAK4d,SAGTjT,WAAY,SAASrF,GACEtF,KAAKmG,cAEXD,aAAaZ,IAG9BqY,SAAU,WACN,IAGIvd,EAHAN,EAAeE,KAAKmG,cACpBvG,EAAUE,EAAaF,QACvBie,EAAaje,EAAQ,IAGzBQ,EAAUR,EAAQ4D,UAELE,GAAG,0BACZtD,EAAUR,EAAQ6M,KAAK,YAAYjJ,UAC3B,GAAGoP,MAAMkL,QAAUD,EAAWjL,MAAMkL,QAC5C1d,EAAQ,GAAG8Y,MAAQ2E,EAAW3E,OAGlCpZ,EAAa2b,SAAW3b,EAAaM,QAAUA,EAC1CwP,SAAS,2BACTA,SAASiO,EAAWE,WACpBlH,YAAY,0BACZA,YAAY,aACZnG,IAAI,UAAW,IACf9N,KAAK,CACFob,UAAWpe,EAAQgD,KAAK,aACxBqb,aAAc,OAGtBre,EAAQuV,OAAOd,WAAW,cAG9BuJ,MAAO,WACH,IAGI1Q,EAHApN,EAAeE,KAAKmG,cACpB/F,EAAUN,EAAaM,QACvB8d,EAAW,2BAGfhR,EAAO9M,EAAQyC,KAAKqb,IAEV,KACN9d,EAAQoJ,OAAO,gGACCnD,EAAK8X,aAAa,+FAAgGze,EAAO,GAAII,EAAaD,QAAS,CAC/Iue,KAAM,UACNC,MAAO,OACPtP,QAAS,WAErBvF,OAAO1J,EAAaF,SAE5BsN,EAAO9M,EAAQyC,KAAKqb,IAGxBpe,EAAaoN,KAAOA,EACpBpN,EAAawe,OAASle,EAAQyC,KAAK,mBACnC/C,EAAaye,WAAaze,EAAawe,OAAOzb,KAAK,YAGvDwO,UAAW,SAASrQ,GAChB,IACIuT,EADAzU,EAAeE,KAAKmG,cAGxB,OAAInF,IAAUvC,GAAyB,OAAVuC,GAEzBA,EAAiC,iBADjCuT,EAAezU,EAAawI,QAAQM,QAAQ,IACC2L,EAAezU,EAAaqW,aAAe5B,KACvE9V,GAAyB,OAAVuC,EAAiB,GAAKA,GAE1DlB,EAAa2I,oBAAqB,EACb,IAAjBzH,EAAMxB,QACNM,EAAawW,0BACbxW,EAAa2I,oBAAqB,KAItC3I,EAAasa,mBAAmBpZ,GAChClB,EAAawK,8BACbxK,EAAa6L,2BAGjB4K,YAAa,WACT,IAAIzW,EAAeE,KAAKmG,cACpBqY,EAAe1e,EAAaqM,SAASvG,SACrC6Y,EAAuB3e,EAAawI,QAAQ9I,OAC5Ckf,GAAgB,EAChB5e,EAAaqM,SAASvL,SAAS4d,IAC/B1e,EAAaqM,SAASvL,SAAS4d,GAAc3d,IAAI,YAAY,GAC7D6d,GAAgB,GACTD,EAAuB,IAC9BC,GAAgB,IAGf5e,EAAa2I,oBAAsBiW,GACpC5e,EAAagD,QAAQ8E,IAI7B8Q,iBAAkB,SAASiG,EAAU3d,GACjC,IAAIlB,EAAeE,KAAKmG,cAEnBrG,EAAa0I,mBAAmBxH,IAAoB,KAAVA,GASnCA,GAAS2d,EAAS1Y,UAC1BnG,EAAaqM,SAASvG,OAAO9F,EAAaqM,SAASlK,UAAU0c,EAASzc,MATlEpC,EAAa2Y,eAAekG,EAAU3d,IACtClB,EAAa0V,uBAAwB,EACrCmJ,EAAS9d,IAAI,YAAY,GACzBf,EAAa0V,uBAAwB,GAC9BmJ,EAAS1Y,UAChBnG,EAAaqM,SAASvG,OAAO9F,EAAaqM,SAASlK,UAAU0c,EAASzc,SASlFyK,EAAoB/N,EAAM6e,MAAM/d,OAAO,CACvCC,KAAM,SAAS+d,GACX1d,KAAKmG,cAAgBuX,GAGzBzU,aAAc,WACV,IAAInJ,EAAeE,KAAKmG,cAExBnG,KAAK4e,eACL9e,EAAaF,QAAQgD,KAAK,WAAY,YAAYuS,OAClDnV,KAAK2d,WACL7d,EAAaiN,MAAQ,IAAItG,EAAgB,IACzC3G,EAAasN,cAAgB,IAAI3G,EAAgB,IACjDzG,KAAK6e,WACL/e,EAAaoN,KAAO1O,EAAE,iGAAiG4T,SAAStS,EAAakR,SAASnO,KAAK,wBAI/J8H,WAAY,SAASrF,EAAMtE,GACvB,IAAIlB,EAAeE,KAAKmG,cACpB2Y,EAAgB9d,GAASlB,EAAaD,QAAQmB,MAE7C0H,MAAMC,QAAQrD,IAAWA,aAAgB1G,EAAM0G,KAAKmB,kBACrDnB,EAAO,CAACA,KAGR9G,EAAE2M,cAAc7F,EAAK,KAAOA,EAAK,aAAc1G,EAAM0G,KAAKoB,mBAAqB5G,EAAaD,QAAQ6N,kBACpG5N,EAAawM,WAAWhH,KAAKA,GAE7BxF,EAAakB,MAAM8d,KAI3BF,aAAc,WACV,IAAI9e,EAAeE,KAAKmG,cACpBtG,EAAUC,EAAaD,QACvBkf,EAAclf,EAAQ+O,cACtB8F,EAAiC,aAApB7U,EAAQ2O,QACrBP,EAAYpO,EAAQmO,SAASC,UAEjC8Q,EAAcA,EAAcngB,EAAMwN,SAAS2S,GAAejf,EAAa8O,cAEvE9O,EAAa8O,cAAgB,SAAStJ,GAClC,OAAOe,EAAK2Y,WAAW,iDACY,IAAjB1Z,EAAKsI,QAAqB,aAAe,IAAM,MAC1C,IAAjBtI,EAAKsI,QAAqB,uBAAyB,IAFlC,WAIRpP,EAAEkB,OAAO,GAAIG,EAAS,CACzBiP,SAAU,QACVmQ,WAAY,OACZlQ,QAAS,SACTnM,KAAM,CACFqb,aAAc,MAElBzT,KAAOkK,EAAaqK,EAAYzZ,GAAS,8FACN2I,EAAY,UAC/CiR,UAAWxK,EACXyK,WAAY,WACZC,cAAe,CACXnB,aAAc,KACd,eAAe,EACf,aAAcne,EAAaD,QAAQmO,SAASG,UAC5C+K,MAAOpZ,EAAaD,QAAQmO,SAASG,gBAM7DwP,SAAU,WACN,IAAI7d,EAAeE,KAAKmG,cACpBvG,EAAUE,EAAaF,QACvBQ,EAAUR,EAAQ4D,OAAO,uBAExBpD,EAAQ,MACTA,EAAUR,EAAQ6M,KAAK,6DAA6DjJ,UAC5E,GAAGoP,MAAMkL,QAAUle,EAAQ,GAAGgT,MAAMkL,QAC5C1d,EAAQ,GAAG8Y,MAAQtZ,EAAQ,GAAGsZ,OAGlCpZ,EAAaM,QAAUA,EAAQwP,SAAShQ,EAAQ,GAAGme,WAAWrN,IAAI,UAAW,KAGjFmO,SAAU,WACN,IAAI/e,EAAeE,KAAKmG,cACpB6K,EAAUlR,EAAaM,QAAQb,SAAS,sBAE5C,IAAKyR,EAAQ,GAAI,CACb,IACIqO,EAD8C,aAAjCvf,EAAaD,QAAQ2O,QACL,OAAS,cAE1CwC,EAAUxS,EAAE6H,EAAKiZ,eAAe,gGAAkGD,EAAgB,OAAQ7gB,EAAEkB,OAAO,GAAII,EAAaD,WAAWuS,SAAStS,EAAaM,SAGzNN,EAAakR,QAAUA,EACvBlR,EAAakR,QAAQpO,KAAK,KAAMhE,EAAMgT,OAAS,YAC/C9R,EAAaM,QAAQwC,KAAK,gBAAiB9C,EAAakR,QAAQpO,KAAK,OACrE,IAAI2c,EAAY3gB,EAAM4gB,WAAW,CAC7BC,YAAa3f,EAAasN,cAC1BsS,KAAM5f,EAAaiN,MACnBgS,YAAajf,EAAa8O,gBAE9BhQ,EAAM4B,KAAKV,EAAakR,QAASuO,GACjCzf,EAAakR,QAAQpO,KAAK,aAAa,IAG3CyO,UAAW,SAASrQ,GAChB,IAAIlB,EAAeE,KAAKmG,cACpBwZ,EAAY7f,EAAawI,QAC7B,GAAItH,IAAUvC,GAAyB,OAAVuC,EACzB,OAAOlB,EAAawI,QAAQM,QAGhC9I,EAAakN,SAAShM,GACtBlB,EAAa2I,oBAAqB,EAC9BzH,EAAMxB,QACNQ,KAAK4f,cAAcD,EAAW3e,GAE9BlB,EAAawa,kBAAkBtZ,IAE/BlB,EAAawW,qBAGjBxW,EAAa2I,oBAAqB,EAClC3I,EAAawK,yBACbxK,EAAa6L,yBAGjBiU,cAAe,SAASD,EAAW3e,GAI/B,IAHA,IAAIlB,EAAeE,KAAKmG,cACpB0Z,EAAgB7f,KAAK8f,cAAcH,EAAW3e,GAEzCqU,EAAM,EAAGA,EAAMwK,EAAcrgB,OAAQ6V,IAC1C,IAAK,IAAI0K,EAAI,EAAGA,EAAIjgB,EAAaiN,MAAMvN,OAAQugB,IACvCjgB,EAAa2Y,eAAe3Y,EAAaiN,MAAMgT,GAAGF,EAAcxK,KAChEvV,EAAama,kBAAkBna,EAAaiN,MAAMgT,GAAG7d,MAMrE4d,cAAe,SAASH,EAAW3e,GAG/B,IAFA,IAAI6e,EAAgB,GAEXxK,EAAM,EAAGA,EAAMsK,EAAUngB,OAAQ6V,KACC,IAAnCrU,EAAM4T,QAAQ+K,EAAUtK,KACxBwK,EAAc3K,KAAKyK,EAAUtK,IAIrC,OAAOwK,GAGXtJ,YAAa,WAIT,IAHA,IAAIzW,EAAeE,KAAKmG,cACpB6Z,EAAYlgB,EAAaiN,MAAMnE,QAE1ByM,EAAM,EAAGA,EAAM2K,EAAUxgB,OAAQ6V,IAAO,CAC7C,IAAInT,EAAM8d,EAAU3K,GAAKnT,IACzBpC,EAAa0V,uBAAwB,EACrC1V,EAAama,kBAAkB/X,GAG/B8d,EAAUxgB,SACVM,EAAa0V,uBAAwB,EAChC1V,EAAa2I,oBACd3I,EAAagD,QAAQ8E,KAKjC8Q,iBAAkB,SAASiG,EAAU3d,GACjC,IAAIlB,EAAeE,KAAKmG,cAEpBrG,EAAayI,iBAAmBoW,EAAS7d,QACzChB,EAAakG,YAAY2Y,IAIxB3d,EAAMxB,SAAUQ,KAAK8M,mBACuE,MAAnC,IAAzD9L,EAAM4T,QAAQ9U,EAAawU,cAAcqK,KAAqB3d,EAAM4T,QAAQ+J,KAC5E3e,KAAKigB,SAASngB,EAAawU,cAAcqK,MACtCA,EAAS7d,QACThB,EAAakG,YAAY2Y,IAEzB7e,EAAa0V,uBAAwB,EACrCmJ,EAAS9d,IAAI,WAAW,GACxBf,EAAa0V,uBAAwB,KAKjDyK,SAAU,SAASC,GACf,IAAIpgB,EAAeE,KAAKmG,cAExB,OAAOrG,EAAaiN,MAAMlK,MAAK,SAASiS,GACpC,OAAOhV,EAAa2Y,eAAe3D,EAAMoL,SAKrDthB,EAAME,GAAGiJ,aAAa6E,gBAAkBA,EACxChO,EAAME,GAAGiJ,aAAa4E,kBAAoBA,EAnwE9C,CAqwEG9N,OAAOD,MAAMwH","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.treeview', 'kendo.popup', 'kendo.binder', 'kendo.html.chip', 'kendo.html.chiplist', 'kendo.html.button', 'kendo.html.input', 'kendo.label'], factory) :\n    factory();\n})((function () {\n    (function($, undefined$1) {\n\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            keys = kendo.keys,\n            DISABLED = \"k-disabled\",\n            SELECT = \"select\",\n            CHECKED = \"checked\",\n            DATABOUND = \"dataBound\",\n            CLICK = \"click\",\n            NS = \".kendoTreeView\",\n            INDETERMINATE = \"indeterminate\",\n            NAVIGATE = \"navigate\",\n            subGroup,\n            TreeView = ui.TreeView;\n\n            function contentChild(filter) {\n                return function(node) {\n                    var result = node.children(\".k-animation-container\");\n\n                    if (!result.length) {\n                        result = node;\n                    }\n\n                    return result.children(filter);\n                };\n            }\n\n            subGroup = contentChild(\".k-group\");\n\n        var Tree = TreeView.extend({\n            init: function(element, options, dropdowntree) {\n                var that = this;\n\n                that.dropdowntree = dropdowntree;\n\n                TreeView.fn.init.call(that, element, options);\n                if (that.dropdowntree._isMultipleSelection()) {\n                    that.wrapper.on(CLICK + NS, '.k-in.k-selected', that._clickSelectedItem.bind(that));\n                }\n            },\n\n            _checkOnSelect: function(e) {\n                if (!e.isDefaultPrevented()) {\n                    var dataItem = this.dataItem(e.node);\n\n                    dataItem.set(\"checked\", !dataItem.checked);\n                }\n            },\n\n            _setCheckedValue: function(node, value) {\n                node.set(CHECKED, value);\n            },\n\n            _click: function(e) {\n                var that = this;\n\n                if (that.dropdowntree._isMultipleSelection()) {\n                    that.one(\"select\", that._checkOnSelect);\n                }\n                TreeView.fn._click.call(that, e);\n            },\n\n            _clickSelectedItem: function(e) {\n                var that = this,\n                node = $(e.currentTarget);\n\n                that.one(\"select\", that._checkOnSelect);\n                if (!that._trigger(SELECT, node)) {\n                    that.dataItem(node).set(\"selected\", false);\n                }\n            },\n\n            defaultrefresh: function(e) {\n                var that = this;\n                var node = e.node;\n                var action = e.action;\n                var items = e.items;\n                var parentNode = this.wrapper;\n                var options = this.options;\n                var loadOnDemand = options.loadOnDemand;\n                var checkChildren = options.checkboxes && options.checkboxes.checkChildren;\n                var i;\n\n                if (this._skip) {\n                    return;\n                }\n\n                if (e.field) {\n                    if (!items[0] || !items[0].level) {\n                        return;\n                    }\n\n                    return this._updateNodes(items, e.field);\n                }\n\n                if (node) {\n                    parentNode = this.findByUid(node.uid);\n                    this._progress(parentNode, false);\n                }\n\n                if (checkChildren && action != \"remove\") {\n                    var bubble = false;\n\n                    for (i = 0; i < items.length; i++) {\n                        if (\"checked\" in items[i]) {\n                            bubble = true;\n                            break;\n                        }\n                    }\n\n                    if (!bubble && node && node.checked) {\n                        for (i = 0; i < items.length; i++) {\n                            items[i].checked = true;\n                        }\n                    }\n                }\n\n                if (action == \"add\") {\n                    this._appendItems(e.index, items, parentNode);\n                } else if (action == \"remove\") {\n                    this._remove(this.findByUid(items[0].uid), false);\n                } else if (action == \"itemchange\") {\n                    this._updateNodes(items);\n                } else if (action == \"itemloaded\") {\n                    this._refreshChildren(parentNode, items, e.index);\n                } else {\n                    this._refreshRoot(items);\n                }\n\n                if (action != \"remove\") {\n                    for (i = 0; i < items.length; i++) {\n                        if (!loadOnDemand || items[i].expanded) {\n                            items[i].load();\n                        }\n                    }\n                }\n\n                that.wrapper.attr(\"role\", \"tree\");\n                that.wrapper.find(\">ul\").attr(\"role\", \"none\");\n\n                this.trigger(DATABOUND, { node: node ? parentNode : undefined$1 });\n                this.dropdowntree._treeViewDataBound({ node: node ? parentNode : undefined$1, sender: this });\n                if (this.options.checkboxes.checkChildren) {\n                    this.updateIndeterminate();\n                }\n            },\n\n            _previousVisible: function(node) {\n                var that = this,\n                    lastChild,\n                    result;\n\n                if (!node.length || node.prev().length) {\n                    if (node.length) {\n                        result = node.prev();\n                    } else {\n                        result = that.root.children().last();\n                    }\n\n                    while (that._expanded(result)) {\n                        lastChild = subGroup(result).children().last();\n\n                        if (!lastChild.length) {\n                            break;\n                        }\n\n                        result = lastChild;\n                    }\n                } else {\n                    result = that.parent(node) || node;\n\n                    if (!result.length) {\n                        if (that.dropdowntree.checkAll && that.dropdowntree.checkAll.is(\":visible\")) {\n                            that.dropdowntree.checkAll.find(\".k-checkbox\").trigger(\"focus\");\n                        } else if (that.dropdowntree.filterInput) {\n                            that.dropdowntree.filterInput.trigger(\"focus\");\n                        } else {\n                            that.dropdowntree.wrapper.trigger(\"focus\");\n                        }\n                    }\n                }\n\n                return result;\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    key = e.keyCode,\n                    target,\n                    focused = that.current(),\n                    expanded = that._expanded(focused),\n                    checkbox = focused.find(\".k-checkbox-wrapper\").first().find(\":checkbox\"),\n                    rtl = kendo.support.isRtl(that.element);\n\n                if (e.target != e.currentTarget) {\n                    return;\n                }\n\n                if ((!rtl && key == keys.RIGHT) || (rtl && key == keys.LEFT)) {\n                    if (expanded) {\n                        target = that._nextVisible(focused);\n                    } else if (!focused.find(\".k-in\").first().hasClass(DISABLED)) {\n                        that.expand(focused);\n                    }\n                } else if ((!rtl && key == keys.LEFT) || (rtl && key == keys.RIGHT)) {\n                    if (expanded && !focused.find(\".k-in\").first().hasClass(DISABLED)) {\n                        that.collapse(focused);\n                    } else {\n                        target = that.parent(focused);\n\n                        if (!that._enabled(target)) {\n                            target = undefined$1;\n                        }\n                    }\n                } else if (key == keys.DOWN) {\n                    target = that._nextVisible(focused);\n                } else if (key == keys.UP && !e.altKey) {\n                    target = that._previousVisible(focused);\n                } else if (key == keys.HOME) {\n                    target = that._nextVisible($());\n                } else if (key == keys.END) {\n                    target = that._previousVisible($());\n                } else if (key == keys.ENTER && !focused.find(\".k-in\").first().hasClass(DISABLED)) {\n                    if (!focused.find(\".k-in\").first().hasClass(\"k-selected\")) {\n                        if (!that._trigger(SELECT, focused)) {\n                            that.select(focused);\n                        }\n                    }\n                } else if (key == keys.SPACEBAR && checkbox.length && !focused.find(\".k-in\").first().hasClass(DISABLED)) {\n                    checkbox.prop(CHECKED, !checkbox.prop(CHECKED))\n                        .data(INDETERMINATE, false)\n                        .prop(INDETERMINATE, false);\n\n                    that._checkboxChange({ target: checkbox });\n\n                    target = focused;\n                } else if ((e.altKey && key === keys.UP) || key === keys.ESC) {\n                    that._closePopup();\n                } else if ( key === keys.TAB) {\n                    e.preventDefault();\n                    that._closePopup();\n                }\n\n                if (target) {\n                    e.preventDefault();\n\n                    if (focused[0] != target[0]) {\n                        that._trigger(NAVIGATE, target);\n                        that.current(target);\n                    }\n                }\n            },\n\n            _closePopup: function() {\n                this.dropdowntree.close();\n                this.dropdowntree.wrapper.trigger(\"focus\");\n            },\n\n            refresh: function(e) {\n                this.defaultrefresh(e);\n\n                if (this.dropdowntree.options.skipUpdateOnBind) {\n                    return;\n                }\n\n                if (e.action === \"itemchange\") {\n                    if (this.dropdowntree._isMultipleSelection()) {\n                        if (e.field === \"checked\") {\n                            this.dropdowntree._checkValue(e.items[0]);\n                        }\n                    } else {\n                        if (e.field !== \"checked\" && e.field !== \"expanded\" && e.items[0].selected) {\n                            this.dropdowntree._selectValue(e.items[0]);\n                        }\n                    }\n                } else {\n                    this.dropdowntree.refresh(e);\n                }\n            }\n\n        });\n\n        kendo.ui._dropdowntree = Tree;\n\n    })(window.kendo.jQuery);\n\n    var __meta__ = {\n        id: \"dropdowntree\",\n        name: \"DropDownTree\",\n        category: \"web\",\n        description: \"The DropDownTree widget displays a hierarchy of items and allows the selection of single or multiple items.\",\n        depends: [ \"treeview\", \"popup\", \"binder\", \"html.chip\", \"html.chiplist\", \"html.button\", \"html.input\", \"label\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            html = kendo.html,\n            encode = kendo.htmlEncode,\n            Widget = ui.Widget,\n            TreeView = ui._dropdowntree,\n            ObservableArray = kendo.data.ObservableArray,\n            ObservableObject = kendo.data.ObservableObject,\n            extend = $.extend,\n            activeElement = kendo._activeElement,\n            ns = \".kendoDropDownTree\",\n            keys = kendo.keys,\n            support = kendo.support,\n            HIDDENCLASS = \"k-hidden\",\n            WIDTH = \"width\",\n            browser = support.browser,\n            outerWidth = kendo._outerWidth,\n            DOT = \".\",\n            DISABLED = \"disabled\",\n            READONLY = \"readonly\",\n            STATEDISABLED = \"k-disabled\",\n            ARIA_DISABLED = \"aria-disabled\",\n            HOVER = \"k-hover\",\n            FOCUSED = \"k-focus\",\n            HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n            TABINDEX = \"tabindex\",\n            CLICK = \"click\",\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            CHANGE = \"change\",\n            quotRegExp = /\"/g,\n\n            CHIP = \".k-chip\";\n\n        var DropDownTree = kendo.ui.Widget.extend( {\n            init: function(element, options) {\n                this.ns = ns;\n\n                kendo.ui.Widget.fn.init.call(this, element, options);\n                this._selection = this._getSelection();\n                this._focusInputHandler = this._focusInput.bind(this);\n                this._initial = this.element.val();\n\n                this._values = [];\n\n                var value = this.options.value;\n\n                if (value === null || !value.length) {\n                    this._noInitialValue = true;\n                }\n\n                if (!this._isNullorUndefined(value)) {\n                    this._valueMethodCalled = true;\n                    this._values = Array.isArray(value) ? value.slice(0) : [value];\n                }\n\n                this._inputTemplate();\n\n                this._accessors();\n                this._setTreeViewOptions(this.options);\n                this._dataSource();\n                this._selection._initWrapper();\n                this._applyCssClasses();\n                this._placeholder(true);\n                this._tabindex();\n                this.wrapper.data(TABINDEX, this.wrapper.attr(TABINDEX));\n\n                this.tree = $('<div/>')\n                .attr({\n                    tabIndex: -1,\n                    \"aria-hidden\": true\n                });\n\n                this.list = $(\"<div class='k-list-container'/>\")\n                    .append(this.tree);\n\n                this._header();\n                this._noData();\n                this._footer();\n                this._reset();\n                this._popup();\n                this.popup.one(\"open\", this._popupOpen.bind(this));\n                this._clearButton();\n                this._filterHeader();\n                this._treeview();\n\n                this._renderFooter();\n\n                this._checkAll();\n                this._enable();\n                this._toggleCloseVisibility();\n\n                if (!this.options.autoBind) {\n                    var text = options.text || \"\";\n                    if (!this._isNullorUndefined(options.value)) {\n                        this._preselect(options.value);\n                    } else if (text) {\n                        this._textAccessor(text);\n                    } else if (options.placeholder) {\n                        this._placeholder(true);\n                    }\n                }\n\n                var disabled = $(this.element).parents(\"fieldset\").is(':disabled');\n\n                if (disabled) {\n                    this.enable(false);\n                }\n                this._valueMethodCalled = false;\n\n                if (this.options.label) {\n                    this._label();\n                }\n\n                this._aria();\n\n                kendo.notify(this);\n            },\n\n            _label: function() {\n                var that = this;\n                var options = that.options;\n                var labelOptions = $.isPlainObject(options.label) ? options.label : {\n                    content: options.label\n                };\n\n                that.label = new kendo.ui.Label(null, $.extend({}, labelOptions, {\n                    widget: that,\n                    floatCheck: that._floatCheck.bind(that)\n                }));\n\n                that._inputLabel = that.label.element;\n            },\n\n            _floatCheck: function() {\n                var hasValue = (this.value() && !this._isMultipleSelection()) || this.value().length || this.text();\n                return !hasValue && !this.popup.visible();\n            },\n\n            _refreshFloatingLabel: function() {\n                var that = this;\n\n                if (that.label && that.label.floatingLabel) {\n                    that.label.floatingLabel.refresh();\n                }\n            },\n\n            _preselect: function(data, value) {\n                this._selection._preselect(data, value);\n            },\n\n            _setTreeViewOptions: function(options) {\n                var treeviewOptions = {\n                    autoBind: options.autoBind,\n                    checkboxes: options.checkboxes,\n                    dataImageUrlField: options.dataImageUrlField,\n                    dataSpriteCssClassField: options.dataSpriteCssClassField,\n                    dataTextField: options.dataTextField,\n                    dataUrlField: options.dataUrlField,\n                    loadOnDemand: options.loadOnDemand,\n                    size: options.size\n                };\n\n                this.options.treeview = $.extend({}, treeviewOptions, this.options.treeview);\n\n                if (options.template) {\n                    this.options.treeview.template = options.template;\n                }\n\n                if (options.size) {\n                    this.options.treeview.size = options.size;\n                }\n            },\n\n            _dataSource: function() {\n                var rootDataSource = this.options.dataSource;\n\n                this.dataSource = kendo.data.HierarchicalDataSource.create(rootDataSource);\n                if (rootDataSource) {\n                    $.extend(this.options.treeview,{\n                        dataSource: this.dataSource\n                    });\n                }\n            },\n\n            _popupOpen: function() {\n                var popup = this.popup;\n                popup.wrapper = kendo.wrap(popup.element);\n            },\n\n            _getSelection: function() {\n                if (this._isMultipleSelection()) {\n                    this.options._altname = \"MultiSelectDropDownTree\";\n                    return new ui.DropDownTree.MultipleSelection(this);\n                } else {\n                    return new ui.DropDownTree.SingleSelection(this);\n                }\n            },\n\n            setDataSource: function(dataSource) {\n                this._isDataSourceSet = true;\n                if (this._tags) {\n                    this._noInitialValue = true;\n                    this.setValue([]);\n                    this._tags.empty();\n                    this.span.show();\n                    this._multipleTags.empty();\n                }\n                this.dataSource = dataSource;\n                this.treeview.setDataSource(dataSource);\n                this._isDataSourceSet = false;\n            },\n\n            _isMultipleSelection: function() {\n                return this.options && (this.options.treeview.checkboxes || this.options.checkboxes);\n            },\n\n            options: {\n                name: \"DropDownTree\",\n                animation: {},\n                autoBind: true,\n                autoClose: true,\n                autoWidth: false,\n                clearButton: true,\n                dataTextField: \"\",\n                dataValueField: \"\",\n                dataImageUrlField: \"\",\n                dataSpriteCssClassField: \"\",\n                dataUrlField: \"\",\n                delay: 500,\n                enabled: true,\n                enforceMinLength: false,\n                filter: \"none\",\n                height: 200,\n                ignoreCase: true,\n                index: 0,\n                loadOnDemand: false,\n                messages: {\n                    \"singleTag\": \"item(s) selected\",\n                    \"clear\": \"clear\",\n                    \"deleteTag\": \"delete\",\n                    \"noData\": function () { return \"No data found.\"; }\n                },\n                minLength: 1,\n                checkboxes: false,\n                noDataTemplate: true,\n                placeholder: \"\",\n                checkAll: false,\n                checkAllTemplate: function () { return \"Check all\"; },\n                tagMode: \"multiple\",\n                template: null,\n                text: null,\n                treeview: {},\n                valuePrimitive: false,\n                footerTemplate: function () { return \"\"; },\n                headerTemplate: function () { return \"\"; },\n                value: null,\n                valueTemplate: null,\n                popup: null,\n                filterLabel: null,\n                size: \"medium\",\n                fillMode: \"solid\",\n                rounded: \"medium\",\n                label: null\n            },\n\n            events: [\n                \"open\",\n                \"close\",\n                \"dataBound\",\n                CHANGE,\n                \"select\",\n                \"filtering\"\n            ],\n\n            focus: function() {\n                this.wrapper.trigger(\"focus\");\n            },\n\n            dataItem: function(node) {\n                return this.treeview.dataItem(node);\n            },\n\n            readonly: function(readonly) {\n                this._editable({\n                    readonly: readonly === undefined$1 ? true : readonly,\n                    disable: false\n                });\n                this._toggleCloseVisibility();\n\n                if (this.label && this.label.floatingLabel) {\n                    this.label.floatingLabel.readonly(readonly === undefined$1 ? true : readonly);\n                }\n            },\n\n            enable: function(enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined$1 ? true : enable)\n                });\n                this._toggleCloseVisibility();\n\n                if (this.label && this.label.floatingLabel) {\n                    this.label.floatingLabel.enable(enable = enable === undefined$1 ? true : enable);\n                }\n            },\n\n            toggle: function(open) {\n                this._toggle(open);\n            },\n\n            open: function() {\n                var popup = this.popup;\n\n                if (!this.options.autoBind && !this.dataSource.data().length) {\n                    this.treeview._progress(true);\n                    if (this._isFilterEnabled()) {\n                        this._search();\n                    } else {\n                        this.dataSource.fetch();\n                    }\n                }\n\n                if (popup.visible() || !this._allowOpening()) {\n                    return;\n                }\n\n                if (this._isMultipleSelection()) {\n                    popup.element.addClass(\"k-multiple-selection\");\n                }\n                popup.element.addClass(\"k-popup-dropdowntree\");\n\n                popup.one(\"activate\", this._focusInputHandler);\n                popup._hovered = true;\n                popup.open();\n            },\n\n            close: function() {\n                this.popup.close();\n            },\n\n            search: function(word) {\n                var options = this.options;\n                var filter;\n                clearTimeout(this._typingTimeout);\n\n                if ((!options.enforceMinLength && !word.length) || word.length >= options.minLength) {\n                    filter = this._getFilter(word);\n                    if (this.trigger(\"filtering\", { filter: filter }) ||\n                     Array.isArray(this.options.dataTextField)) {\n                        return;\n                    }\n\n                    this._filtering = true;\n                    this.treeview.dataSource.filter(filter);\n                }\n            },\n\n            _getFilter: function(word) {\n                return {\n                    field: this.options.dataTextField,\n                    operator: this.options.filter,\n                    value: word,\n                    ignoreCase: this.options.ignoreCase\n                  };\n            },\n\n            refresh: function() {\n                var data = this.treeview.dataSource.flatView();\n                this._renderFooter();\n                this._renderNoData();\n                if (this.filterInput && this.checkAll) {\n                    this.checkAll.toggle(!this.filterInput.val().length);\n                }\n\n                this.tree.toggle(!!data.length);\n                $(this.noData).toggle(!data.length);\n            },\n\n            setOptions: function(options) {\n                if (this.options.checkboxes != options.checkboxes) {\n                    delete options.checkboxes;\n                    window.console.warn('setOptions method can not be used to set the checkboxes option in DropDownTree');\n                }\n\n                Widget.fn.setOptions.call(this, options);\n\n                this._setTreeViewOptions(options);\n                this._dataSource();\n                if (this.options.treeview || options.size) {\n                    this.treeview.setOptions(this.options.treeview);\n                }\n\n                if (options.height && this.tree) {\n                    this.tree.css('max-height', options.height);\n                }\n\n                this._header();\n                this._noData();\n                this._footer();\n\n                this._renderFooter();\n                this._renderNoData();\n                if (this.span && (this._isMultipleSelection() || this.span.hasClass(\"k-readonly\"))) {\n                    this._placeholder(true);\n                }\n                this._inputTemplate();\n                this._accessors();\n                this._filterHeader();\n                this._checkAll();\n                this._enable();\n                if (options && (options.enable || options.enabled)) {\n                    this.enable(true);\n                }\n                this._clearButton();\n\n                if (options === undefined$1 || options === null) {\n                    options = {};\n                }\n\n                if (options.label && this._inputLabel) {\n                    this.label.setOptions(options.label);\n                } else if (options.label === false) {\n                    this.label._unwrapFloating();\n                    this._inputLabel.remove();\n                    delete this._inputLabel;\n                } else if (options.label) {\n                    this._label();\n                }\n            },\n\n            destroy: function() {\n                kendo.ui.Widget.fn.destroy.call(this);\n                if (this.treeview) {\n                    this.treeview.destroy();\n                }\n                this.popup.destroy();\n\n                this.wrapper.off(ns);\n                this._clear.off(ns);\n                if (this.filterInput) {\n                    this.filterInput.off(ns);\n                }\n\n                if (this.tagList) {\n                    this.tagList.off(ns);\n                }\n\n                kendo.unbind(this.tagList);\n                if (this.options.checkAll && this.checkAll) {\n                    this.checkAll.off(ns);\n                }\n\n                if (this._form) {\n                    this._form.off(\"reset\", this._resetHandler);\n                }\n\n                if (this.label) {\n                    this.label.destroy();\n                }\n            },\n\n            setValue: function(value) {\n                value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n\n                this._values = value;\n            },\n\n            items: function() {\n                return this.treeview.items();\n            },\n\n            value: function(value) {\n                var that = this;\n\n                if (value) {\n                    if (that.filterInput && that.dataSource._filter) {\n                        that._filtering = true;\n                        that.dataSource.filter({});\n                    } else if (!that.dataSource.data().length || !that.treeview.dataSource.data().length) {\n                        if (!that.options.loadOnDemand) {\n                            that.treeview.one('loadCompleted', function() {\n                                that._selection._setValue(value);\n                            });\n\n                            if (!that.options.autoBind && that.options.valuePrimitive) {\n                                that.dataSource.fetch();\n                            }\n                        } else {\n                            that.dataSource.fetch(function() {\n                                that._selection._setValue(value);\n                            });\n                        }\n\n                        return;\n                    }\n                }\n\n                return that._selection._setValue(value);\n            },\n\n            text: function(text) {\n                var loweredText;\n                var ignoreCase = this.options.ignoreCase;\n\n                text = text === null ? \"\" : text;\n\n                if (text !== undefined$1 && !this._isMultipleSelection()) {\n                    if (typeof text !== \"string\") {\n                        this._textAccessor(text);\n                        return;\n                    }\n\n                    loweredText = ignoreCase ? text : text.toLowerCase();\n\n                    this._selectItemByText(loweredText);\n\n                    this._textAccessor(loweredText);\n                    this._refreshFloatingLabel();\n                } else {\n                    return this._textAccessor();\n                }\n\n            },\n\n            _aria: function() {\n                var input = this.wrapper.find(\"span.k-input-inner\");\n\n                this.wrapper.attr({\n                    \"aria-haspopup\": \"tree\",\n                    \"aria-expanded\": false,\n                    \"aria-controls\": this.treeview.element.attr(\"id\"),\n                    \"role\": \"listbox\"\n                });\n\n                this._activeId = kendo.guid();\n                this._ariaLabel(this.wrapper);\n\n                if (this.filterInput && this.options.filterLabel) {\n                    this.filterInput.attr(\"aria-label\", this.options.filterLabel);\n                }\n\n                if (!this.options.checkboxes && input.text().length) {\n                    input.attr(\"role\", \"option\");\n                    input.attr(\"aria-selected\", \"true\");\n                    input.attr(\"id\", this._activeId);\n\n                    this.wrapper.attr(\"aria-activedescendant\", this._activeId);\n                } else if (this.options.checkboxes) {\n                    this.wrapper.attr({\n                        \"aria-multiselectable\": true,\n                        \"aria-describedby\": this.tagList[0].id\n                    });\n\n                    this.tagList.attr(\"role\", \"none\");\n                }\n            },\n\n            _header: function() {\n                var list = this;\n                var header = $(list.header);\n                var template = list.options.headerTemplate;\n\n                this._angularElement(header, \"cleanup\");\n                kendo.destroy(header);\n                header.remove();\n\n                if (!template) {\n                    list.header = null;\n                    return;\n                }\n\n                var headerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                header = $(headerTemplate({}));\n\n                list.header = header[0] ? header : null;\n                list.list.prepend(header);\n\n                this._angularElement(list.header, \"compile\");\n            },\n\n            _noData: function() {\n                var list = this;\n                var noData = $(list.noData);\n                var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n\n                list.angular(\"cleanup\", function() { return { elements: noData }; });\n                kendo.destroy(noData);\n                noData.remove();\n\n                if (!template) {\n                    list.noData = null;\n                    return;\n                }\n\n                list.noData = $('<div class=\"k-no-data\" style=\"display: none;\"></div>').appendTo(list.list);\n                list.noDataTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            },\n\n            _renderNoData: function() {\n                var list = this;\n                var noData = list.noData;\n\n                if (!noData) {\n                    return;\n                }\n\n                this._angularElement(noData, \"cleanup\");\n                noData.html(list.noDataTemplate({ instance: list }));\n                this._angularElement(noData, \"compile\");\n            },\n\n            _footer: function() {\n                var list = this;\n                var footer = $(list.footer);\n                var template = list.options.footerTemplate;\n\n                this._angularElement(footer, \"cleanup\");\n                kendo.destroy(footer);\n                footer.remove();\n\n                if (!template) {\n                    list.footer = null;\n                    return;\n                }\n\n                list.footer = $('<div class=\"k-footer\"></div>').appendTo(list.list);\n                list.footerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            },\n\n            _renderFooter: function() {\n                var list = this;\n                var footer = list.footer;\n\n                if (!footer) {\n                    return;\n                }\n\n                this._angularElement(footer, \"cleanup\");\n                footer.html(list.footerTemplate({ instance: list }));\n                this._angularElement(footer, \"compile\");\n            },\n\n            _enable: function() {\n                var that = this,\n                    options = that.options,\n                    disabled = that.element.is(\"[disabled]\");\n\n                if (options.enable !== undefined$1) {\n                    options.enabled = options.enable;\n                }\n\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is(\"[readonly]\"));\n                }\n            },\n\n            _adjustListWidth: function() {\n                var that = this,\n                    list = that.list,\n                    width = list[0].style.width,\n                    wrapper = that.wrapper,\n                    computedStyle, computedWidth;\n\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n\n                if (computedStyle && browser.msie) { // getComputedStyle returns different box in IE.\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n\n                if (list.css(\"box-sizing\") !== \"border-box\") {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n\n                list.css({\n                    fontFamily: wrapper.css(\"font-family\"),\n                    width: that.options.autoWidth ? \"auto\" : width,\n                    minWidth: width,\n                    whiteSpace: that.options.autoWidth ? \"nowrap\" : \"normal\"\n                })\n                .data(WIDTH, width);\n\n                return true;\n            },\n\n            _reset: function() {\n                var that = this,\n                    element = that.element,\n                    formId = element.attr(\"form\"),\n                    form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n                if (form[0]) {\n                    that._resetHandler = function() {\n                        setTimeout(function() {\n                            that.value(that._initial);\n                        });\n                    };\n\n                    that._form = form.on(\"reset\", that._resetHandler);\n                }\n            },\n\n            _popup: function() {\n                var this$1$1 = this;\n\n                var list = this;\n\n                if (list.options.checkboxes && list.options.checkAll) {\n                    list.list.attr(\"role\", \"application\");\n                }\n\n                list.popup = new ui.Popup(list.list, extend({}, list.options.popup, {\n                    anchor: list.wrapper,\n                    open: list._openHandler.bind(list),\n                    close: list._closeHandler.bind(list),\n                    animation: list.options.animation,\n                    isRtl: support.isRtl(list.wrapper),\n                    autosize: list.options.autoWidth,\n                    deactivate: function () {\n                        this$1$1._refreshFloatingLabel();\n                    },\n                    activate: function () {\n                        this$1$1._refreshFloatingLabel();\n                    }\n                }));\n            },\n\n            _angularElement: function(element, action) {\n                if (!element) {\n                    return;\n                }\n\n                this.angular(action, function() {\n                    return { elements: element };\n                });\n            },\n\n            _allowOpening: function() {\n                return this.options.noDataTemplate || this.treeview.dataSource.flatView().length;\n            },\n\n            _placeholder: function(show) {\n                if (this.span) {\n                    this.span.toggleClass(\"k-readonly\", show).text(show ? this.options.placeholder : \"\");\n                }\n\n                if (this.span.text().trim().length > 0) {\n                    this.span.parent().attr({\n                        role: \"option\",\n                        \"aria-selected\": true\n                    });\n                } else {\n                    this.span.parent().removeAttr(\"role\");\n                    this.span.parent().removeAttr(\"aria-selected\");\n                }\n            },\n\n            _currentValue: function(dataItem) {\n                var currentValue = this._value(dataItem);\n                if (!currentValue && currentValue !== 0) {\n                    currentValue = dataItem;\n                }\n\n                return currentValue;\n            },\n\n            _checkValue: function(dataItem) {\n                var value = \"\";\n                var indexOfValue = -1;\n                var currentValue = this.value();\n                var isMultiple = this.options.tagMode === \"multiple\";\n\n                if (dataItem || dataItem === 0) {\n                    if (dataItem.level) {\n                        dataItem._level = dataItem.level();\n                    }\n\n                    value = this._currentValue(dataItem);\n\n                    indexOfValue = currentValue.indexOf(value);\n                }\n\n                if (dataItem.checked) {\n                    var alreadyAddedTag = $.grep(this._tags, function( item ) {\n                        return item.uid === dataItem._tagUid;\n                    });\n\n                    if (alreadyAddedTag.length) {\n                        return;\n                    }\n\n                    var itemToAdd = new ObservableObject(dataItem.toJSON());\n                    dataItem._tagUid = itemToAdd.uid;\n                    this._tags.push(itemToAdd);\n\n                    if (this._tags.length === 1) {\n                        this.span.hide();\n\n                        if (!isMultiple) {\n                            this._multipleTags.push(itemToAdd);\n                        }\n                    }\n\n                    if (indexOfValue === -1) {\n                        currentValue.push(value);\n                        this.setValue(currentValue);\n                    }\n                } else {\n                    var itemToRemove = this._tags.find(function(item) {\n                        return item.uid === dataItem._tagUid;\n                    });\n\n                    var idx = this._tags.indexOf(itemToRemove);\n\n                    if (idx !== -1) {\n                        this._tags.splice(idx, 1);\n                    } else {\n                        this._treeViewCheckAllCheck(dataItem);\n                        return;\n                    }\n\n                    if (this._tags.length === 0) {\n                        this.span.show();\n                        if (!isMultiple) {\n                            this._multipleTags.splice(0, 1);\n                        }\n                    }\n                    if (indexOfValue !== -1) {\n                        currentValue.splice(indexOfValue, 1);\n                        this.setValue(currentValue);\n                    }\n                }\n\n                this._treeViewCheckAllCheck(dataItem);\n                if (!this._preventChangeTrigger && !this._valueMethodCalled && !this._noInitialValue) {\n                    this.trigger(CHANGE);\n                }\n\n                if (this.options.autoClose && this.popup.visible()) {\n                    this.close();\n                    this.wrapper.trigger(\"focus\");\n                }\n                this.popup.position();\n                this._toggleCloseVisibility();\n                this._updateSelectedOptions();\n            },\n\n            _updateSelectedOptions: function() {\n                if (this.element[0].tagName.toLowerCase() !== 'select') {\n                    return;\n                }\n\n                var selectedItems = this._tags;\n                var options = '';\n                var dataItem = null;\n                var value = null;\n\n                if (selectedItems.length) {\n                    for (var idx = 0; idx < selectedItems.length; idx++) {\n                        dataItem = selectedItems[idx];\n\n                        value = this._value(dataItem);\n                        options += this._option(value, this._text(dataItem), true);\n                    }\n                }\n\n                this.element.html(options);\n            },\n\n            _option: function(dataValue, dataText, selected) {\n                var option = \"<option\";\n\n                if (dataValue !== undefined$1) {\n                    dataValue += \"\";\n\n                    if (dataValue.indexOf('\"') !== -1) {\n                        dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                    }\n\n                    option += ' value=\"' + dataValue + '\"';\n                }\n\n                if (selected) {\n                    option += ' selected';\n                }\n\n                option += \">\";\n\n                if (dataText !== undefined$1) {\n                    option += kendo.htmlEncode(dataText);\n                }\n\n                return option += \"</option>\";\n            },\n\n            _selectValue: function(dataItem) {\n                var value = \"\";\n                var text = \"\";\n\n                if (dataItem || dataItem === 0) {\n                    if (dataItem.level) {\n                        dataItem._level = dataItem.level();\n                    }\n                    text = this._text(dataItem) || dataItem;\n                    value = this._currentValue(dataItem);\n                }\n\n                if (value === null) {\n                    value = \"\";\n                }\n                this.setValue(value);\n                this._textAccessor(text, dataItem);\n                this._accessor(value);\n\n                if (!this._preventChangeTrigger && !this._valueMethodCalled) {\n                    this.trigger(CHANGE);\n                }\n                this._valueMethodCalled = false;\n\n                if (this.options.autoClose && this.popup.visible()) {\n                    this.close();\n                    this.wrapper.trigger(\"focus\");\n                }\n                this.popup.position();\n                this._toggleCloseVisibility();\n            },\n\n            _clearClick: function(e) {\n                e.stopPropagation();\n                this.wrapper.trigger(\"focus\");\n                this._clearTextAndValue();\n            },\n\n            _clearTextAndValue: function() {\n                this._selection._clearValue();\n                this.setValue([]);\n                this._clearInput();\n                this._clearText();\n                this.popup.position();\n                this._toggleCloseVisibility();\n                this._refreshFloatingLabel();\n            },\n\n            _clearText: function() {\n                if (this.options.placeholder) {\n                    this._placeholder(true);\n                } else {\n                    if (this.span) {\n                        this.span.html(\"\");\n                    }\n                }\n            },\n\n            _inputTemplate: function() {\n                var this$1$1 = this;\n\n                var template = this.options.valueTemplate;\n\n                if (!template) {\n                    template = function (data) { return encode(this$1$1._text(data)); };\n                } else {\n                    template = kendo.template(template);\n                }\n\n                this.valueTemplate = template;\n            },\n\n            _assignInstance: function(text, value) {\n                var dataTextField = this.options.dataTextField;\n                var dataItem = {};\n\n                if (dataTextField) {\n                    assign(dataItem, dataTextField.split(DOT), text);\n                    assign(dataItem, this.options.dataValueField.split(DOT), value);\n                    dataItem = new ObservableObject(dataItem);\n                } else {\n                    dataItem = text;\n                }\n\n                return dataItem;\n            },\n\n            _textAccessor: function(text, dataItem) {\n                var valueTemplate = this.valueTemplate;\n                var span = this.span;\n\n                if (text === undefined$1) {\n                    return span.text();\n                }\n\n                span.removeClass(\"k-readonly\");\n\n                if (!dataItem && ($.isPlainObject(text) || text instanceof ObservableObject)) {\n                    dataItem = text;\n                }\n\n                if (!dataItem) {\n                    dataItem = this._assignInstance(text, this._accessor());\n                }\n\n                var getElements = function() {\n                    return {\n                        elements: span.get(),\n                        data: [ { dataItem: dataItem } ]\n                    };\n                };\n\n                this.angular(\"cleanup\", getElements);\n\n                try {\n                    span.html(valueTemplate(dataItem));\n                } catch (e) {\n                    //dataItem has missing fields required in custom template\n                    if (span) {\n                        span.html(\"\");\n                    }\n                }\n\n                this.angular(\"compile\", getElements);\n            },\n\n            _accessors: function() {\n                var element = this.element;\n                var options = this.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr(\"text-field\"));\n                var valueField = element.attr(kendo.attr(\"value-field\"));\n\n                var getterFunction = function(field) {\n                    if (Array.isArray(field)) {\n                        var count = field.length;\n                        var levels = $.map(field, function(x) {\n                            return function(d) { return d[x];};\n                        });\n\n                        return function(dataItem) {\n                            var level = dataItem._level;\n\n                            if (!level && level !== 0) {\n                                return;\n                            }\n\n                            return levels[Math.min(level, count - 1)](dataItem);\n                        };\n                    } else {\n                        return getter(field);\n                    }\n                };\n\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n\n                options.dataTextField = options.dataTextField || \"text\";\n                options.dataValueField = options.dataValueField || \"value\";\n\n                this._text = getterFunction(options.dataTextField);\n                this._value = getterFunction(options.dataValueField);\n            },\n\n            _accessor: function(value, idx) {\n                return this._accessorInput(value, idx);\n            },\n\n            _accessorInput: function(value) {\n                var element = this.element[0];\n\n                if (value === undefined$1) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = \"\";\n                    }\n                    element.value = value;\n                }\n            },\n\n            _clearInput: function() {\n                var element = this.element[0];\n                element.value = \"\";\n            },\n\n            _clearButton: function() {\n                var clearTitle = this.options.messages.clear;\n\n                if (!this._clear) {\n                    this._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                        \"role\": \"button\",\n                        \"tabIndex\": -1\n                    });\n                }\n\n                if (this.options.clearButton) {\n                    this._clear.insertAfter(this.tagList || this.span.parent());\n                    this.wrapper.addClass(\"k-dropdowntree-clearable\");\n                } else {\n                    if (!this.options.clearButton) {\n                        this._clear.remove();\n                    }\n                }\n            },\n\n            _toggleCloseVisibility: function() {\n                var isReadOnly = this.element.attr(READONLY);\n                var hasValue = (this.value() && !this._isMultipleSelection()) || this.value().length;\n                var valueDoesNotEqualPlaceHolder = this.element.val() && this.element.val() !== this.options.placeholder;\n\n                if ((!isReadOnly && (hasValue || valueDoesNotEqualPlaceHolder))) {\n                    this._showClear();\n                } else {\n                    this._hideClear();\n                }\n            },\n\n            _showClear: function() {\n                if (this._clear) {\n                    this._clear.removeClass(HIDDENCLASS);\n                }\n            },\n\n            _hideClear: function() {\n                if (this._clear) {\n                    this._clear.addClass(HIDDENCLASS);\n                }\n            },\n\n            _openHandler: function(e) {\n                this._adjustListWidth();\n\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                     this.wrapper.attr(\"aria-expanded\", true);\n                     this.tree.attr(\"aria-hidden\", false).attr(\"role\", \"tree\");\n                }\n            },\n\n            _closeHandler: function(e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                     this.wrapper.attr(\"aria-expanded\", false);\n                     this.tree.attr(\"aria-hidden\", true);\n                }\n            },\n\n            _treeview: function() {\n                var that = this;\n                if (that.options.height) {\n                    that.tree.css('max-height',that.options.height);\n                }\n                that.tree.attr('id', kendo.guid());\n                that.treeview = new TreeView(that.tree, extend({ size: that.options.size }, that.options.treeview), that);\n                that.dataSource = that.treeview.dataSource;\n\n                that.treeview.bind(\"select\",function(e) {\n                    that.trigger(\"select\", e);\n                });\n            },\n\n            _treeViewDataBound: function(e) {\n                if (e.node && this._prev && this._prev.length) {\n                    e.sender.expand(e.node);\n                }\n\n                if (this._filtering) {\n                    if (!e.node) {\n                        this._filtering = false;\n                    }\n\n                    if (!this._isMultipleSelection()) {\n                        this._deselectItem(e);\n                    }\n                    return;\n                }\n\n                if (!this.treeview) {\n                    this.treeview = e.sender;\n                }\n\n                if (!e.node) {\n                    var rootItems = e.sender.dataSource.data();\n\n                    this._checkLoadedItems(rootItems);\n                    if (this._noInitialValue) {\n                        this._noInitialValue = false;\n                    }\n                } else {\n                    var rootItem = e.sender.dataItem(e.node);\n                    if (rootItem) {\n                        var subItems = rootItem.children.data();\n                        this._checkLoadedItems(subItems);\n                    }\n                }\n                this.trigger(\"dataBound\", e);\n            },\n\n            _deselectItem: function(e) {\n                var items = [];\n                if (!e.node) {\n                    items = e.sender.dataSource.data();\n                } else {\n                    var rootItem = e.sender.dataItem(e.node);\n                    if (rootItem) {\n                        items = rootItem.children.data();\n                    }\n                }\n\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].selected &&\n                        !this._valueComparer(items[i], this.value())) {\n                        items[i].set(\"selected\", false);\n                    }\n                }\n            },\n\n            _checkLoadedItems: function(items) {\n                var value = this.value();\n\n                if (!items) {\n                    return;\n                }\n\n                for (var idx = 0; idx < items.length; idx++) {\n                    this._selection._checkLoadedItem(items[idx], value);\n                }\n            },\n\n            _treeViewCheckAllCheck: function(dataItem) {\n                if (this.options.checkAll && this.checkAll) {\n                    this._getAllChecked();\n\n                    if (dataItem.checked) {\n                        this._checkCheckAll();\n                    } else {\n                        this._uncheckCheckAll();\n                    }\n                }\n            },\n\n            _checkCheckAll: function() {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n\n                if (this._allItemsAreChecked) {\n                    checkAllCheckbox.prop('checked', true)\n                                    .prop('indeterminate', false);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', true);\n                }\n            },\n\n            _uncheckCheckAll: function() {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n\n                if (this._allItemsAreUnchecked) {\n                    checkAllCheckbox.prop('checked', false)\n                                    .prop('indeterminate', false);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', true);\n                }\n            },\n\n            _filterHeader: function() {\n                var filterTemplate = '<div class=\"k-list-filter\">' +\n                    '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                        '<span class=\"k-input-icon k-icon k-i-search\"></span>' +\n                    '</span>' +\n                '</div>';\n\n                if (this.filterInput) {\n                    this.filterInput\n                        .off(ns)\n                        .parent()\n                        .remove();\n\n                    this.filterInput = null;\n                }\n\n                if (this._isFilterEnabled()) {\n                    this._disableCheckChildren();\n\n                    this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                        .attr({\n                            placeholder: this.element.attr(\"placeholder\"),\n                            title: this.element.attr(\"title\"),\n                            role: \"searchbox\",\n                            \"aria-haspopup\": \"listbox\",\n                            \"aria-autocomplete\": \"list\"\n                        });\n\n                    this.filterInput.on(\"input\" , this._filterChange.bind(this));\n\n                    $(filterTemplate)\n                        .insertBefore(this.tree)\n                        .find(\".k-searchbox\")\n                        .append(this.filterInput);\n                }\n            },\n\n            _filterChange: function() {\n                if (this.filterInput) {\n                    this._search();\n                }\n            },\n\n            _disableCheckChildren: function() {\n                if (this._isMultipleSelection() && this.options.treeview.checkboxes && this.options.treeview.checkboxes.checkChildren) {\n                    this.options.treeview.checkboxes.checkChildren = false;\n                }\n            },\n\n            _checkAll: function() {\n                if (this.checkAll) {\n                    this.checkAll.find(\".k-checkbox-label, .k-checkbox\")\n                        .off(ns);\n                    this.checkAll.remove();\n\n                    this.checkAll = null;\n                }\n\n                if (this._isMultipleSelection() && this.options.checkAll) {\n                    var checkAllCheckbox = html.renderCheckBox(extend({}, this.options, {\n                        label: \"Check All\",\n                        rounded: \"medium\"\n                    }));\n                    this.checkAll = $('<div class=\"k-check-all\">' + checkAllCheckbox + '</div>').insertBefore(this.tree);\n                    this.checkAll.find(\".k-checkbox-label\").html(kendo.template(this.options.checkAllTemplate)({ instance: this }));\n                    this.checkAll.find(\".k-checkbox\")\n                                    .on(\"change\" + ns, this._changeCheckAll.bind(this))\n                                    .on(\"keydown\" + ns, this._keydownCheckAll.bind(this));\n                    this._disabledCheckedItems = [];\n                    this._disabledUnCheckedItems = [];\n\n                    this._getAllChecked();\n\n                    if (!this._allItemsAreUnchecked) {\n                        this._checkCheckAll();\n                    }\n                }\n            },\n\n            _changeCheckAll: function() {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                var isChecked = checkAllCheckbox.prop('checked');\n\n                this._updateCheckAll(isChecked);\n            },\n\n            _updateCheckAll: function(isChecked) {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                this._toggleCheckAllItems(isChecked);\n                checkAllCheckbox.prop('checked', isChecked);\n                if (this._disabledCheckedItems.length && this._disabledUnCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', true);\n                } else if (this._disabledCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', !isChecked);\n                } else if (this._disabledUnCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', isChecked);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', false);\n                }\n                this._disabledCheckedItems = [];\n                this._disabledUnCheckedItems = [];\n            },\n\n            _keydownCheckAll: function(e) {\n                var key = e.keyCode;\n                var altKey = e.altKey;\n\n                if ((altKey && key === keys.UP) || key === keys.ESC || key === keys.TAB) {\n                    this.close();\n                    this.wrapper.trigger(\"focus\");\n                    e.preventDefault();\n                    return;\n                }\n\n                if (key === keys.UP) {\n                    if (this.filterInput) {\n                        this.filterInput.trigger(\"focus\");\n                    } else {\n                        this.wrapper.trigger(\"focus\");\n                    }\n\n                    e.preventDefault();\n                }\n\n                if (key === keys.DOWN) {\n                    if (this.tree && this.tree.is(\":visible\")) {\n                        this.tree.focus();\n                    }\n\n                    e.preventDefault();\n                }\n\n                if (key === keys.SPACEBAR && (browser.msie || browser.edge)) {\n                    this._clickCheckAll();\n                    e.preventDefault();\n                }\n            },\n\n            _clickCheckAll: function() {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                var isChecked = checkAllCheckbox.prop('checked');\n\n                this._updateCheckAll(!isChecked);\n\n                checkAllCheckbox.trigger(\"focus\");\n\n            },\n            //treeview\n            _dfs: function(items, action, prop) {\n                for (var idx = 0; idx < items.length; idx++) {\n                    if (!this[action](items[idx], prop)) {\n                        break;\n                    }\n                    this._traverceChildren(items[idx], action, prop);\n                }\n            },\n\n            _uncheckItemByUid: function(uid) {\n                this._dfs(this.dataSource.data(), '_uncheckItemEqualsUid', uid);\n            },\n\n            _uncheckItemEqualsUid: function(item, uid) {\n                if (item.enabled !== false && item._tagUid == uid) {\n                    item.set(\"checked\", false);\n                    return false;\n                }\n                return true;\n            },\n\n            _selectItemByText: function(text) {\n                this._dfs(this.dataSource.data(), '_itemEqualsText', text);\n            },\n\n            _itemEqualsText: function(item, text) {\n                if (item.enabled !== false && this._text(item) === text) {\n                    this.treeview.select(this.treeview.findByUid(item.uid));\n                    this._selectValue(item);\n                    return false;\n                }\n                return true;\n            },\n\n            _selectItemByValue: function(value) {\n                this._dfs(this.dataSource.data(), '_itemEqualsValue', value);\n            },\n\n            _itemEqualsValue: function(item, value) {\n                if (item.enabled !== false && this._valueComparer(item, value)) {\n\n                    this.treeview.select(this.treeview.findByUid(item.uid));\n\n                    return false;\n                }\n                return true;\n            },\n\n            _checkItemByValue: function(value) {\n                var items = this.treeview.dataItems();\n                for (var idx = 0; idx < value.length; idx++) {\n                    this._dfs(items, '_checkItemEqualsValue', value[idx]);\n                }\n            },\n\n            _checkItemEqualsValue: function(item, value) {\n                if (item.enabled !== false && this._valueComparer(item, value)) {\n                        item.set(\"checked\", true);\n                    return false;\n                }\n                return true;\n            },\n\n            _valueComparer: function(item, value) {\n                var itemValue = this._value(item);\n                var itemText;\n\n                if (!this._isNullorUndefined(itemValue)) {\n                    if (this._isNullorUndefined(value)) {\n                        return false;\n                    }\n\n                    var newValue = this._value(value);\n\n                    if (newValue) {\n                        return itemValue == newValue;\n                    } else {\n                        return itemValue == value;\n                    }\n                }\n\n                itemText = this._text(item);\n                if (itemText) {\n                    if (this._text(value)) {\n                        return itemText == this._text(value);\n                    } else {\n                        return itemText == value;\n                    }\n                }\n\n                return false;\n            },\n\n            _isNullorUndefined: function(value) {\n                return value === undefined$1 || value === null;\n            },\n\n            _getAllChecked: function() {\n                this._allCheckedItems = [];\n                this._allItemsAreChecked = true;\n                this._allItemsAreUnchecked = true;\n\n                this._dfs(this.dataSource.data(), '_getAllCheckedItems');\n\n                return this._allCheckedItems;\n            },\n\n            _getAllCheckedItems: function(item) {\n                if (this._allItemsAreChecked) {\n                    this._allItemsAreChecked = item.checked;\n                }\n\n                if (this._allItemsAreUnchecked) {\n                    this._allItemsAreUnchecked = !item.checked;\n                }\n\n                if (item.checked) {\n                    this._allCheckedItems.push(item);\n                }\n                return true;\n            },\n\n            _traverceChildren: function(item, action, prop) {\n                var childrenField = (item._childrenOptions && item._childrenOptions.schema) ? item._childrenOptions.schema.data : null;\n                var subItems = item[childrenField] || item.items || item.children;\n\n                if (!subItems) {\n                    return;\n                }\n\n                this._dfs(subItems, action, prop);\n            },\n\n            _toggleCheckAllItems: function(checked) {\n                this._dfs(this.dataSource.data(), '_checkAllCheckItem', checked);\n            },\n\n            _checkAllCheckItem: function(item, checked) {\n                if (item.enabled === false) {\n                    if (item.checked) {\n                        this._disabledCheckedItems.push(item);\n                    } else {\n                        this._disabledUnCheckedItems.push(item);\n                    }\n                } else {\n                    item.set(\"checked\", checked);\n                }\n                return true;\n            },\n\n            _isFilterEnabled: function() {\n                var filter = this.options.filter;\n                return filter && filter !== \"none\";\n            },\n\n            _editable: function(options) {\n                var that = this;\n                var element = that.element;\n                var disable = options.disable;\n                var readonly = options.readonly;\n                var wrapper = that.wrapper.add(that.filterInput).off(ns);\n                var dropDownWrapper = that.wrapper.off(HOVEREVENTS);\n                if (that._isMultipleSelection()) {\n                    that.tagList.off(CLICK + ns);\n                }\n                if (!readonly && !disable) {\n                    element.prop(DISABLED, false).prop(READONLY, false);\n\n                    dropDownWrapper\n                        .removeClass(STATEDISABLED)\n                        .on(HOVEREVENTS, that._toggleHover);\n\n                    that._clear.on(\"click\" + ns, that._clearClick.bind(that));\n                    wrapper\n                        .attr(TABINDEX, wrapper.data(TABINDEX))\n                        .attr(ARIA_DISABLED, false)\n                        .on(\"keydown\" + ns, that._keydown.bind(that))\n                        .on(\"focusin\" + ns, that._focusinHandler.bind(that))\n                        .on(\"focusout\" + ns, that._focusoutHandler.bind(that));\n\n                    that.wrapper.on(CLICK + ns, that._wrapperClick.bind(that));\n\n                    if (this._isMultipleSelection()) {\n                        that.tagList.on(CLICK + ns, \"div.k-chip\", function(e) {\n                            $(e.currentTarget).addClass(FOCUSED);\n                        });\n\n                        that.tagList.on(CLICK + ns, \".k-i-x-circle\", function(e) {\n                            that._removeTagClick(e);\n                        });\n                    }\n                } else if (disable) {\n                    wrapper.removeAttr(TABINDEX);\n                    dropDownWrapper\n                        .addClass(STATEDISABLED);\n                } else {\n                    wrapper\n                        .attr(TABINDEX, wrapper.data(TABINDEX));\n\n                    dropDownWrapper\n                        .removeClass(STATEDISABLED);\n\n                    wrapper\n                        .on(\"focusin\" + ns, that._focusinHandler.bind(that))\n                        .on(\"focusout\" + ns, that._focusoutHandler.bind(that));\n                }\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly);\n\n                wrapper.attr(ARIA_DISABLED, disable);\n            },\n\n            _focusinHandler: function() {\n                this.wrapper.addClass(FOCUSED);\n                this._prevent = false;\n            },\n\n            _focusoutHandler: function() {\n                var that = this;\n\n                if (this._isMultipleSelection()) {\n                    this.tagList.find(DOT + FOCUSED).removeClass(FOCUSED);\n                }\n                if (!that._prevent) {\n                    this.wrapper.removeClass(FOCUSED);\n                    that._prevent = true;\n                    that.element.trigger(\"blur\");\n                }\n            },\n\n            _toggle: function(open) {\n                open = open !== undefined$1 ? open : !this.popup.visible();\n\n                this[open ? OPEN : CLOSE]();\n            },\n\n            _wrapperClick: function(e) {\n                e.preventDefault();\n                this.popup.unbind(\"activate\", this._focusInputHandler);\n                this._focused = this.wrapper;\n                this._prevent = false;\n                this._toggle();\n            },\n\n            _toggleHover: function(e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n            },\n\n            _focusInput: function() {\n                if (this.filterInput) {\n                    this.filterInput.trigger(\"focus\");\n                } else if (this.checkAll) {\n                    this.checkAll.find(\".k-checkbox\").trigger(\"focus\");\n                } else if (this.tree.is(\":visible\")) {\n                    this.tree[0].focus({ preventScroll: true });\n                    this._ie11PreventScrollOnFocus();\n                }\n            },\n\n            _ie11PreventScrollOnFocus: function() {\n                if (browser.msie && browser.version == 11) {\n                    var popup = this.popup;\n                    popup._toggleResize(false);\n                    setTimeout(function() {\n                        popup._toggleResize(true);\n                    },50);\n                }\n            },\n\n            _keydown: function(e) {\n                var key = e.keyCode;\n                var altKey = e.altKey;\n                var isFilterInputActive;\n                var isWrapperActive;\n                var focused, tagItem;\n\n                var isPopupVisible = this.popup.visible();\n\n                if (this.filterInput) {\n                    isFilterInputActive = this.filterInput[0] === activeElement();\n                }\n\n                if (this.wrapper) {\n                    isWrapperActive = this.wrapper[0] === activeElement();\n                }\n\n                if (isWrapperActive) {\n                    if (key === keys.ESC) {\n                        this._clearTextAndValue();\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (this._isMultipleSelection()) {\n                        if (key === keys.LEFT) {\n                            this._focusPrevTag();\n                            e.preventDefault();\n                            return;\n                        }\n\n                        if (key === keys.RIGHT) {\n                            this._focusNextTag();\n                              e.preventDefault();\n                            return;\n                        }\n\n                        if (key === keys.HOME) {\n                            this._focusFirstTag();\n                            e.preventDefault();\n                            return;\n                        }\n\n                        if (key === keys.END) {\n                            this._focusLastTag();\n                            e.preventDefault();\n                            return;\n                        }\n\n                        if (key === keys.DELETE) {\n                            focused = this.tagList.find(DOT + FOCUSED).first();\n                            if (focused.length) {\n                                tagItem = this._tags[focused.index()];\n                                this._removeTag(tagItem);\n                            }\n                            e.preventDefault();\n                            return;\n                        }\n\n                        if (key === keys.BACKSPACE) {\n                            focused = this.tagList.find(DOT + FOCUSED).first();\n                            if (focused.length) {\n                                tagItem = this._tags[focused.index()];\n                                this._removeTag(tagItem);\n                            } else {\n                                focused = this._focusLastTag();\n                                if (focused.length) {\n                                    tagItem = this._tags[focused.index()];\n                                    this._removeTag(tagItem);\n                                }\n                            }\n                            e.preventDefault();\n                            return;\n                        }\n                    }\n                }\n\n\n                if (isFilterInputActive) {\n                    if (key === keys.ESC) {\n                        this._clearFilter();\n                    }\n\n                    if ((key === keys.UP) && !altKey) {\n                        this.wrapper.trigger(\"focus\");\n                        e.preventDefault();\n                    }\n\n                    if (browser.msie && browser.version < 10) {\n                        if (key === keys.BACKSPACE || key === keys.DELETE) {\n                            this._search();\n                        }\n                    }\n\n                    if (key === keys.TAB) {\n                        this.close();\n                        this.wrapper.trigger(\"focus\");\n                        e.preventDefault();\n                        return;\n                    }\n                }\n\n                if ((altKey && key === keys.UP) || key === keys.ESC) {\n                    this.close();\n                    this.wrapper.trigger(\"focus\");\n                    e.preventDefault();\n                    return;\n                }\n\n                if (key === keys.ENTER && this._typingTimeout && this.filterInput && isPopupVisible) {\n                    e.preventDefault();\n                    return;\n                }\n\n                if (key === keys.SPACEBAR && !isFilterInputActive) {\n                    this._toggle(!isPopupVisible);\n                    e.preventDefault();\n                }\n\n                if ((altKey && key === keys.DOWN) && !isPopupVisible) {\n                    this.open();\n                    e.preventDefault();\n                }\n\n                if ((key === keys.DOWN) && isPopupVisible) {\n                    if (this.filterInput && !isFilterInputActive) {\n                        this.filterInput.trigger(\"focus\");\n                    } else if (this.checkAll && this.checkAll.is(\":visible\")) {\n                        this.checkAll.find('input').trigger(\"focus\");\n                    } else if (this.tree.is(\":visible\")) {\n                        this.tree[0].focus({ preventScroll: true });\n                        this._ie11PreventScrollOnFocus();\n                    }\n                    e.preventDefault();\n                }\n\n                if (key === keys.TAB && isPopupVisible) {\n                    this.close();\n                    this.wrapper.trigger(\"focus\");\n                    e.preventDefault();\n                }\n            },\n\n            _focusPrevTag: function() {\n                var focused = this.tagList.find(DOT + FOCUSED);\n                if (focused.length) {\n                    var activedescendant = this._activeId;\n\n                    focused.first()\n                        .removeClass(FOCUSED)\n                        .removeAttr(\"id\")\n                        .prev(CHIP)\n                        .addClass(FOCUSED)\n                        .attr(\"id\", activedescendant);\n\n                    this.wrapper.attr(\"aria-activedescendant\", activedescendant);\n                } else {\n                    this._focusLastTag();\n                }\n            },\n\n            _focusNextTag: function() {\n                var focused = this.tagList.find(DOT + FOCUSED);\n\n                if (focused.length) {\n                    var activedescendant = this._activeId;\n\n                    focused.first()\n                        .removeClass(FOCUSED)\n                        .removeAttr(\"id\")\n                        .next(CHIP)\n                        .addClass(FOCUSED)\n                        .attr(\"id\", activedescendant);\n\n                    this.wrapper.attr(\"aria-activedescendant\", activedescendant);\n                } else {\n                    this._focusFirstTag();\n                }\n            },\n\n            _focusFirstTag: function() {\n                var activedescendant = this._activeId;\n\n                this._clearDisabledTag();\n\n                var firstTag = this.tagList.children(CHIP).first()\n                    .addClass(FOCUSED)\n                    .attr(\"id\", activedescendant);\n\n                this.wrapper.attr(\"aria-activedescendant\", activedescendant);\n\n                return firstTag;\n            },\n\n            _focusLastTag: function() {\n                var activedescendant = this._activeId;\n\n                this._clearDisabledTag();\n\n                var lastTag = this.tagList.children(CHIP).last()\n                    .addClass(FOCUSED)\n                    .attr(\"id\", activedescendant);\n\n                this.wrapper.attr(\"aria-activedescendant\", activedescendant);\n\n                return lastTag;\n            },\n\n            _clearDisabledTag: function() {\n                this.tagList.find(DOT + FOCUSED).removeClass(FOCUSED).removeAttr(\"id\");\n            },\n\n            _search: function() {\n                var that = this;\n                clearTimeout(that._typingTimeout);\n\n                that._typingTimeout = setTimeout(function() {\n                    var value = that.filterInput.val();\n\n                    if (that._prev !== value) {\n                        that._prev = value;\n                        that.search(value);\n                    }\n\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            },\n\n            _clearFilter: function() {\n                if (this.filterInput.val().length) {\n                    this.filterInput.val(\"\");\n                    this._prev = \"\";\n                    this._filtering = true;\n                    this.treeview.dataSource.filter({});\n                }\n            },\n\n            _removeTagClick: function(e) {\n                e.stopPropagation();\n                var tagItem = this._tags[$(e.currentTarget.closest(CHIP)).index()];\n                this._removeTag(tagItem);\n            },\n\n            _removeTag: function(tagItem) {\n               if (!tagItem) {\n                    return;\n               }\n\n               var uid = tagItem.uid;\n               this._uncheckItemByUid(uid);\n            }\n        });\n\n        function assign(instance, fields, value) {\n            var idx = 0,\n                lastIndex = fields.length - 1,\n                field;\n\n            for (; idx < lastIndex; ++idx) {\n                field = fields[idx];\n\n                if (!(field in instance)) {\n                    instance[field] = {};\n                }\n\n                instance = instance[field];\n            }\n\n            instance[fields[lastIndex]] = value;\n        }\n\n        ui.plugin(DropDownTree);\n\n        kendo.cssProperties.registerPrefix(\"DropDownTree\", \"k-picker-\");\n\n        kendo.cssProperties.registerValues(\"DropDownTree\", [{\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n\n        kendo.cssProperties.registerPrefix(\"MultiSelectDropDownTree\", \"k-input-\");\n\n        kendo.cssProperties.registerValues(\"MultiSelectDropDownTree\", [{\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n\n        var SingleSelection = kendo.Class.extend({\n            init: function(view) {\n                this._dropdowntree = view;\n            },\n\n            _initWrapper: function() {\n                this._wrapper();\n                this._span();\n            },\n\n            _preselect: function(data) {\n                var dropdowntree = this._dropdowntree;\n\n                dropdowntree._selectValue(data);\n            },\n\n            _wrapper: function() {\n                var dropdowntree = this._dropdowntree,\n                    element = dropdowntree.element,\n                    DOMelement = element[0],\n                    wrapper;\n\n                wrapper = element.parent();\n\n                if (!wrapper.is(\"span.k-dropdowntree\")) {\n                    wrapper = element.wrap(\"<span />\").parent();\n                    wrapper[0].style.cssText = DOMelement.style.cssText;\n                    wrapper[0].title = DOMelement.title;\n                }\n\n                dropdowntree._focused = dropdowntree.wrapper = wrapper\n                    .addClass(\"k-dropdowntree k-picker\")\n                    .addClass(DOMelement.className)\n                    .removeClass('input-validation-error')\n                    .removeClass('k-invalid')\n                    .css(\"display\", \"\")\n                    .attr({\n                        accesskey: element.attr(\"accesskey\"),\n                        unselectable: \"on\"\n                    });\n\n                element.hide().removeAttr(\"accesskey\");\n            },\n\n            _span: function() {\n                var dropdowntree = this._dropdowntree,\n                    wrapper = dropdowntree.wrapper,\n                    SELECTOR = \"span.k-input-value-text\",\n                    span;\n\n                span = wrapper.find(SELECTOR);\n\n                if (!span[0]) {\n                    wrapper.append('<span unselectable=\"on\" class=\"k-input-inner\"><span class=\"k-input-value-text\"></span></span>' +\n                                    html.renderButton('<button unselectable=\"on\" class=\"k-input-button\" aria-label=\"select\" tabindex=\"-1\"></button>', extend({}, dropdowntree.options, {\n                                        icon: \"arrow-s\",\n                                        shape: \"none\",\n                                        rounded: \"none\"\n                                    })))\n                           .append(dropdowntree.element);\n\n                    span = wrapper.find(SELECTOR);\n                }\n\n                dropdowntree.span = span;\n                dropdowntree._arrow = wrapper.find(\".k-input-button\");\n                dropdowntree._arrowIcon = dropdowntree._arrow.find(\".k-icon\");\n            },\n\n            _setValue: function(value) {\n                var dropdowntree = this._dropdowntree;\n                var currentValue;\n\n                if (value === undefined$1 || value === null) {\n                    currentValue = dropdowntree._values.slice()[0];\n                    value = (typeof currentValue === \"object\") ? currentValue : dropdowntree._accessor() || currentValue;\n                    return value === undefined$1 || value === null ? \"\" : value;\n                }\n                dropdowntree._valueMethodCalled = true;\n                if (value.length === 0) {\n                    dropdowntree._clearTextAndValue();\n                    dropdowntree._valueMethodCalled = false;\n                    return;\n                }\n\n                dropdowntree._selectItemByValue(value);\n                dropdowntree._toggleCloseVisibility();\n                dropdowntree._refreshFloatingLabel();\n            },\n\n            _clearValue: function() {\n                var dropdowntree = this._dropdowntree;\n                var selectedNode = dropdowntree.treeview.select();\n                var dropdowntreeHasValue = dropdowntree._values.length;\n                var triggerChange = false;\n                if (dropdowntree.treeview.dataItem(selectedNode)) {\n                    dropdowntree.treeview.dataItem(selectedNode).set('selected', false);\n                    triggerChange = true;\n                } else if (dropdowntreeHasValue > 0) {\n                    triggerChange = true;\n                }\n\n                if (!dropdowntree._valueMethodCalled && triggerChange) {\n                    dropdowntree.trigger(CHANGE);\n                }\n            },\n\n            _checkLoadedItem: function(tempItem, value) {\n                var dropdowntree = this._dropdowntree;\n\n                if (!dropdowntree._isNullorUndefined(value) && value !== \"\") {\n                    if (dropdowntree._valueComparer(tempItem, value)) {\n                        dropdowntree._preventChangeTrigger = true;\n                        tempItem.set(\"selected\", true);\n                        dropdowntree._preventChangeTrigger = false;\n                    } else if (tempItem.selected) {\n                        dropdowntree.treeview.select(dropdowntree.treeview.findByUid(tempItem.uid));\n                    }\n\n                } else if (!value && tempItem.selected) {\n                    dropdowntree.treeview.select(dropdowntree.treeview.findByUid(tempItem.uid));\n                }\n            }\n        });\n\n        var MultipleSelection = kendo.Class.extend({\n            init: function(view) {\n                this._dropdowntree = view;\n            },\n\n            _initWrapper: function() {\n                var dropdowntree = this._dropdowntree;\n\n                this._tagTemplate();\n                dropdowntree.element.attr(\"multiple\", \"multiple\").hide();\n                this._wrapper();\n                dropdowntree._tags = new ObservableArray([]);\n                dropdowntree._multipleTags = new ObservableArray([]);\n                this._tagList();\n                dropdowntree.span = $('<span unselectable=\"on\" class=\"k-input-inner\"><span class=\"k-input-value-text\"></span></span>').appendTo(dropdowntree.tagList).find(\".k-input-value-text\");\n\n            },\n\n            _preselect: function(data, value) {\n                var dropdowntree = this._dropdowntree;\n                var valueToSelect = value || dropdowntree.options.value;\n\n                if (!Array.isArray(data) && !(data instanceof kendo.data.ObservableArray)) {\n                    data = [data];\n                }\n\n                if ($.isPlainObject(data[0]) || data[0] instanceof kendo.data.ObservableObject || !dropdowntree.options.dataValueField) {\n                    dropdowntree.dataSource.data(data);\n\n                    dropdowntree.value(valueToSelect);\n                }\n            },\n\n            _tagTemplate: function() {\n                var dropdowntree = this._dropdowntree;\n                var options = dropdowntree.options;\n                var tagTemplate = options.valueTemplate;\n                var isMultiple = options.tagMode === \"multiple\";\n                var singleTag = options.messages.singleTag;\n\n                tagTemplate = tagTemplate ? kendo.template(tagTemplate) : dropdowntree.valueTemplate;\n\n                dropdowntree.valueTemplate = function(data) {\n                    return html.renderChip('<span unselectable=\"on\" role=\"option\"' +\n                        'class=\"' + ((data.enabled === false) ? \"k-disabled\" : \"\") + '\"' +\n                        ((data.enabled === false) ? 'aria-disabled=\"true\"' : '') +\n                        '>' +\n                        '</span>', $.extend({}, options, {\n                                fillMode: \"solid\",\n                                themeColor: \"base\",\n                                rounded: \"medium\",\n                                attr: {\n                                    unselectable: \"on\"\n                                },\n                                text: (isMultiple ? tagTemplate(data) : ('<span unselectable=\"on\" data-bind=\"text: tags.length\"></span>' +\n                                '<span unselectable=\"on\">&nbsp;' + singleTag + '</span>' )),\n                                removable: isMultiple,\n                                removeIcon: \"x-circle\",\n                                removableAttr: {\n                                    unselectable: \"on\",\n                                    \"aria-hidden\": true,\n                                    \"aria-label\": dropdowntree.options.messages.deleteTag,\n                                    title: dropdowntree.options.messages.deleteTag\n                                }\n                            }));\n                };\n            },\n\n            _wrapper: function() {\n                var dropdowntree = this._dropdowntree,\n                    element = dropdowntree.element,\n                    wrapper = element.parent(\"span.k-dropdowntree\");\n\n                if (!wrapper[0]) {\n                    wrapper = element.wrap('<span class=\"k-dropdowntree k-input\" unselectable=\"on\" />').parent();\n                    wrapper[0].style.cssText = element[0].style.cssText;\n                    wrapper[0].title = element[0].title;\n                }\n\n                dropdowntree.wrapper = wrapper.addClass(element[0].className).css(\"display\", \"\");\n            },\n\n            _tagList: function() {\n                var dropdowntree = this._dropdowntree,\n                    tagList = dropdowntree.wrapper.children(\"div.k-input-values\");\n\n                if (!tagList[0]) {\n                    var isMultiple = dropdowntree.options.tagMode === \"multiple\";\n                    var tagCollection = isMultiple ? \"tags\" : \"multipleTag\";\n\n                    tagList = $(html.renderChipList('<div unselectable=\"on\" class=\"k-input-values\" data-template=\"tagTemplate\" data-bind=\"source: ' + tagCollection + '\" />', $.extend({}, dropdowntree.options))).appendTo(dropdowntree.wrapper);\n                }\n\n                dropdowntree.tagList = tagList;\n                dropdowntree.tagList.attr('id', kendo.guid() + \"_tagList\");\n                dropdowntree.wrapper.attr(\"aria-controls\", dropdowntree.tagList.attr('id'));\n                var viewModel = kendo.observable({\n                    multipleTag: dropdowntree._multipleTags,\n                    tags: dropdowntree._tags,\n                    tagTemplate: dropdowntree.valueTemplate\n                });\n                kendo.bind(dropdowntree.tagList, viewModel);\n                dropdowntree.tagList.attr(\"data-stop\", true);\n            },\n\n            _setValue: function(value) {\n                var dropdowntree = this._dropdowntree;\n                var oldValues = dropdowntree._values;\n                if (value === undefined$1 || value === null) {\n                    return dropdowntree._values.slice();\n                }\n\n                dropdowntree.setValue(value);\n                dropdowntree._valueMethodCalled = true;\n                if (value.length) {\n                    this._removeValues(oldValues, value);\n\n                    dropdowntree._checkItemByValue(value);\n                } else {\n                    dropdowntree._clearTextAndValue();\n                }\n\n                dropdowntree._valueMethodCalled = false;\n                dropdowntree._toggleCloseVisibility();\n                dropdowntree._refreshFloatingLabel();\n            },\n\n            _removeValues: function(oldValues, value) {\n                var dropdowntree = this._dropdowntree;\n                var removedValues = this._getNewValues(oldValues, value);\n\n                for (var idx = 0; idx < removedValues.length; idx++) {\n                    for (var j = 0; j < dropdowntree._tags.length; j++) {\n                        if (dropdowntree._valueComparer(dropdowntree._tags[j],removedValues[idx])) {\n                            dropdowntree._uncheckItemByUid(dropdowntree._tags[j].uid);\n                        }\n                    }\n                }\n            },\n\n            _getNewValues: function(oldValues, value) {\n                var removedValues = [];\n\n                for (var idx = 0; idx < oldValues.length; idx++) {\n                    if (value.indexOf(oldValues[idx]) === -1) {\n                        removedValues.push(oldValues[idx]);\n                    }\n                }\n\n                return removedValues;\n            },\n\n            _clearValue: function() {\n                var dropdowntree = this._dropdowntree;\n                var tagsArray = dropdowntree._tags.slice();\n\n                for (var idx = 0; idx < tagsArray.length; idx++) {\n                    var uid = tagsArray[idx].uid;\n                    dropdowntree._preventChangeTrigger = true;\n                    dropdowntree._uncheckItemByUid(uid);\n                }\n\n                if (tagsArray.length) {\n                    dropdowntree._preventChangeTrigger = false;\n                    if (!dropdowntree._valueMethodCalled) {\n                        dropdowntree.trigger(CHANGE);\n                    }\n                }\n            },\n\n            _checkLoadedItem: function(tempItem, value) {\n                var dropdowntree = this._dropdowntree;\n\n                if (dropdowntree._noInitialValue && tempItem.checked) {\n                    dropdowntree._checkValue(tempItem);\n                    return;\n                }\n\n                if ((value.length || this._isDataSourceSet) &&\n                    (value.indexOf(dropdowntree._currentValue(tempItem)) !== -1 || value.indexOf(tempItem)) !== -1 &&\n                    !this._findTag(dropdowntree._currentValue(tempItem))) {\n                    if (tempItem.checked) {\n                        dropdowntree._checkValue(tempItem);\n                    } else {\n                        dropdowntree._preventChangeTrigger = true;\n                        tempItem.set(\"checked\", true);\n                        dropdowntree._preventChangeTrigger = false;\n                    }\n                }\n            },\n\n            _findTag: function(tempItemValue) {\n                var dropdowntree = this._dropdowntree;\n\n                return dropdowntree._tags.find(function(item) {\n                    return dropdowntree._valueComparer(item, tempItemValue);\n                });\n            }\n        });\n\n        kendo.ui.DropDownTree.SingleSelection = SingleSelection;\n        kendo.ui.DropDownTree.MultipleSelection = MultipleSelection;\n\n    })(window.kendo.jQuery);\n\n}));\n"]}