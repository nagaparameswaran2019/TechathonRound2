{"version":3,"file":"kendo.gantt.timeline.min.js","names":["factory","define","amd","$","Widget","kendo","ui","kendoDomElement","dom","element","kendoTextElement","text","kendoHtmlElement","html","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","extend","isRtl","keys","Query","data","NS","CLICK","MOUSEMOVE","MOUSEENTER","MOUSELEAVE","DOT","DAY_HEADER_TEMPLATE","ref","start","toString","WEEK_HEADER_TEMPLATE","end","date","addDays","MONTH_HEADER_TEMPLATE","RESIZE_TOOLTIP_TEMPLATE","styles","messages","format","TASK_TOOLTIP_TEMPLATE","task","htmlEncode","taskDetails","title","percentComplete","defaultViews","day","type","week","month","year","blurActiveElement","activeElement","_activeElement","nodeName","toLowerCase","trigger","GanttView","init","options","fn","call","this","name","header","find","gridHeader","content","gridContent","contentWidth","width","_workDays","workDays","dayIndex","workWeekStart","push","workWeekEnd","getWorkDays","_headerTree","headerTree","_taskTree","taskTree","_taskTemplate","taskTemplate","template","Template","templateSettings","_dependencyTree","dependencyTree","_taskCoordinates","_currentTime","destroy","clearTimeout","_tooltipTimeout","headerRow","_dragHint","_resizeHint","_resizeTooltip","_taskTooltip","_percentCompleteResizeTooltip","showWorkHours","showWorkDays","workDayStart","Date","workDayEnd","hourSpan","slotSize","currentTimeMarker","updateInterval","renderLayout","_slots","_createSlots","_tableWidth","_calculateTableWidth","createLayout","_layout","_slotDimensions","_adjustHeight","dependenciesWrapper","height","rows","headers","_headers","colgroup","_colgroup","tree","table","style","role","render","first","last","slot","children","slots","_timeSlots","i","length","offsetLeft","offsetWidth","tasks","contentTable","totalHeight","taskCount","rowsTable","_rowsTable","columnsTable","_columnsTable","tasksTable","_tasksTable","calculatedSize","row","_contentHeight","_rowHeight","undefined","_renderCurrentTime","rowCount","attributes","className","alt","_createTable","slotSpan","cells","slotsCount","totalSpan","span","colspan","isNonWorking","nonWorking","cell","position","plannedPosition","resourcesPosition","resourceStyle","rowIndex","taskLeft","taskRight","coordinates","size","_calculateMilestoneWidth","milestoneWidth","Math","round","resourcesField","resource","resourceAlt","resourcesMargin","_calculateResourcesMargin","taskBorderWidth","_calculateTaskBorderWidth","showPlannedTasks","l","_taskPosition","_taskPositionPlanned","borderWidth","_renderTask","left","max","clientWidth","resourcesWrap","_renderResources","isMilestone","id","tbody","cols","currentSpan","maxSpan","boundingClientRect","taskMilestone","milestone","append","getBoundingClientRect","right","remove","margin","wrapper","parseInt","css","computedStyle","taskSingle","getComputedStyles","parseFloat","taskWrapper","taskElement","progressHandleOffset","plannedElement","endTaskDotLeft","taskOffsetWrap","offsetElement","editable","wrapClassName","taskWrap","dragHandleStyle","taskWrapAttr","endTaskDotRight","taskFullWidth","_renderPlannedMilestone","_renderPlannedSingleTask","summary","_renderSummary","taskSummaryWrap","_renderMilestone","taskMilestoneWrap","_renderSingleTask","plannedStart","plannedEnd","taskOffset","resize","update","taskActions","link","taskDelete","href","icon","iconDelete","taskResizeHandle","taskResizeHandleWest","taskResizeHandleEast","taskInnerWrap","dependencyCreate","taskDot","taskDotStart","taskDotEnd","dragPercentComplete","taskDragHandle","progressWidth","taskContent","taskChildren","classes","widthExceptDelay","taskDelayed","taskAdvanced","taskComplete","uid","taskSummary","taskSummaryProgress","taskSummaryComplete","taskPlannedMoment","taskPlannedMomentLeft","taskPlannedDuration","taskPlanned","resources","color","get","reverse","startLeft","_offset","slotOffset","_slotIndex","field","value","middle","startIdx","endIdx","slice","ceil","_timeByPosition","x","snap","snapToEnd","_slotByPosition","offset","duration","getTime","slotIndex","_renderDependencies","dependencies","elements","apply","_renderDependency","dependency","predecessor","predecessorId","successor","successorId","attr","_renderFF","from","to","lines","_dependencyFF","_arrow","_renderSS","_renderFS","_dependencyFS","_renderSF","delta","that","top","dir","rowHeight","fromTop","floor","toTop","addHorizontal","_line","line","lineHorizontal","addVertical","lineVertical","abs","minLineHeight","direction","arrowWest","arrowEast","count","j","_createDragHint","clone","addClass","dragHint","cursor","visibility","closest","_updateDragHint","_removeDragHint","_createResizeHint","tooltipTop","taskTop","RESIZE_HINT","views","resizeTooltipFormat","_resizeTooltipWidth","_resizeTooltipTop","_updateResizeHint","resizeStart","tooltipLeft","tablesWidth","support","scrollbar","tooltipWidth","tableOffset","tasksWrapper","appendTo","_removeResizeHint","_updatePercentCompleteTooltip","_removePercentCompleteTooltip","tooltip","PERCENT_RESIZE_TOOLTIP_TEMPLATE","tooltipMiddle","arrow","callout","arrowHeight","_updateDependencyDragHint","_removeDependencyDragHint","_creteDependencyDragHint","deltaX","deltaY","y","sqrt","angle","atan","PI","dependencyHint","transform","_createTaskTooltip","mouseLeft","contentOffset","contentScrollLeft","scrollLeft","parents","rowOffset","scrollTop","tooltipWrapper","_adjustTooltipDimensions","_removeTaskTooltip","_createOffsetTooltip","hours","_offsetTooltip","offsetValue","plannedTasksMessages","plannedTasks","minutes","offsetText","days","offsetTooltipDelay","offsetPrefix","_removeOffsetTooltip","_createPlannedTooltip","_plannedTooltip","plannedTooltip","editorMessages","editor","startDate","endDate","_removePlannedTooltip","_scrollTo","elementLeft","elementWidth","elementRight","rowTop","rowBottom","contentTop","contentBottom","contentLeft","contentRight","scrollbarWidth","_scrollToDate","viewStart","viewEnd","columnLevels","level","column","headerText","levelIndex","levelCount","columnIndex","columnCount","_hours","slotEnd","isWorkHour","getHours","setHours","_days","isWorkDay","nextDay","_isWorkDay","_weeks","daySlots","firstDay","calendarInfo","dayOfWeek","_months","endMonth","firstDayOfMonth","setMonth","getMonth","_years","monthSpan","_slotHeaders","columns","getDay","getCulture","calendars","standard","currentTime","_getCurrentTime","timeOffset","viewStyles","tablesWrap","markerOptions","_currentTimeUpdateTimer","setInterval","bind","reset","gridHeaderWrap","taskDetailsPercent","tooltipContent","tooltipCallout","marquee","marqueeColor","offsetTooltipAdvanced","GanttDayView","timeHeaderTemplate","dayHeaderTemplate","range","optionsRange","getDate","getMilliseconds","daySlot","hourSlots","GanttWeekView","weekHeaderTemplate","endDay","rangeEnd","setDate","GanttMonthView","monthHeaderTemplate","lastDayOfMonth","GanttYearView","yearHeaderTemplate","monthSlots","each","index","GanttTimeline","_wrapper","_domTrees","_views","_selectable","_draggable","_resizable","_percentResizeDraggable","_createDependencyDraggable","_attachEvents","_tooltip","selectable","clearInterval","_unbindView","_selectedView","_moveDraggable","_resizeDraggable","_percentDraggable","_dependencyDraggable","touch","off","calculatedRowHeight","calculatedCellHeight","gridContentWrap","_calculatedSize","Tree","view","isSettings","defaultView","selected","_selectedViewName","_selectView","action","_initializeView","_viewByIndex","getter","window","Error","newRange","newDate","prefix","_range","sort","toArray","_render","_tasks","_taskByUid","currentStart","startOffset","cleanUp","dragInProgress","move","Draggable","distance","filter","holdToDrag","mobileOS","ignore","e","currentTarget","parent","preventDefault","location","throttle","updateHintDate","userEvents","currentEnd","hasClass","taskElementOffset","timelineOffset","originalPercentWidth","maxPercentWidth","currentPercentComplete","updateElement","siblings","initialDelta","currentWidth","min","originalHandle","startX","startY","hoveredHandle","hoveredTask","removeClass","hovered","origin","toggleHandles","toggleClass","elementOffset","tablesOffset","target","elementUnderCursor","currentX","currentY","fromStart","toStart","predecessorElement","successorElement","on","stopPropagation","ctrlKey","document","elementFromPoint","clientX","clientY","click","selectDependency","clearSelection","select","taskWrapActive","_tabindex","selectedDependency","keyCode","DELETE","dependencyDestroy","kendoTouch","doubletap","currentMousePosition","tooltipOptions","mouseMoveHandler","visible","relatedTarget","currentPosition","client","setTimeout","_offsetTooltipTimeout","_plannedTooltipTimeout","_setPlanned","jQuery"],"sources":["kendo.gantt.timeline.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.dom', 'kendo.touch', 'kendo.draganddrop'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"gantt.timeline\",\n        name: \"Gantt Timeline\",\n        category: \"web\",\n        description: \"The Gantt Timeline\",\n        depends: [ \"dom\", \"touch\", \"draganddrop\" ],\n        hidden: true\n    };\n\n    (function($) {\n\n        var Widget = kendo.ui.Widget;\n        var kendoDomElement = kendo.dom.element;\n        var kendoTextElement = kendo.dom.text;\n        var kendoHtmlElement = kendo.dom.html;\n        var isPlainObject = $.isPlainObject;\n        var outerWidth = kendo._outerWidth;\n        var outerHeight = kendo._outerHeight;\n        var extend = $.extend;\n        var isRtl = false;\n        var keys = kendo.keys;\n        var Query = kendo.data.Query;\n        var STRING = \"string\";\n        var NS = \".kendoGanttTimeline\";\n        var CLICK = \"click\";\n        var DBLCLICK = \"dblclick\";\n        var MOUSEMOVE = \"mousemove\";\n        var MOUSEENTER = \"mouseenter\";\n        var MOUSELEAVE = \"mouseleave\";\n        var KEYDOWN = \"keydown\";\n        var DOT = \".\";\n        var TIME_HEADER_TEMPLATE = function (ref) {\n            var start = ref.start;\n\n            return kendo.toString(start, 't');\n        };\n        var DAY_HEADER_TEMPLATE = function (ref) {\n            var start = ref.start;\n\n            return kendo.toString(start, 'ddd M/dd');\n        };\n        var WEEK_HEADER_TEMPLATE = function (ref) {\n            var start = ref.start;\n            var end = ref.end;\n\n            return ((kendo.toString(start, 'ddd M/dd')) + \" - \" + (kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')));\n        };\n        var MONTH_HEADER_TEMPLATE = function (ref) {\n            var start = ref.start;\n\n            return kendo.toString(start, 'MMM');\n        };\n        var YEAR_HEADER_TEMPLATE = function (ref) {\n            var start = ref.start;\n\n            return kendo.toString(start, 'yyyy');\n        };\n        var RESIZE_HINT = function (ref) {\n            var styles = ref.styles;\n\n            return \"<div class=\\\"\" + (styles.marquee) + \"\\\">\" +\n                               \"<div class=\\\"\" + (styles.marqueeColor) + \"\\\"></div>\" +\n                           '</div>';\n        };\n        var RESIZE_TOOLTIP_TEMPLATE = function (ref) {\n            var styles = ref.styles;\n            var messages = ref.messages;\n            var start = ref.start;\n            var end = ref.end;\n            var format = ref.format;\n\n            return \"<div style=\\\"z-index: 100002;\\\" class=\\\"\" + (styles.tooltipWrapper) + \" k-gantt-resize-hint\\\">\" +\n                                       \"<div class=\\\"\" + (styles.tooltipContent) + \"\\\">\" +\n                                            \"<div>\" + (messages.start) + \": \" + (kendo.toString(start, format)) + \"</div>\" +\n                                            \"<div>\" + (messages.end) + \": \" + (kendo.toString(end, format)) + \"</div>\" +\n                                       '</div>' +\n                                  '</div>';\n        };\n        var PERCENT_RESIZE_TOOLTIP_TEMPLATE = function (ref) {\n            var styles = ref.styles;\n            var text = ref.text;\n\n            return \"<div style=\\\"z-index: 100002;\\\" class=\\\"\" + (styles.tooltipWrapper) + \"\\\" >\" +\n                                       \"<div class=\\\"\" + (styles.tooltipContent) + \"\\\">\" + text + \"%</div>\" +\n                                       \"<div class=\\\"\" + (styles.tooltipCallout) + \"\\\" style=\\\"left:13px;\\\"></div>\" +\n                                  '</div>';\n        };\n        var TASK_TOOLTIP_TEMPLATE = function (ref) {\n            var styles = ref.styles;\n            var task = ref.task;\n            var messages = ref.messages;\n\n            return \"<div class=\\\"\" + (kendo.htmlEncode(styles.taskDetails)) + \"\\\">\" +\n                                        \"<strong>\" + (kendo.htmlEncode(task.title)) + \"</strong>\" +\n                                        \"<div class=\\\"\" + (styles.taskDetailsPercent) + \"\\\">\" + (kendo.toString(task.percentComplete, \"p0\")) + \"</div>\" +\n                                        \"<ul class=\\\"\" + (styles.reset) + \"\\\">\" +\n                                            \"<li>\" + (messages.start) + \": \" + (kendo.toString(task.start, \"h:mm tt ddd, MMM d\")) + \"</li>\" +\n                                            \"<li>\" + (messages.end) + \": \" + (kendo.toString(task.end, \"h:mm tt ddd, MMM d\")) + \"</li>\" +\n                                        '</ul>' +\n                                    '</div>';\n        };\n        var OFFSET_TOOLTIP_TEMPLATE = function (ref) {\n            var offsetPrefix = ref.offsetPrefix;\n            var offsetText = ref.offsetText;\n\n            return (\"<span>\" + offsetPrefix + \": \" + offsetText + \"</span>\");\n        };\n        var PLANNED_TOOLTIP_TEMPLATE = function (ref) {\n            var plannedStart = ref.plannedStart;\n            var plannedEnd = ref.plannedEnd;\n            var startDate = ref.startDate;\n            var endDate = ref.endDate;\n\n            return '<div class=\"k-task-content\">' +\n                \"<div>\" + plannedStart + \": \" + startDate + \"</div>\" +\n                \"<div>\" + plannedEnd + \": \" + endDate + \"</div>\" +\n            '</div>';\n        };\n        var SIZE_CALCULATION_TEMPLATE = \"<table style='visibility: hidden;'>\" +\n            \"<tbody>\" +\n                \"<tr style='height:{0}'>\" +\n                    \"<td>&nbsp;</td>\" +\n                \"</tr>\" +\n            \"</tbody>\" +\n        \"</table>\";\n\n        var defaultViews = {\n            day: {\n                type: \"kendo.ui.GanttDayView\"\n            },\n            week: {\n                type: \"kendo.ui.GanttWeekView\"\n            },\n            month: {\n                type: \"kendo.ui.GanttMonthView\"\n            },\n            year: {\n                type: \"kendo.ui.GanttYearView\"\n            }\n        };\n\n        function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n            delete options.views;\n\n            return options;\n        }\n\n        function getWorkDays(options) {\n            var workDays = [];\n            var dayIndex = options.workWeekStart;\n\n            workDays.push(dayIndex);\n\n            while (options.workWeekEnd != dayIndex) {\n                if (dayIndex > 6) {\n                    dayIndex -= 7;\n                } else {\n                    dayIndex++;\n                }\n                workDays.push(dayIndex);\n            }\n            return workDays;\n        }\n\n        function blurActiveElement() {\n            var activeElement = kendo._activeElement();\n\n            if (activeElement && activeElement.nodeName.toLowerCase() !== \"body\") {\n                $(activeElement).trigger(\"blur\");\n            }\n        }\n\n        var viewStyles = {\n            alt: \"k-alt\",\n            reset: \"k-reset\",\n            nonWorking: \"k-nonwork-hour\",\n            header: \"k-header\",\n            gridHeader: \"k-grid-header\",\n            gridHeaderWrap: \"k-grid-header-wrap\",\n            gridContent: \"k-grid-content\",\n            tasksWrapper: \"k-gantt-tables\",\n            rowsTable: \"k-gantt-rows\",\n            columnsTable: \"k-gantt-columns\",\n            tasksTable: \"k-gantt-tasks\",\n            dependenciesWrapper: \"k-gantt-dependencies\",\n            resource: \"k-resource\",\n            resourceAlt: \"k-resource k-alt\",\n            task: \"k-task\",\n            taskSingle: \"k-task-single\",\n            taskMilestone: \"k-task-milestone\",\n            taskSummary: \"k-task-summary\",\n            taskWrap: \"k-task-wrap\",\n            taskMilestoneWrap: \"k-milestone-wrap\",\n            taskSummaryWrap: \"k-summary-wrap\",\n            taskPlanned: \"k-task-planned\",\n            taskPlannedMoment: \"k-task-moment\",\n            taskPlannedDuration: \"k-task-duration\",\n            taskPlannedMomentLeft: \"k-moment-left\",\n            taskAdvanced: \"k-task-advanced\",\n            taskDelayed: \"k-task-delayed\",\n            taskOffset: \"k-task-offset\",\n            taskOffsetWrap: \"k-task-offset-wrap\",\n            taskInnerWrap: \"k-task-inner-wrap\",\n            resourcesWrap: \"k-resources-wrap\",\n            taskDot: \"k-task-dot\",\n            taskDotStart: \"k-task-start\",\n            taskDotEnd: \"k-task-end\",\n            taskDragHandle: \"k-task-draghandle\",\n            taskContent: \"k-task-content\",\n            taskTemplate: \"k-task-template\",\n            taskActions: \"k-task-actions\",\n            taskDelete: \"k-task-delete\",\n            taskComplete: \"k-task-complete\",\n            taskDetails: \"k-task-details\",\n            taskDetailsPercent: \"k-task-pct\",\n            link: \"k-link\",\n            icon: \"k-icon\",\n            iconDelete: \"k-i-close\",\n            taskResizeHandle: \"k-resize-handle\",\n            taskResizeHandleWest: \"k-resize-w\",\n            taskResizeHandleEast: \"k-resize-e\",\n            taskSummaryProgress: \"k-task-summary-progress\",\n            taskSummaryComplete: \"k-task-summary-complete\",\n            line: \"k-gantt-line\",\n            lineHorizontal: \"k-gantt-line-h\",\n            lineVertical: \"k-gantt-line-v\",\n            arrowWest: \"k-arrow-w\",\n            arrowEast: \"k-arrow-e\",\n            dragHint: \"k-drag-hint\",\n            dependencyHint: \"k-gantt-dependency-hint\",\n            tooltipWrapper: \"k-tooltip\",\n            tooltipContent: \"k-tooltip-content\",\n            tooltipCallout: \"k-callout k-callout-s\",\n            callout: \"k-callout\",\n            marquee: \"k-marquee k-gantt-marquee\",\n            marqueeColor: \"k-marquee-color\",\n            offsetTooltipAdvanced: \"k-offset-tooltip-advanced\",\n            offsetTooltipDelay: \"k-offset-tooltip-delayed\",\n            plannedTooltip: \"k-planned-tooltip\"\n        };\n\n        var GanttView = kendo.ui.GanttView = Widget.extend({\n            init: function(element, options) {\n                Widget.fn.init.call(this, element, options);\n\n                this.title = this.options.title || this.options.name;\n\n                this.header = this.element.find(DOT + GanttView.styles.gridHeader);\n\n                this.content = this.element.find(DOT + GanttView.styles.gridContent);\n\n                this.contentWidth = this.content.width();\n\n                this._workDays = getWorkDays(this.options);\n\n                this._headerTree = options.headerTree;\n\n                this._taskTree = options.taskTree;\n\n                this._taskTemplate = options.taskTemplate ?\n                    kendo.template(options.taskTemplate, extend({}, kendo.Template, options.templateSettings)) :\n                    null;\n\n                this._dependencyTree = options.dependencyTree;\n\n                this._taskCoordinates = {};\n\n                this._currentTime();\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n\n                clearTimeout(this._tooltipTimeout);\n\n                this.headerRow = null;\n                this.header = null;\n                this.content = null;\n\n                this._dragHint = null;\n                this._resizeHint = null;\n                this._resizeTooltip = null;\n                this._taskTooltip = null;\n                this._percentCompleteResizeTooltip = null;\n\n                this._headerTree = null;\n                this._taskTree = null;\n                this._dependencyTree = null;\n            },\n\n            options: {\n                showWorkHours: false,\n                showWorkDays: false,\n                workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n                workWeekStart: 1,\n                workWeekEnd: 5,\n                hourSpan: 1,\n                slotSize: 100,\n                currentTimeMarker: {\n                    updateInterval: 10000\n                }\n            },\n\n            renderLayout: function() {\n                this._slots = this._createSlots();\n\n                this._tableWidth = this._calculateTableWidth();\n\n                this.createLayout(this._layout());\n\n                this._slotDimensions();\n\n                this._adjustHeight();\n\n                this.content.find(DOT + GanttView.styles.dependenciesWrapper).width(this._tableWidth);\n            },\n\n            _adjustHeight: function() {\n                if (this.content) {\n                    this.content.height(this.element.height() - outerHeight(this.header));\n                }\n            },\n\n            createLayout: function(rows) {\n                var headers = this._headers(rows);\n                var colgroup = this._colgroup();\n                var tree = this._headerTree;\n                var header = kendoDomElement(\"tbody\", null, headers);\n                var table = kendoDomElement(\"table\", { style: { width: this._tableWidth + \"px\" }, role: \"presentation\" }, [colgroup, header]);\n\n                tree.render([table]);\n\n                this.headerRow = this.header.find(\"table\").first().find(\"tr\").last();\n            },\n\n            _slotDimensions: function() {\n                var headers = this.headerRow[0].children;\n                var slots = this._timeSlots();\n                var slot;\n                var header;\n\n                for (var i = 0, length = headers.length; i < length; i++) {\n                    header = headers[i];\n                    slot = slots[i];\n\n                    slot.offsetLeft = header.offsetLeft;\n                    slot.offsetWidth = header.offsetWidth;\n                }\n            },\n\n            render: function(tasks) {\n                var taskCount = tasks.length;\n                var styles = GanttView.styles;\n                var contentTable;\n                var rowsTable = this._rowsTable(taskCount);\n                var columnsTable = this._columnsTable(taskCount);\n                var tasksTable = this._tasksTable(tasks);\n                var currentTimeMarker = this.options.currentTimeMarker;\n                var calculatedSize = this.options.calculatedSize;\n                var totalHeight;\n\n                this._taskTree.render([rowsTable, columnsTable, tasksTable]);\n\n                contentTable = this.content.find(DOT + styles.rowsTable);\n\n                if (calculatedSize) {\n                    totalHeight = calculatedSize.row * tasks.length;\n                    this.content.find(DOT + styles.tasksTable).height(totalHeight);\n                    contentTable.height(totalHeight);\n                }\n\n                this._contentHeight = contentTable.height();\n                this._rowHeight = calculatedSize ? calculatedSize.row : this._contentHeight / contentTable.find(\"tr\").length;\n\n                this.content.find(DOT + styles.columnsTable).height(this._contentHeight);\n\n                if (currentTimeMarker !== false && currentTimeMarker.updateInterval !== undefined) {\n                    this._renderCurrentTime();\n                }\n            },\n\n            _rowsTable: function(rowCount) {\n                var rows = [];\n                var row;\n                var styles = GanttView.styles;\n                var attributes = [null, { className: styles.alt }];\n\n                for (var i = 0; i < rowCount; i++) {\n                    row = kendoDomElement(\"tr\", attributes[i % 2], [\n                        kendoDomElement(\"td\", null, [\n                            kendoTextElement(\"\\u00a0\")\n                        ])\n                    ]);\n\n                    rows.push(row);\n                }\n\n                return this._createTable(1, rows, { className: styles.rowsTable });\n            },\n\n            _columnsTable: function() {\n                var cells = [];\n                var row;\n                var styles = GanttView.styles;\n                var slots = this._timeSlots();\n                var slotsCount = slots.length;\n                var slot;\n                var slotSpan;\n                var totalSpan = 0;\n                var attributes;\n\n                for (var i = 0; i < slotsCount; i++) {\n                    slot = slots[i];\n\n                    attributes = {};\n\n                    slotSpan = slot.span;\n\n                    totalSpan += slotSpan;\n\n                    if (slotSpan !== 1) {\n                        attributes.colspan = slotSpan;\n                    }\n\n                    if (slot.isNonWorking) {\n                        attributes.className = styles.nonWorking;\n                    }\n\n                    cells.push(kendoDomElement(\"td\", attributes, [\n                        kendoTextElement(\"\\u00a0\")\n                    ]));\n                }\n\n                row = kendoDomElement(\"tr\", null, cells);\n\n                return this._createTable(totalSpan, [row], { className: styles.columnsTable });\n            },\n\n            _tasksTable: function(tasks) {\n                var rows = [];\n                var row;\n                var cell;\n                var position;\n                var plannedPosition;\n                var task;\n                var styles = GanttView.styles;\n                var coordinates = this._taskCoordinates = {};\n                var size = this._calculateMilestoneWidth();\n                var milestoneWidth = Math.round(size.width);\n                var resourcesField = this.options.resourcesField;\n                var className = [styles.resource, styles.resourceAlt];\n                var calculatedSize = this.options.calculatedSize;\n                var resourcesPosition;\n                var resourcesMargin = this._calculateResourcesMargin();\n                var taskBorderWidth = this._calculateTaskBorderWidth();\n                var resourceStyle;\n                var showPlannedTasks = this.options.showPlannedTasks;\n\n                var addCoordinates = function(rowIndex) {\n                    var taskLeft;\n                    var taskRight;\n\n                    taskLeft = position.left;\n                    taskRight = taskLeft + position.width;\n\n                    if (task.isMilestone()) {\n                        taskLeft -= milestoneWidth / 2;\n                        taskRight = taskLeft + milestoneWidth;\n                    }\n\n                    coordinates[task.id] = {\n                        start: taskLeft,\n                        end: taskRight,\n                        rowIndex: rowIndex\n                    };\n                };\n\n                for (var i = 0, l = tasks.length; i < l; i++) {\n                    task = tasks[i];\n\n                    position = this._taskPosition(task);\n\n                    if (showPlannedTasks) {\n                        plannedPosition = this._taskPositionPlanned(task);\n                        plannedPosition.borderWidth = taskBorderWidth;\n                    }\n                    position.borderWidth = taskBorderWidth;\n\n                    row = kendoDomElement(\"tr\", null);\n                    cell = kendoDomElement(\"td\");\n\n                    if (task.start <= this.end && task.end >= this.start) {\n                        cell.children.push(this._renderTask(tasks[i], position, plannedPosition));\n\n                        if (task[resourcesField] && task[resourcesField].length) {\n                            if (isRtl) {\n                                resourcesPosition = this._tableWidth - position.left;\n                            } else {\n                                resourcesPosition = Math.max((position.width || size.clientWidth), 0) + position.left;\n                            }\n\n                            resourceStyle = {\n                                width: (this._tableWidth - (resourcesPosition + resourcesMargin)) + \"px\"\n                            };\n\n                            resourceStyle[isRtl ? \"right\" : \"left\"] = resourcesPosition + \"px\";\n\n                            if (calculatedSize) {\n                                resourceStyle.height = calculatedSize.cell + \"px\";\n                            }\n\n                            cell.children.push(kendoDomElement(\"div\",\n                                {\n                                    className: styles.resourcesWrap,\n                                    style: resourceStyle\n                                },\n                                this._renderResources(task[resourcesField], className[i % 2]))\n                            );\n                        }\n\n                        addCoordinates(i);\n                    }\n                    row.children.push(cell);\n                    rows.push(row);\n                }\n\n                return this._createTable(1, rows, { className: GanttView.styles.tasksTable });\n            },\n\n            _createTable: function(colspan, rows, styles) {\n                var cols = [];\n                var colgroup;\n                var tbody;\n\n                for (var i = 0; i < colspan; i++) {\n                    cols.push(kendoDomElement(\"col\"));\n                }\n\n                colgroup = kendoDomElement(\"colgroup\", null, cols);\n\n                tbody = kendoDomElement(\"tbody\", null, rows);\n\n                if (!styles.style) {\n                    styles.style = {};\n                }\n\n                styles.style.width = this._tableWidth + \"px\";\n                styles.role = \"presentation\";\n\n                return kendoDomElement(\"table\", styles, [colgroup, tbody]);\n            },\n\n            _calculateTableWidth: function() {\n                var slots = this._timeSlots();\n                var maxSpan = 0;\n                var totalSpan = 0;\n                var currentSpan;\n                var tableWidth;\n\n                for (var i = 0, length = slots.length; i < length; i++) {\n                    currentSpan = slots[i].span;\n\n                    totalSpan += currentSpan;\n\n                    if (currentSpan > maxSpan) {\n                        maxSpan = currentSpan;\n                    }\n                }\n\n                tableWidth = Math.round((totalSpan * this.options.slotSize) / maxSpan);\n\n                return tableWidth;\n            },\n\n            _calculateMilestoneWidth: function() {\n                var size;\n                var className = GanttView.styles.task + \" \" + GanttView.styles.taskMilestone;\n                var milestone = $(\"<div class='\" + className + \"' style='visibility: hidden; position: absolute'>\");\n                var boundingClientRect;\n\n                this.content.append(milestone);\n\n                boundingClientRect = milestone[0].getBoundingClientRect();\n\n                size = {\n                    \"width\": boundingClientRect.right - boundingClientRect.left,\n                    \"clientWidth\": milestone[0].clientWidth\n                };\n\n                milestone.remove();\n\n                return size;\n            },\n\n            _calculateResourcesMargin: function() {\n                var margin;\n                var wrapper = $(\"<div class='\" + GanttView.styles.resourcesWrap + \"' style='visibility: hidden; position: absolute'>\");\n\n                this.content.append(wrapper);\n\n                margin = parseInt(wrapper.css(isRtl ? \"margin-right\" : \"margin-left\"), 10);\n\n                wrapper.remove();\n\n                return margin;\n            },\n\n            _calculateTaskBorderWidth: function() {\n                var width;\n                var className = GanttView.styles.task + \" \" + GanttView.styles.taskSingle;\n                var task = $(\"<div class='\" + className + \"' style='visibility: hidden; position: absolute'>\");\n                var computedStyle;\n\n                this.content.append(task);\n\n                computedStyle = kendo.getComputedStyles(task[0], [\"border-left-width\"]);\n\n                width = parseFloat(computedStyle[\"border-left-width\"], 10);\n\n                task.remove();\n\n                return width;\n            },\n\n            _renderTask: function(task, position, plannedPosition) {\n                var editable = this.options.editable;\n                var taskLeft = position.left;\n                var styles = GanttView.styles;\n                var wrapClassName = styles.taskWrap;\n                var calculatedSize = this.options.calculatedSize;\n                var dragHandleStyle = {};\n                var taskWrapAttr = {\n                    className: wrapClassName,\n                    style: { left: taskLeft + \"px\" }\n                };\n                var children = [];\n                var endTaskDotRight = 0;\n                var taskFullWidth = position.width;\n                var taskWrapper, taskElement, progressHandleOffset, plannedElement;\n                var endTaskDotLeft, taskOffsetWrap, offsetElement, offsetWidth;\n\n                if (calculatedSize) {\n                    taskWrapAttr.style.height = calculatedSize.cell + \"px\";\n                }\n\n                if (plannedPosition) {\n                    if (task.isMilestone()) {\n                        plannedElement = this._renderPlannedMilestone(position, plannedPosition);\n                    } else {\n                        plannedElement = this._renderPlannedSingleTask(position, plannedPosition, task);\n                    }\n\n                    children.push(plannedElement);\n\n                    if (isRtl && plannedPosition.left <= position.left) {\n                        taskWrapAttr.style.left = plannedPosition.left + \"px\";\n                    }\n                }\n\n                if (task.summary) {\n                    taskElement = this._renderSummary(task, position, plannedPosition);\n                    taskWrapAttr.className += \" \" + styles.taskSummaryWrap;\n                } else if (task.isMilestone()) {\n                    taskElement = this._renderMilestone(task, position);\n                    taskWrapAttr.className += \" \" + styles.taskMilestoneWrap;\n                } else {\n                    taskElement = this._renderSingleTask(task, position, plannedPosition);\n                }\n\n                if (plannedPosition && !task.isMilestone() && task.plannedStart < task.end && task.plannedEnd > task.start && task.plannedEnd < task.end) {\n                    if (isRtl) {\n                        taskFullWidth = position.left + position.width - plannedPosition.left;\n                    } else {\n                        taskFullWidth = plannedPosition.left + plannedPosition.width - position.left;\n                    }\n\n                    if (isRtl) {\n                        offsetWidth = plannedPosition.left - position.left;\n                    } else {\n                        offsetWidth = position.left + position.width - (plannedPosition.left + plannedPosition.width);\n                    }\n\n                    offsetElement = kendoDomElement(\"div\", {\n                        className: styles.taskOffset,\n                        style: { width: offsetWidth - 2 * plannedPosition.borderWidth + \"px\" }\n                    });\n\n                    if (editable && editable.resize !== false && editable.update !== false && !task.summary) {\n                        if (editable.destroy !== false) {\n                            offsetElement.children.push(kendoDomElement(\"span\", { className: styles.taskActions, \"aria-hidden\": \"true\" }, [\n                                kendoDomElement(\"a\", { className: styles.link + \" \" + styles.taskDelete, href: \"#\", \"aria-label\": \"Delete\" }, [\n                                    kendoDomElement(\"span\", { className: styles.icon + \" \" + styles.iconDelete })\n                                ])\n                            ]));\n                        }\n\n                        if (isRtl) {\n                            offsetElement.children.push(kendoDomElement(\"span\", {\n                                className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleWest,\n                                style: {\n                                    right: position.width - 5 + \"px\"\n                                }\n                            }));\n                        } else {\n                            offsetElement.children.push(kendoDomElement(\"span\", {\n                                className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleEast\n                            }));\n                        }\n                    }\n\n                    taskOffsetWrap = kendoDomElement(\"div\", {\n                        className: styles.taskOffsetWrap + \" \" + styles.taskInnerWrap\n                    }, [ taskElement, offsetElement ]);\n\n                    children.push(taskOffsetWrap);\n                } else if (plannedPosition) {\n                    children.push(kendoDomElement(\"div\", {\n                        className: styles.taskInnerWrap\n                    }, [ taskElement ]));\n                } else {\n                    children.push(taskElement);\n                }\n\n                taskWrapper = kendoDomElement(\"div\", taskWrapAttr, children);\n\n                if (editable && editable.dependencyCreate !== false) {\n                    if (plannedPosition && task.plannedEnd > task.end) {\n                        endTaskDotRight = plannedPosition.left + plannedPosition.width - position.left - position.width - 3 + \"px\";\n                    }\n\n                    taskWrapper.children.push(kendoDomElement(\"div\", {\n                        className: styles.taskDot + \" \" + styles.taskDotStart\n                    }));\n\n                    if (isRtl) {\n                        endTaskDotRight = \"auto\";\n                        if (plannedPosition && task.plannedEnd > task.end) {\n                            endTaskDotLeft = position.left - plannedPosition.left + \"px\";\n                        }\n                    }\n\n                    taskWrapper.children.push(kendoDomElement(\"div\", {\n                        className: styles.taskDot + \" \" + styles.taskDotEnd,\n                        style: { right: endTaskDotRight, left: endTaskDotLeft }\n                    }));\n                }\n\n                if (!task.summary && !task.isMilestone() && editable && editable.dragPercentComplete !== false && editable.update !== false && this._taskTemplate === null) {\n                    progressHandleOffset = Math.round(taskFullWidth * task.percentComplete);\n\n                    dragHandleStyle[isRtl ? \"right\" : \"left\"] = progressHandleOffset + \"px\";\n                    taskWrapper.children.push(kendoDomElement(\"div\", { className: styles.taskDragHandle, style: dragHandleStyle }));\n                }\n\n                return taskWrapper;\n            },\n\n            _renderSingleTask: function(task, position, plannedPosition) {\n                var styles = GanttView.styles;\n                var progressWidth;\n                var taskChildren = [];\n                var taskContent;\n                var editable = this.options.editable;\n                var classes = styles.task + \" \" + styles.taskSingle;\n                var widthExceptDelay = position.width;\n\n                if (plannedPosition) {\n                    if (task.plannedEnd && task.plannedEnd <= task.start) {\n                        classes += \" \" + styles.taskDelayed;\n                    } else if (task.plannedEnd && task.plannedEnd > task.end) {\n                        classes += \" \" + styles.taskAdvanced;\n                    } else if (task.plannedEnd && task.plannedEnd < task.end) {\n                        if (!isRtl) {\n                            widthExceptDelay = widthExceptDelay - (position.left + position.width - plannedPosition.left - plannedPosition.width);\n                        } else {\n                            widthExceptDelay = widthExceptDelay + position.left - plannedPosition.left;\n                        }\n                    }\n                }\n\n                progressWidth = Math.round(widthExceptDelay * task.percentComplete);\n\n                if (this._taskTemplate !== null) {\n                    taskContent = kendoHtmlElement(this._taskTemplate(task));\n                } else {\n                    taskContent = kendoTextElement(task.title);\n                    taskChildren.push(kendoDomElement(\"div\", { className: styles.taskComplete, style: { width: progressWidth + \"px\" }, \"aria-hidden\": \"true\" }));\n                }\n\n                var content = kendoDomElement(\"div\", { className: styles.taskContent }, [\n                    kendoDomElement(\"div\", { className: styles.taskTemplate }, [\n                        taskContent\n                    ])\n                ]);\n\n                taskChildren.push(content);\n\n                if (editable) {\n                    if (editable.destroy !== false && (!plannedPosition || !task.plannedEnd || (task.end <= task.plannedEnd || task.start >= task.plannedEnd))) {\n                        content.children.push(kendoDomElement(\"span\", { className: styles.taskActions, \"aria-hidden\": \"true\" }, [\n                            kendoDomElement(\"a\", { className: styles.link + \" \" + styles.taskDelete, href: \"#\", \"aria-label\": \"Delete\" }, [\n                                kendoDomElement(\"span\", { className: styles.icon + \" \" + styles.iconDelete })\n                            ])\n                        ]));\n                    }\n\n                    if (editable.resize !== false && editable.update !== false) {\n                        content.children.push(kendoDomElement(\"span\", {\n                            className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleWest\n                        }));\n                        content.children.push(kendoDomElement(\"span\", {\n                            className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleEast\n                        }));\n                    }\n                }\n\n                var element = kendoDomElement(\"div\", {\n                    className: classes, \"data-uid\": task.uid, role: \"treeitem\", style:\n                        { width: Math.max((widthExceptDelay - position.borderWidth * 2), 0) + \"px\" }\n                }, taskChildren);\n\n                return element;\n            },\n\n            _renderMilestone: function(task) {\n                var styles = GanttView.styles;\n                var classes = styles.task + \" \" + styles.taskMilestone;\n                var showPlanned = this.options.showPlannedTasks;\n\n                if (showPlanned && task.plannedEnd && task.plannedEnd < task.start) {\n                    classes += \" \" + styles.taskDelayed;\n                } else if (task.plannedStart && task.plannedStart > task.end) {\n                    classes += \" \" + styles.taskAdvanced;\n                }\n\n                return kendoDomElement(\"div\", { className: classes, \"data-uid\": task.uid, role: \"treeitem\", \"aria-label\": task.title });\n            },\n\n            _renderSummary: function(task, position, plannedPosition) {\n                var styles = GanttView.styles;\n                var widthExceptDelay = position.width;\n                var progressWidth;\n                var classes = styles.task + \" \" + styles.taskSummary;\n\n                if (plannedPosition) {\n                    if (task.plannedEnd && task.plannedEnd <= task.start) {\n                        classes += \" \" + styles.taskDelayed;\n                    } else if (task.plannedEnd && task.plannedEnd > task.end) {\n                        classes += \" \" + styles.taskAdvanced;\n                    } else if (task.plannedEnd && task.plannedEnd < task.end) {\n                        if (!isRtl) {\n                            widthExceptDelay = widthExceptDelay - (position.left + position.width - plannedPosition.left - plannedPosition.width);\n                        } else {\n                            widthExceptDelay = widthExceptDelay + position.left - plannedPosition.left;\n                        }\n                    }\n                }\n\n                progressWidth = Math.round(widthExceptDelay * task.percentComplete);\n\n                var element = kendoDomElement(\"div\", { className: classes, \"data-uid\": task.uid, role: \"treeitem\", \"aria-label\": task.title, style: { width: widthExceptDelay + \"px\" } }, [\n                    kendoDomElement(\"div\", { className: styles.taskSummaryProgress, style: { width: progressWidth + \"px\" } }, [\n                        kendoDomElement(\"div\", { className: styles.taskSummaryComplete, style: { width: position.width + \"px\" } })\n                    ])\n                ]);\n\n                return element;\n            },\n\n            _renderPlannedSingleTask: function(position, plannedPosition, task) {\n                var styles = GanttView.styles;\n                var children = [];\n                var style = {};\n\n                if (task.plannedStart && task.plannedEnd) {\n                    children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment + \" \" + styles.taskPlannedMomentLeft }));\n                    children.push(kendoDomElement(\"div\", {\n                        className: styles.taskPlannedDuration, style:\n                            { width: Math.max((plannedPosition.width - plannedPosition.borderWidth * 2 - 16), 0) + \"px\" }\n                    }));\n                    children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment }));\n                } else if (task.plannedStart) {\n                    children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment + \" \" + styles.taskPlannedMomentLeft }));\n                } else if (task.plannedEnd) {\n                    children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment, style: { \"margin-left\": Math.max(plannedPosition.width - 5, 0) + \"px\" } }));\n                }\n\n                if (isRtl) {\n                    style = {\n                        \"margin-right\": position.left - plannedPosition.left + position.width - plannedPosition.width + \"px\"\n                    };\n                } else {\n                    style = {\n                        \"margin-left\": plannedPosition.left - position.left + \"px\"\n                    };\n                }\n\n                var element = kendoDomElement(\"div\", {\n                    className: styles.taskPlanned,\n                    style: style\n                }, children);\n\n                return element;\n            },\n\n            _renderPlannedMilestone: function(position, plannedPosition) {\n                var styles = GanttView.styles;\n                var style = {};\n                var element;\n\n                if (isRtl) {\n                    style = {\n                        \"margin-right\": position.left - plannedPosition.left + \"px\"\n                    };\n                } else {\n                    style = {\n                        \"margin-left\": plannedPosition.left - position.left + \"px\"\n                    };\n                }\n\n                element = kendoDomElement(\"div\", {\n                    className: styles.taskPlanned,\n                    style: style\n                }, [\n                    kendoDomElement(\"div\", { className: styles.taskPlannedMoment })\n                ]);\n\n                return element;\n            },\n\n            _renderResources: function(resources, className) {\n                var children = [];\n                var resource;\n\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n                    children.push(kendoDomElement(\"span\", {\n                        className: className,\n                        style: {\n                            \"color\": resource.get(\"color\")\n                        }\n                    }, [kendoTextElement(resource.get(\"name\"))]));\n                }\n\n                if (isRtl) {\n                    children.reverse();\n                }\n\n                return children;\n            },\n\n            _taskPosition: function(task) {\n                var round = Math.round;\n\n                var startLeft = round(this._offset(isRtl ? task.end : task.start));\n                var endLeft = round(this._offset(isRtl ? task.start : task.end));\n\n                return { left: startLeft, width: endLeft - startLeft };\n            },\n\n            _taskPositionPlanned: function(task) {\n                var round = Math.round;\n\n                var startLeft = round(this._offset(isRtl ? task.plannedEnd : task.plannedStart));\n                var endLeft = round(this._offset(isRtl ? task.plannedStart : task.plannedEnd));\n\n                return { left: startLeft, width: endLeft - startLeft };\n            },\n\n            _offset: function(date) {\n                var slots = this._timeSlots();\n                var slot;\n                var startOffset;\n                var slotDuration;\n                var slotOffset = 0;\n                var startIndex;\n\n                if (!slots.length) {\n                    return 0;\n                }\n\n                startIndex = this._slotIndex(\"start\", date);\n\n                slot = slots[startIndex];\n\n                if (slot.end < date) {\n                    slotOffset = slot.offsetWidth;\n                } else if (slot.start <= date) {\n                    startOffset = date - slot.start;\n                    slotDuration = slot.end - slot.start;\n                    slotOffset = (startOffset / slotDuration) * slot.offsetWidth;\n                }\n\n                if (isRtl) {\n                    slotOffset = (slot.offsetWidth + 1) - slotOffset; // Add one pixel for border\n                }\n\n                return slot.offsetLeft + slotOffset;\n            },\n\n            _slotIndex: function(field, value, reverse) {\n                var slots = this._timeSlots();\n                var startIdx = 0;\n                var endIdx = slots.length - 1;\n                var middle;\n\n                if (reverse) {\n                    slots = [].slice.call(slots).reverse();\n                }\n\n                do {\n                    middle = Math.ceil((endIdx + startIdx) / 2);\n\n                    if (slots[middle][field] < value) {\n                        startIdx = middle;\n                    } else {\n                        if (middle === endIdx) {\n                            middle--;\n                        }\n\n                        endIdx = middle;\n                    }\n                } while (startIdx !== endIdx);\n\n                if (reverse) {\n                    startIdx = (slots.length - 1) - startIdx;\n                }\n\n                return startIdx;\n            },\n\n            _timeByPosition: function(x, snap, snapToEnd) {\n                var slot = this._slotByPosition(x);\n\n                if (snap) {\n                    return snapToEnd ? slot.end : slot.start;\n                }\n\n                var offsetLeft = x - this.element.find(DOT + GanttView.styles.tasksTable).offset().left;\n                var duration = slot.end - slot.start;\n                var slotOffset = offsetLeft - slot.offsetLeft;\n\n                if (isRtl) {\n                    slotOffset = slot.offsetWidth - slotOffset;\n                }\n\n                return new Date(slot.start.getTime() + (duration * (slotOffset / slot.offsetWidth)));\n            },\n\n            _slotByPosition: function(x) {\n                var offsetLeft = x - this.element.find(DOT + GanttView.styles.tasksTable).offset().left;\n                var slotIndex = this._slotIndex(\"offsetLeft\", offsetLeft, isRtl);\n\n                return this._timeSlots()[slotIndex];\n            },\n\n            _renderDependencies: function(dependencies) {\n                var elements = [];\n                var tree = this._dependencyTree;\n\n                for (var i = 0, l = dependencies.length; i < l; i++) {\n                    elements.push.apply(elements, this._renderDependency(dependencies[i]));\n                }\n\n                tree.render(elements);\n            },\n\n            _renderDependency: function(dependency) {\n                var predecessor = this._taskCoordinates[dependency.predecessorId];\n                var successor = this._taskCoordinates[dependency.successorId];\n                var elements;\n                var method;\n\n                if (!predecessor || !successor) {\n                    return [];\n                }\n\n                method = \"_render\" + [\"FF\", \"FS\", \"SF\", \"SS\"][isRtl ? 3 - dependency.type : dependency.type];\n\n                elements = this[method](predecessor, successor);\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    elements[i].attr[\"data-uid\"] = dependency.uid;\n                }\n\n                return elements;\n            },\n\n            _renderFF: function(from, to) {\n                var lines = this._dependencyFF(from, to, false);\n\n                lines[lines.length - 1].children[0] = this._arrow(true);\n\n                return lines;\n            },\n\n            _renderSS: function(from, to) {\n                var lines = this._dependencyFF(to, from, true);\n\n                lines[0].children[0] = this._arrow(false);\n\n                return lines.reverse();\n            },\n\n            _renderFS: function(from, to) {\n                var lines = this._dependencyFS(from, to, false);\n\n                lines[lines.length - 1].children[0] = this._arrow(false);\n\n                return lines;\n            },\n\n            _renderSF: function(from, to) {\n                var lines = this._dependencyFS(to, from, true);\n\n                lines[0].children[0] = this._arrow(true);\n\n                return lines.reverse();\n            },\n\n            _dependencyFF: function(from, to, reverse) {\n                var that = this;\n                var lines = [];\n                var left = 0;\n                var top = 0;\n                var width = 0;\n                var height = 0;\n                var dir = reverse ? \"start\" : \"end\";\n                var delta;\n                var overlap = 2;\n                var arrowOverlap = 1;\n                var rowHeight = this._rowHeight;\n                var minLineWidth = 10;\n                var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var styles = GanttView.styles;\n\n                var addHorizontal = function() {\n                    lines.push(that._line(styles.line + \" \" + styles.lineHorizontal, { left: left + \"px\", top: top + \"px\", width: width + \"px\" }));\n                };\n                var addVertical = function() {\n                    lines.push(that._line(styles.line + \" \" + styles.lineVertical, { left: left + \"px\", top: top + \"px\", height: height + \"px\" }));\n                };\n\n                left = from[dir];\n                top = fromTop;\n                width = minLineWidth;\n\n                delta = to[dir] - from[dir];\n\n                if ((delta) > 0 !== reverse) {\n                    width = Math.abs(delta) + minLineWidth;\n                }\n\n                if (reverse) {\n                    left -= width;\n                    width -= arrowOverlap;\n                    addHorizontal();\n                } else {\n                    addHorizontal();\n                    left += width - overlap;\n                }\n\n                if (toTop < top) {\n                    height = top - toTop;\n                    height += overlap;\n                    top = toTop;\n                    addVertical();\n                } else {\n                    height = toTop - top;\n                    height += overlap;\n                    addVertical();\n                    top += (height - overlap);\n                }\n\n                width = Math.abs(left - to[dir]);\n\n                if (!reverse) {\n                    width -= arrowOverlap;\n                    left -= width;\n                }\n\n                addHorizontal();\n\n                return lines;\n            },\n\n            _dependencyFS: function(from, to, reverse) {\n                var that = this;\n                var lines = [];\n                var left = 0;\n                var top = 0;\n                var width = 0;\n                var height = 0;\n                var rowHeight = this._rowHeight;\n                var minLineHeight = Math.floor(rowHeight / 2);\n                var minLineWidth = 10;\n                var minDistance = 2 * minLineWidth;\n                var delta = to.start - from.end;\n                var overlap = 2;\n                var arrowOverlap = 1;\n                var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var styles = GanttView.styles;\n\n                var addHorizontal = function() {\n                    lines.push(that._line(styles.line + \" \" + styles.lineHorizontal, { left: left + \"px\", top: top + \"px\", width: width + \"px\" }));\n                };\n                var addVertical = function() {\n                    lines.push(that._line(styles.line + \" \" + styles.lineVertical, { left: left + \"px\", top: top + \"px\", height: height + \"px\" }));\n                };\n\n                left = from.end;\n                top = fromTop;\n                width = minLineWidth;\n\n                if (reverse) {\n                    left += arrowOverlap;\n\n                    if (delta > minDistance) {\n                        width = delta - (minLineWidth - overlap);\n                    }\n\n                    width -= arrowOverlap;\n                }\n\n                addHorizontal();\n                left += width - overlap;\n\n                if ((delta) <= minDistance) {\n                    height = reverse ? Math.abs(toTop - fromTop) - minLineHeight : minLineHeight;\n\n                    if (toTop < fromTop) {\n                        top -= height;\n\n                        height += overlap;\n\n                        addVertical();\n                    } else {\n                        addVertical();\n                        top += height;\n                    }\n\n                    width = (from.end - to.start) + minDistance;\n\n                    if (width < minLineWidth) {\n                        width = minLineWidth;\n                    }\n\n                    left -= width - overlap;\n\n                    addHorizontal();\n                }\n\n                if (toTop < fromTop) {\n                    height = top - toTop;\n                    top = toTop;\n\n                    height += overlap;\n\n                    addVertical();\n                } else {\n                    height = toTop - top;\n                    addVertical();\n                    top += height;\n                }\n\n                width = to.start - left;\n\n                if (!reverse) {\n                    width -= arrowOverlap;\n                }\n\n                addHorizontal();\n\n                return lines;\n            },\n\n            _line: function(className, styles) {\n                return kendoDomElement(\"div\", { className: className, style: styles });\n            },\n\n            _arrow: function(direction) {\n                return kendoDomElement(\"span\", { className: direction ? GanttView.styles.arrowWest : GanttView.styles.arrowEast });\n            },\n\n            _colgroup: function() {\n                var slots = this._timeSlots();\n                var count = slots.length;\n                var cols = [];\n\n                for (var i = 0; i < count; i++) {\n                    for (var j = 0, length = slots[i].span; j < length; j++) {\n                        cols.push(kendoDomElement(\"col\"));\n                    }\n                }\n\n                return kendoDomElement(\"colgroup\", null, cols);\n            },\n\n            _createDragHint: function(element) {\n                var styles = GanttView.styles;\n                var plannedElement;\n\n                this._dragHint = element\n                    .clone()\n                    .addClass(styles.dragHint)\n                    .css({\n                        \"cursor\": \"move\"\n                    });\n\n                plannedElement = this._dragHint.find(DOT + styles.taskPlanned);\n\n                plannedElement.css({\n                    \"visibility\": \"hidden\"\n                });\n\n                if (isRtl && element.find(DOT + styles.taskAdvanced).length > 0) {\n                    plannedElement.css({\n                        \"margin-right\": \"auto\",\n                        \"width\": 0\n                    });\n\n                    this._dragHint.find(DOT + styles.taskDotEnd).css({\n                        \"left\": 0\n                    });\n                }\n\n                element\n                    .closest(\"td\")\n                    .append(this._dragHint);\n            },\n\n            _updateDragHint: function(start) {\n                var left = this._offset(start);\n                this._dragHint\n                    .css({\n                        \"left\": left\n                    });\n            },\n\n            _removeDragHint: function() {\n                this._dragHint.remove();\n                this._dragHint = null;\n            },\n\n            _createResizeHint: function(task) {\n                var styles = GanttView.styles;\n                var taskTop = this._taskCoordinates[task.id].rowIndex * this._rowHeight;\n                var tooltipHeight;\n                var tooltipTop;\n                var options = this.options;\n                var messages = options.messages;\n\n                this._resizeHint = $(RESIZE_HINT({ styles: styles })).css({\n                    \"top\": 0,\n                    \"height\": this._contentHeight\n                });\n\n                this.content.append(this._resizeHint);\n\n                this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\n                    styles: styles,\n                    start: task.start,\n                    end: task.end,\n                    messages: messages.views,\n                    format: options.resizeTooltipFormat\n                }))\n                .css({\n                    \"top\": 0,\n                    \"left\": 0\n                });\n\n                this.content.append(this._resizeTooltip);\n\n                this._resizeTooltipWidth = outerWidth(this._resizeTooltip);\n                tooltipHeight = outerHeight(this._resizeTooltip);\n\n                tooltipTop = taskTop - tooltipHeight;\n\n                if (tooltipTop < 0) {\n                    tooltipTop = taskTop + this._rowHeight;\n                }\n\n                this._resizeTooltipTop = tooltipTop;\n            },\n\n            _updateResizeHint: function(start, end, resizeStart) {\n                var left = this._offset(isRtl ? end : start);\n                var right = this._offset(isRtl ? start : end);\n                var width = right - left;\n                var tooltipLeft = (resizeStart !== isRtl) ? left : right;\n                var tablesWidth = this._tableWidth - kendo.support.scrollbar();\n                var tooltipWidth = this._resizeTooltipWidth;\n                var options = this.options;\n                var messages = options.messages;\n                var tableOffset = this.element.find(DOT + GanttView.styles.tasksTable).offset().left - this.element.find(DOT + GanttView.styles.tasksWrapper).offset().left;\n\n                if (isRtl) {\n                    left += tableOffset;\n                }\n\n                this._resizeHint\n                    .css({\n                        \"left\": left,\n                        \"width\": width\n                    });\n\n                if (this._resizeTooltip) {\n                    this._resizeTooltip.remove();\n                }\n\n                tooltipLeft -= Math.round(tooltipWidth / 2);\n\n                if (tooltipLeft < 0) {\n                    tooltipLeft = 0;\n                } else if (tooltipLeft + tooltipWidth > tablesWidth) {\n                    tooltipLeft = tablesWidth - tooltipWidth;\n                }\n\n                if (isRtl) {\n                    tooltipLeft += tableOffset;\n                }\n\n                this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\n                    styles: GanttView.styles,\n                    start: start,\n                    end: end,\n                    messages: messages.views,\n                    format: options.resizeTooltipFormat\n                }))\n                .css({\n                    \"top\": this._resizeTooltipTop,\n                    \"left\": tooltipLeft,\n                    \"min-width\": tooltipWidth\n                })\n                .appendTo(this.content);\n            },\n\n            _removeResizeHint: function() {\n                this._resizeHint.remove();\n                this._resizeHint = null;\n\n                this._resizeTooltip.remove();\n                this._resizeTooltip = null;\n            },\n\n            _updatePercentCompleteTooltip: function(top, left, text) {\n                this._removePercentCompleteTooltip();\n\n                var tooltip = this._percentCompleteResizeTooltip = $(PERCENT_RESIZE_TOOLTIP_TEMPLATE({ styles: GanttView.styles, text: text }))\n                    .appendTo(this.element);\n\n                var tooltipMiddle = Math.round(outerWidth(tooltip) / 2);\n                var arrow = tooltip.find(DOT + GanttView.styles.callout);\n                var arrowHeight = Math.round(outerWidth(arrow) / 2);\n\n                tooltip.css({\n                    \"top\": top - (outerHeight(tooltip) + arrowHeight),\n                    \"left\": left - tooltipMiddle\n                });\n\n                arrow.css(\"left\", tooltipMiddle - arrowHeight);\n            },\n\n            _removePercentCompleteTooltip: function() {\n                if (this._percentCompleteResizeTooltip) {\n                    this._percentCompleteResizeTooltip.remove();\n                }\n\n                this._percentCompleteResizeTooltip = null;\n            },\n\n            _updateDependencyDragHint: function(from, to) {\n                this._removeDependencyDragHint();\n\n                this._creteDependencyDragHint(from, to);\n            },\n\n            _creteDependencyDragHint: function(from, to) {\n                var styles = GanttView.styles;\n\n                var deltaX = to.x - from.x;\n                var deltaY = to.y - from.y;\n\n                var width = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n                var angle = Math.atan(deltaY / deltaX);\n\n                if (deltaX < 0) {\n                    angle += Math.PI;\n                }\n\n                $(\"<div class='\" + styles.line + \" \" + styles.lineHorizontal + \" \" + styles.dependencyHint + \"'></div>\")\n                    .css({\n                        \"top\": from.y,\n                        \"left\": from.x,\n                        \"width\": width,\n                        \"transform-origin\": \"0% 0\",\n                        \"-ms-transform-origin\": \"0% 0\",\n                        \"-webkit-transform-origin\": \"0% 0\",\n                        \"transform\": \"rotate(\" + angle + \"rad)\",\n                        \"-ms-transform\": \"rotate(\" + angle + \"rad)\",\n                        \"-webkit-transform\": \"rotate(\" + angle + \"rad)\"\n                    })\n                    .appendTo(this.content);\n            },\n\n            _removeDependencyDragHint: function() {\n                this.content.find(DOT + GanttView.styles.dependencyHint).remove();\n            },\n\n            _createTaskTooltip: function(task, element, mouseLeft) {\n                var styles = GanttView.styles;\n                var options = this.options;\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentScrollLeft = kendo.scrollLeft(content);\n                var row = $(element).parents(\"tr\").first();\n                var rowOffset = row.offset();\n                var template = (options.tooltip && options.tooltip.template) ? kendo.template(options.tooltip.template) : TASK_TOOLTIP_TEMPLATE;\n                var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar())\n                    : mouseLeft - (contentOffset.left - contentScrollLeft);\n                var top = (rowOffset.top + outerHeight(row) - contentOffset.top) + content.scrollTop();\n                var tooltip = this._taskTooltip = $('<div style=\"z-index: 100002;\" class=\"' + styles.tooltipWrapper + '\" >' +\n                                       '<div class=\"' + styles.taskContent + '\"></div></div>');\n\n                tooltip\n                    .css({\n                        \"left\": left,\n                        \"top\": top\n                    })\n                    .appendTo(content)\n                    .find(DOT + styles.taskContent)\n                    .append(template({\n                        styles: styles,\n                        task: task,\n                        messages: options.messages.views\n                    }));\n\n                this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n            },\n\n            _removeTaskTooltip: function() {\n                if (this._taskTooltip) {\n                    this._taskTooltip.remove();\n                }\n\n                this._taskTooltip = null;\n            },\n\n            _createOffsetTooltip: function(task, element, mouseLeft) {\n                var styles = GanttView.styles;\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentScrollLeft = kendo.scrollLeft(content);\n                var row = element.parents(\"tr\").first();\n                var rowOffset = row.offset();\n                var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar())\n                    : mouseLeft - (contentOffset.left - contentScrollLeft);\n                var top = (rowOffset.top + outerHeight(row) - contentOffset.top) + content.scrollTop();\n                var tooltip = this._offsetTooltip = $('<div style=\"z-index: 100002;\" class=\"' + styles.tooltipWrapper + '\" ></div>');\n                var offsetValue = Math.round((task.end.getTime() - task.plannedEnd.getTime()) / 60000);\n                var plannedTasksMessages = this.options.messages.plannedTasks;\n                var minutes = offsetValue % 60;\n                var offsetText = minutes + \" \" + plannedTasksMessages.minutes;\n                var hours, days;\n\n                if (offsetValue >= 60) {\n                    hours = offsetValue = Math.floor(offsetValue / 60);\n\n                    offsetText = hours + \" \" + plannedTasksMessages.hours;\n\n                    if (minutes !== 0) {\n                        offsetText += (\" \" + minutes + \" \" + plannedTasksMessages.minutes);\n                    }\n\n                    if (offsetValue >= 24) {\n                        hours = offsetValue % 24;\n                        days = offsetValue = Math.floor(offsetValue / 24);\n\n                        offsetText = days + \" \" + plannedTasksMessages.days;\n\n                        if (hours !== 0) {\n                            offsetText += (\" \" + hours + \" \" + plannedTasksMessages.hours);\n                        }\n                    }\n                }\n\n                tooltip\n                    .css({\n                        \"left\": left,\n                        \"top\": top\n                    })\n                    .addClass(styles.offsetTooltipDelay)\n                    .appendTo(content)\n                    .append(OFFSET_TOOLTIP_TEMPLATE({\n                        offsetPrefix: plannedTasksMessages.offsetTooltipDelay,\n                        offsetText: offsetText\n                    }));\n\n                this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n            },\n\n            _removeOffsetTooltip: function() {\n                if (this._offsetTooltip) {\n                    this._offsetTooltip.remove();\n                }\n\n                this._offsetTooltip = null;\n            },\n\n            _createPlannedTooltip: function(task, element, mouseLeft) {\n                var styles = GanttView.styles;\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentScrollLeft = kendo.scrollLeft(content);\n                var row = element.parents(\"tr\").first();\n                var rowOffset = row.offset();\n                var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar())\n                    : mouseLeft - (contentOffset.left - contentScrollLeft);\n                var top = (rowOffset.top + outerHeight(row) - contentOffset.top) + content.scrollTop();\n                var tooltip = this._plannedTooltip = $('<div style=\"z-index: 100002;\" class=\"' + styles.tooltipWrapper + ' ' + styles.plannedTooltip + '\" ></div>');\n                var editorMessages = this.options.messages.editor;\n\n                tooltip\n                    .css({\n                        \"left\": left,\n                        \"top\": top\n                    })\n                    .appendTo(content)\n                    .append(PLANNED_TOOLTIP_TEMPLATE({\n                        plannedStart: editorMessages.plannedStart,\n                        startDate: kendo.toString(task.plannedStart, \"H:mm tt ddd, MMM dd\"),\n                        plannedEnd: editorMessages.plannedEnd,\n                        endDate: kendo.toString(task.plannedEnd, \"H:mm tt ddd, MMM dd\")\n                    }));\n\n                this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n            },\n\n            _removePlannedTooltip: function() {\n                if (this._plannedTooltip) {\n                    this._plannedTooltip.remove();\n                }\n\n                this._plannedTooltip = null;\n            },\n\n            _adjustTooltipDimensions: function(tooltip, rowOffset, contentOffset, left, contentScrollLeft) {\n                var content = this.content;\n                var contentWidth = content.width();\n                var tooltipWidth;\n\n                if (outerHeight(tooltip) < rowOffset.top - contentOffset.top) {\n                    tooltip.css(\"top\", ((rowOffset.top - contentOffset.top) - outerHeight(tooltip)) + content.scrollTop());\n                }\n\n                tooltipWidth = outerWidth(tooltip);\n\n                if ((tooltipWidth + left) - contentScrollLeft > contentWidth) {\n                    left -= tooltipWidth;\n\n                    if (left < contentScrollLeft) {\n                        left = (contentScrollLeft + contentWidth) - (tooltipWidth + 17);\n                    }\n\n                    tooltip.css(\"left\", left);\n                }\n            },\n\n            _scrollTo: function(element) {\n                var elementLeft = element.offset().left;\n                var elementWidth = element.width();\n                var elementRight = elementLeft + elementWidth;\n\n                var row = element.closest(\"tr\");\n                var rowTop = row.offset().top;\n                var rowHeight = row.height();\n                var rowBottom = rowTop + rowHeight;\n\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentTop = contentOffset.top;\n                var contentHeight = content.height();\n                var contentBottom = contentTop + contentHeight;\n                var contentLeft = contentOffset.left;\n                var contentWidth = content.width();\n                var contentRight = contentLeft + contentWidth;\n\n                var scrollbarWidth = kendo.support.scrollbar();\n\n                if (rowTop < contentTop) {\n                    content.scrollTop(content.scrollTop() + (rowTop - contentTop));\n                } else if (rowBottom > contentBottom) {\n                    content.scrollTop(content.scrollTop() + (rowBottom + scrollbarWidth - contentBottom));\n                }\n\n                if (elementLeft < contentLeft && elementWidth > contentWidth && elementRight < contentRight ||\n                    elementRight > contentRight && elementWidth < contentWidth) {\n                        kendo.scrollLeft(content, kendo.scrollLeft(content) + (elementRight + scrollbarWidth - contentRight));\n                } else if (elementRight > contentRight && elementWidth > contentWidth && elementLeft > contentLeft ||\n                    elementLeft < contentLeft && elementWidth < contentWidth) {\n                kendo.scrollLeft(content, kendo.scrollLeft(content) + (elementLeft - contentLeft));\n                }\n            },\n\n            _scrollToDate: function(date) {\n                var viewStart = this.start;\n                var viewEnd = this.end;\n                var offset;\n\n                if (date >= viewStart && date < viewEnd) {\n                    offset = this._offset(date);\n\n                    if (kendo.support.isRtl(this.element)) {\n                        offset = this._tableWidth - offset;\n                    }\n\n                    kendo.scrollLeft(this.content, offset);\n                }\n            },\n\n            _timeSlots: function() {\n                if (!this._slots || !this._slots.length) {\n                    return [];\n                }\n\n                return this._slots[this._slots.length - 1];\n            },\n\n            _headers: function(columnLevels) {\n                var rows = [];\n                var level;\n                var headers;\n                var column;\n                var headerText;\n                var styles = GanttView.styles;\n\n                for (var levelIndex = 0, levelCount = columnLevels.length; levelIndex < levelCount; levelIndex++) {\n                    level = columnLevels[levelIndex];\n                    headers = [];\n\n                    for (var columnIndex = 0, columnCount = level.length; columnIndex < columnCount; columnIndex++) {\n                        column = level[columnIndex];\n\n                        headerText = kendoHtmlElement(column.text);\n                        headers.push(kendoDomElement(\"td\", { colspan: column.span, className: styles.header + (column.isNonWorking ? (\" \" + styles.nonWorking) : \"\") }, [headerText]));\n                    }\n\n                    rows.push(kendoDomElement(\"tr\", null, headers));\n                }\n\n                return rows;\n            },\n\n            _hours: function(start, end) {\n                var slotEnd;\n                var slots = [];\n                var options = this.options;\n                var workDayStart = options.workDayStart.getHours();\n                var workDayEnd = options.workDayEnd.getHours();\n                var isWorkHour;\n                var hours;\n                var hourSpan = options.hourSpan;\n\n                start = new Date(start);\n                end = new Date(end);\n\n                if (options.showWorkHours) {\n                    start.setHours(workDayStart);\n                }\n\n                while (start < end) {\n                    slotEnd = new Date(start);\n                    hours = slotEnd.getHours();\n\n                    isWorkHour = hours >= workDayStart && hours < workDayEnd;\n\n                    slotEnd.setHours(slotEnd.getHours() + hourSpan);\n\n                    if (hours == slotEnd.getHours()) {\n                        // Chrome DTS Fix\n                        slotEnd.setHours(slotEnd.getHours() + 2 * hourSpan);\n                    }\n\n                    if (!options.showWorkHours || isWorkHour) {\n                        slots.push({\n                            start: start,\n                            end: slotEnd,\n                            isNonWorking: !isWorkHour,\n                            span: 1\n                        });\n                    }\n\n                    start = slotEnd;\n                }\n\n                return slots;\n            },\n\n            _days: function(start, end) {\n                var slotEnd;\n                var slots = [];\n                var isWorkDay;\n\n                start = new Date(start);\n                end = new Date(end);\n\n                while (start < end) {\n                    slotEnd = end < kendo.date.nextDay(start) ? end : kendo.date.nextDay(start);\n\n                    isWorkDay = this._isWorkDay(start);\n\n                    if (!this.options.showWorkDays || isWorkDay) {\n                        slots.push({\n                            start: start,\n                            end: slotEnd,\n                            isNonWorking: !isWorkDay,\n                            span: 1\n                        });\n                    }\n\n                    start = slotEnd;\n                }\n\n                return slots;\n            },\n\n            _weeks: function(start, end) {\n                var slotEnd;\n                var slots = [];\n                var firstDay = this.calendarInfo().firstDay;\n                var daySlots;\n                var span;\n\n                start = new Date(start);\n                end = new Date(end);\n\n                while (start < end) {\n                    slotEnd = kendo.date.dayOfWeek(kendo.date.addDays(start, 1), firstDay, 1);\n\n                    if (slotEnd > end) {\n                        slotEnd = end;\n                    }\n\n                    daySlots = this._days(start, slotEnd);\n                    span = daySlots.length;\n\n                    if (span > 0) {\n                        slots.push({\n                            start: daySlots[0].start,\n                            end: daySlots[span - 1].end,\n                            span: span\n                        });\n                    }\n\n                    start = slotEnd;\n                }\n\n                return slots;\n            },\n\n            _months: function(start, end) {\n                var slotEnd;\n                var endMonth;\n                var slots = [];\n                var daySlots;\n                var span;\n\n                start = new Date(start);\n                end = new Date(end);\n\n                while (start < end) {\n                    slotEnd = new Date(start);\n                    endMonth = kendo.date.firstDayOfMonth(new Date(slotEnd.setMonth(slotEnd.getMonth() + 1)));\n                    slotEnd = end < endMonth ? end : endMonth;\n\n                    daySlots = this._days(start, slotEnd);\n                    span = daySlots.length;\n\n                    if (span > 0) {\n                        slots.push({\n                            start: daySlots[0].start,\n                            end: daySlots[span - 1].end,\n                            span: span\n                        });\n                    }\n\n                    start = slotEnd;\n                }\n\n                return slots;\n            },\n\n            _years: function(start, end) {\n                var slotEnd;\n                var monthSpan;\n                var endMonth;\n                var slots = [];\n\n                start = new Date(start);\n                end = new Date(end);\n\n                while (start < end) {\n                    slotEnd = new Date(start);\n                    slotEnd = kendo.date.firstDayOfMonth(new Date(slotEnd.setMonth(12)));\n\n                    if (slotEnd >= end) {\n                        slotEnd = end;\n                    }\n\n                    endMonth = slotEnd.getMonth() || 12;\n                    monthSpan = endMonth - start.getMonth();\n\n                    slots.push({\n                        start: start,\n                        end: slotEnd,\n                        span: monthSpan\n                    });\n\n                    start = slotEnd;\n                }\n\n                return slots;\n            },\n\n            _slotHeaders: function(slots, template) {\n                var columns = [];\n                var slot;\n\n                for (var i = 0, l = slots.length; i < l; i++) {\n                    slot = slots[i];\n\n                    columns.push({\n                        text: template(slot),\n                        isNonWorking: !!slot.isNonWorking,\n                        span: slot.span\n                    });\n                }\n\n                return columns;\n            },\n\n            _isWorkDay: function(date) {\n                var day = date.getDay();\n                var workDays = this._workDays;\n\n                for (var i = 0, l = workDays.length; i < l; i++) {\n                    if (workDays[i] === day) {\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n\n            calendarInfo: function() {\n                return kendo.getCulture().calendars.standard;\n            },\n\n            _renderCurrentTime: function() {\n                var currentTime = this._getCurrentTime();\n                var timeOffset = this._offset(currentTime);\n                var element = $(\"<div class='k-current-time'></div>\");\n                var viewStyles = GanttView.styles;\n                var tablesWrap = this.element.find(DOT + viewStyles.tasksWrapper);\n                var tasksTable = this.element.find(DOT + viewStyles.tasksTable);\n                var slot;\n\n                if (!this.content || !this._timeSlots().length) {\n                    return;\n                }\n\n                this.content.find(\".k-current-time\").remove();\n\n                slot = this._timeSlots()[this._slotIndex(\"start\", currentTime)];\n\n                if (currentTime < slot.start || currentTime > slot.end) {\n                    return;\n                }\n\n                if (tablesWrap.length && tasksTable.length) {\n                    timeOffset += tasksTable.offset().left - tablesWrap.offset().left;\n                }\n\n                element.css({\n                    left: timeOffset + \"px\",\n                    top: \"0px\",\n                    width: \"1px\",\n                    height: this._contentHeight + \"px\"\n                })\n                .appendTo(this.content);\n            },\n\n            _getCurrentTime: function() {\n                // Introduced for testing purposes\n                return new Date();\n            },\n\n            _currentTime: function() {\n                var markerOptions = this.options.currentTimeMarker;\n\n                if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                    this._renderCurrentTime();\n                    this._currentTimeUpdateTimer = setInterval(this._renderCurrentTime.bind(this), markerOptions.updateInterval);\n                }\n            }\n        });\n\n        extend(true, GanttView, { styles: viewStyles });\n\n        kendo.ui.GanttDayView = GanttView.extend({\n            name: \"day\",\n\n            options: {\n                timeHeaderTemplate: TIME_HEADER_TEMPLATE,\n                dayHeaderTemplate: DAY_HEADER_TEMPLATE,\n                resizeTooltipFormat: \"h:mm tt ddd, MMM d\"\n            },\n\n            range: function(range) {\n                var optionsRange = this.options.range;\n                this.start = kendo.date.getDate(range.start);\n                this.end = kendo.date.getDate(range.end);\n\n                if (kendo.date.getMilliseconds(range.end) > 0 || this.end.getTime() === this.start.getTime()) {\n                    this.end = kendo.date.addDays(this.end, 1);\n                }\n\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.getDate(optionsRange.start);\n                    this.start.setHours(optionsRange.start.getHours());\n                }\n\n                if (optionsRange && optionsRange.end) {\n                    this.end = kendo.date.getDate(optionsRange.end);\n                    this.end.setHours(optionsRange.end.getHours());\n                }\n            },\n\n            _createSlots: function() {\n                var daySlots;\n                var daySlot;\n                var hourSlots;\n                var hours;\n                var slots = [];\n\n                daySlots = this._days(this.start, this.end);\n                hourSlots = [];\n\n                for (var i = 0, l = daySlots.length; i < l; i++) {\n                    daySlot = daySlots[i];\n                    hours = this._hours(daySlot.start, daySlot.end);\n\n                    daySlot.span = hours.length;\n\n                    hourSlots.push.apply(hourSlots, hours);\n                }\n\n                slots.push(daySlots);\n                slots.push(hourSlots);\n\n                return slots;\n            },\n\n            _layout: function() {\n                var rows = [];\n                var options = this.options;\n\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.dayHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.timeHeaderTemplate)));\n\n                return rows;\n            }\n        });\n\n        kendo.ui.GanttWeekView = GanttView.extend({\n            name: \"week\",\n\n            options: {\n                dayHeaderTemplate: DAY_HEADER_TEMPLATE,\n                weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\n                resizeTooltipFormat: \"h:mm tt ddd, MMM d\"\n            },\n\n            range: function(range) {\n                var optionsRange = this.options.range;\n                var calendarInfo = this.calendarInfo();\n                var firstDay = calendarInfo.firstDay;\n                var rangeEnd = range.end;\n                var endDay;\n\n                if (firstDay === rangeEnd.getDay()) {\n                    rangeEnd.setDate(rangeEnd.getDate() + 7);\n                }\n\n                this.start = kendo.date.getDate(kendo.date.dayOfWeek(range.start, firstDay, -1));\n                this.end = kendo.date.getDate(kendo.date.dayOfWeek(rangeEnd, firstDay, 1));\n\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.getDate(optionsRange.start);\n                }\n\n                if (optionsRange && optionsRange.end) {\n                    endDay = new Date(optionsRange.end);\n\n                    if (kendo.date.getDate(endDay) < optionsRange.end) {\n                        this.end = kendo.date.getDate(new Date(endDay.setDate(endDay.getDate() + 1)));\n                    } else {\n                        this.end = kendo.date.getDate(endDay);\n                    }\n                }\n            },\n\n            _createSlots: function() {\n                var slots = [];\n\n                slots.push(this._weeks(this.start, this.end));\n                slots.push(this._days(this.start, this.end));\n\n                return slots;\n            },\n\n            _layout: function() {\n                var rows = [];\n                var options = this.options;\n\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.weekHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.dayHeaderTemplate)));\n\n                return rows;\n            }\n        });\n\n        kendo.ui.GanttMonthView = GanttView.extend({\n            name: \"month\",\n\n            options: {\n                weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\n                monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\n                resizeTooltipFormat: \"dddd, MMM d, yyyy\"\n            },\n\n            range: function(range) {\n                var optionsRange = this.options.range;\n                var endDay;\n                this.start = kendo.date.firstDayOfMonth(range.start);\n                this.end = kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(range.end)), 1);\n\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.getDate(optionsRange.start);\n                }\n\n                if (optionsRange && optionsRange.end) {\n                    endDay = new Date(optionsRange.end);\n\n                    if (kendo.date.getDate(endDay) < optionsRange.end) {\n                        this.end = kendo.date.getDate(new Date(endDay.setDate(endDay.getDate() + 1)));\n                    } else {\n                        this.end = kendo.date.getDate(endDay);\n                    }\n                }\n            },\n\n            _createSlots: function() {\n                var slots = [];\n\n                slots.push(this._months(this.start, this.end));\n                slots.push(this._weeks(this.start, this.end));\n\n                return slots;\n            },\n\n            _layout: function() {\n                var rows = [];\n                var options = this.options;\n\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.monthHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.weekHeaderTemplate)));\n\n                return rows;\n            }\n        });\n\n        kendo.ui.GanttYearView = GanttView.extend({\n            name: \"year\",\n\n            options: {\n                yearHeaderTemplate: YEAR_HEADER_TEMPLATE,\n                monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\n                resizeTooltipFormat: \"dddd, MMM d, yyyy\"\n            },\n\n            range: function(range) {\n                var optionsRange = this.options.range;\n                var firstDayOfMonth;\n                this.start = kendo.date.firstDayOfMonth(new Date(range.start.setMonth(0)));\n                this.end = kendo.date.firstDayOfMonth(new Date(range.end.setMonth(12))); //set month to first month of next year\n\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.firstDayOfMonth(optionsRange.start);\n                }\n\n                if (optionsRange && optionsRange.end) {\n                    firstDayOfMonth = kendo.date.firstDayOfMonth(optionsRange.end);\n\n                    this.end = kendo.date.getDate(new Date(firstDayOfMonth.setMonth(firstDayOfMonth.getMonth() + 1)));\n                }\n            },\n\n            _createSlots: function() {\n                var slots = [];\n                var monthSlots = this._months(this.start, this.end);\n\n                $(monthSlots).each(function(index, slot) {\n                    slot.span = 1;\n                });\n\n                slots.push(this._years(this.start, this.end));\n                slots.push(monthSlots);\n\n                return slots;\n            },\n\n            _layout: function() {\n                var rows = [];\n                var options = this.options;\n\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.yearHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.monthHeaderTemplate)));\n\n                return rows;\n            }\n        });\n\n        var timelineStyles = {\n            wrapper: \"k-timeline k-grid k-widget\",\n            gridHeader: \"k-grid-header\",\n            gridHeaderWrap: \"k-grid-header-wrap\",\n            gridContent: \"k-grid-content\",\n            gridContentWrap: \"k-grid-content\",\n            tasksWrapper: \"k-gantt-tables\",\n            dependenciesWrapper: \"k-gantt-dependencies\",\n            task: \"k-task\",\n            taskOffset: \"k-task-offset\",\n            taskOffsetWrap: \"k-task-offset-wrap\",\n            taskPlanned: \"k-task-planned\",\n            line: \"k-gantt-line\",\n            taskResizeHandle: \"k-resize-handle\",\n            taskResizeHandleWest: \"k-resize-w\",\n            taskDragHandle: \"k-task-draghandle\",\n            taskComplete: \"k-task-complete\",\n            taskDelete: \"k-task-delete\",\n            taskWrapActive: \"k-task-wrap-active\",\n            taskWrap: \"k-task-wrap\",\n            taskDot: \"k-task-dot\",\n            taskDotStart: \"k-task-start\",\n            taskDotEnd: \"k-task-end\",\n            hovered: \"k-hover\",\n            selected: \"k-selected\",\n            origin: \"k-origin\"\n        };\n\n        var GanttTimeline = kendo.ui.GanttTimeline = Widget.extend({\n            init: function(element, options) {\n\n                Widget.fn.init.call(this, element, options);\n\n                if (!this.options.views || !this.options.views.length) {\n                    this.options.views = [\"day\", \"week\", \"month\"];\n                }\n\n                isRtl = kendo.support.isRtl(element);\n\n                this._wrapper();\n\n                this._domTrees();\n\n                this._views();\n\n                this._selectable();\n\n                this._draggable();\n\n                this._resizable();\n\n                this._percentResizeDraggable();\n\n                this._createDependencyDraggable();\n\n                this._attachEvents();\n\n                this._tooltip();\n            },\n\n            options: {\n                name: \"GanttTimeline\",\n                messages: {\n                    views: {\n                        day: \"Day\",\n                        week: \"Week\",\n                        month: \"Month\",\n                        year: \"Year\",\n                        start: \"Start\",\n                        end: \"End\"\n                    }\n                },\n                snap: true,\n                selectable: true,\n                editable: true\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n\n                clearTimeout(this._tooltipTimeout);\n\n                if (this._currentTimeUpdateTimer) {\n                    clearInterval(this._currentTimeUpdateTimer);\n                }\n\n                this._unbindView(this._selectedView);\n\n                if (this._moveDraggable) {\n                    this._moveDraggable.destroy();\n                }\n\n                if (this._resizeDraggable) {\n                    this._resizeDraggable.destroy();\n                }\n\n                if (this._percentDraggable) {\n                    this._percentDraggable.destroy();\n                }\n\n                if (this._dependencyDraggable) {\n                    this._dependencyDraggable.destroy();\n                }\n\n                if (this.touch) {\n                    this.touch.destroy();\n                }\n\n                this._headerTree = null;\n                this._taskTree = null;\n                this._dependencyTree = null;\n\n                this.wrapper.off(NS);\n\n                kendo.destroy(this.wrapper);\n            },\n\n            _wrapper: function() {\n                var styles = GanttTimeline.styles;\n                var that = this;\n                var options = this.options;\n                var calculateSize = function() {\n                    var rowHeight = typeof options.rowHeight === STRING ? options.rowHeight :\n                        options.rowHeight + \"px\";\n                    var table = $(kendo.format(SIZE_CALCULATION_TEMPLATE, rowHeight));\n                    var calculatedRowHeight;\n                    var calculatedCellHeight;\n                    var content = that.wrapper.find(DOT + styles.tasksWrapper);\n\n                    content.append(table);\n\n                    calculatedRowHeight = outerHeight(table.find(\"tr\"));\n                    calculatedCellHeight = table.find(\"td\").height();\n\n                    table.remove();\n\n                    return {\n                        \"row\": calculatedRowHeight,\n                        \"cell\": calculatedCellHeight\n                    };\n                };\n\n                this.wrapper = this.element\n                    .addClass(styles.wrapper)\n                    .append(\"<div class='\" + styles.gridHeader + \"'><div class='\" + styles.gridHeaderWrap + \"'></div></div>\")\n                    .append(\"<div role='tree' class='\" + styles.gridContentWrap + \"'><div class='\" + styles.tasksWrapper + \"'></div><div class='\" + styles.dependenciesWrapper + \"'></div></div>\");\n\n                if (options.rowHeight) {\n                    this._calculatedSize = calculateSize();\n                }\n            },\n\n            _domTrees: function() {\n                var styles = GanttTimeline.styles;\n                var tree = kendo.dom.Tree;\n                var wrapper = this.wrapper;\n\n                this._headerTree = new tree(wrapper.find(DOT + styles.gridHeaderWrap)[0]);\n\n                this._taskTree = new tree(wrapper.find(DOT + styles.tasksWrapper)[0]);\n\n                this._dependencyTree = new tree(wrapper.find(DOT + styles.dependenciesWrapper)[0]);\n            },\n\n            _views: function() {\n                var views = this.options.views;\n                var view;\n                var isSettings;\n                var name;\n                var defaultView;\n                var selected;\n\n                this.views = {};\n\n                for (var i = 0, l = views.length; i < l; i++) {\n                    view = views[i];\n\n                    isSettings = isPlainObject(view);\n\n                    if (isSettings && view.selectable === false) {\n                        continue;\n                    }\n\n                    name = isSettings ? ((typeof view.type !== \"string\") ? view.title : view.type) : view;\n\n                    defaultView = defaultViews[name];\n\n                    if (defaultView) {\n                        if (isSettings) {\n                            view.type = defaultView.type;\n                        }\n\n                        defaultView.title = this.options.messages.views[name];\n                    }\n\n                    view = extend({ title: name }, defaultView, isSettings ? view : {});\n\n                    if (name) {\n                        this.views[name] = view;\n\n                        if (!selected || view.selected) {\n                            selected = name;\n                        }\n                    }\n                }\n\n                if (selected) {\n                    this._selectedViewName = selected;\n                }\n            },\n\n            view: function(name) {\n                if (name) {\n                    this._selectView(name);\n\n                    this.trigger(\"navigate\", { view: name, action: \"changeView\" });\n                }\n\n                return this._selectedView;\n            },\n\n            _selectView: function(name) {\n                if (name && this.views[name]) {\n                    if (this._selectedView) {\n                        this._unbindView(this._selectedView);\n                    }\n\n                    this._selectedView = this._initializeView(name);\n                    this._selectedViewName = name;\n                }\n            },\n\n            _viewByIndex: function(index) {\n                var view;\n                var views = this.views;\n\n                for (view in views) {\n                    if (!index) {\n                        return view;\n                    }\n\n                    index--;\n                }\n            },\n\n            _initializeView: function(name) {\n                var view = this.views[name];\n\n                if (view) {\n                    var type = view.type;\n\n                    if (typeof type === \"string\") {\n                        type = kendo.getter(view.type)(window);\n                    }\n\n                    if (type) {\n                        var newRange = {};\n                        extend(newRange, this.options.range, view.range);\n\n                        var newDate = view.date || this.options.date;\n\n                        view = new type(this.wrapper, trimOptions(extend(true, {\n                            headerTree: this._headerTree,\n                            taskTree: this._taskTree,\n                            dependencyTree: this._dependencyTree,\n                            calculatedSize: this._calculatedSize\n                        }, view, this.options, {\n                            date: newDate,\n                            range: newRange\n                        })));\n                    } else {\n                        throw new Error(\"There is no such view\");\n                    }\n                }\n\n                return view;\n            },\n\n            _unbindView: function(view) {\n                if (view) {\n                    view.destroy();\n                }\n            },\n\n            _range: function(tasks) {\n                var startOrder = {\n                    field: \"start\",\n                    dir: \"asc\"\n                };\n                var endOrder = {\n                    field: \"end\",\n                    dir: \"desc\"\n                };\n\n                if (!tasks || !tasks.length) {\n                    return { start: new Date(), end: new Date() };\n                }\n\n                var start = new Query(tasks).sort(startOrder).toArray()[0].start || new Date();\n                var end = new Query(tasks).sort(endOrder).toArray()[0].end || new Date();\n\n                return {\n                    start: new Date(start),\n                    end: new Date(end)\n                };\n            },\n\n            _render: function(tasks) {\n                var view = this.view();\n                var range = this._range(tasks);\n                var date = view.options.date;\n\n                this._tasks = tasks;\n\n                view.range(range);\n\n                view.renderLayout();\n\n                view.render(tasks);\n\n                if (date) {\n                    view._scrollToDate(date);\n                }\n            },\n\n            _renderDependencies: function(dependencies) {\n                this.view()._renderDependencies(dependencies);\n            },\n\n            _taskByUid: function(uid) {\n                var tasks = this._tasks;\n                var length = tasks.length;\n                var task;\n\n                for (var i = 0; i < length; i++) {\n                    task = tasks[i];\n\n                    if (task.uid === uid) {\n                        return task;\n                    }\n                }\n            },\n\n            _draggable: function() {\n                var that = this;\n                var element;\n                var task;\n                var currentStart;\n                var startOffset;\n                var snap = this.options.snap;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n\n                var cleanUp = function() {\n                    that.view()._removeDragHint();\n\n                    if (element) {\n                        element.css(\"opacity\", 1);\n                    }\n\n                    element = null;\n                    task = null;\n                    that.dragInProgress = false;\n                };\n\n                if (!editable || editable.move === false || editable.update === false) {\n                    return;\n                }\n\n                this._moveDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.task + \",\" + DOT + styles.taskOffset,\n                    holdToDrag: kendo.support.mobileOS,\n                    ignore: DOT + styles.taskResizeHandle\n                });\n\n                this._moveDraggable\n                    .bind(\"dragstart\", function(e) {\n                        var view = that.view();\n                        element = e.currentTarget.closest(DOT + styles.taskWrap);\n                        task = that._taskByUid(e.currentTarget.parent().find(DOT + styles.task).attr(\"data-uid\"));\n\n                        if (that.trigger(\"moveStart\", { task: task })) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        currentStart = task.start;\n                        startOffset = view._timeByPosition(e.x.location, snap) - currentStart;\n\n                        view._createDragHint(element);\n\n                        element.css(\"opacity\", 0.5);\n\n                        clearTimeout(that._tooltipTimeout);\n                        that.dragInProgress = true;\n                    })\n                    .bind(\"drag\", kendo.throttle(function(e) {\n                        if (!that.dragInProgress) {\n                            return;\n                        }\n\n                        var view = that.view();\n                        var date = new Date(view._timeByPosition(e.x.location, snap) - startOffset);\n                        var updateHintDate = date;\n\n                        if (!that.trigger(\"move\", { task: task, start: date })) {\n                            currentStart = date;\n\n                            if (isRtl) {\n                                updateHintDate = new Date(currentStart.getTime() + task.duration());\n                            }\n\n                            view._updateDragHint(updateHintDate);\n                        }\n                    }, 15))\n                    .bind(\"dragend\", function() {\n                        that.trigger(\"moveEnd\", { task: task, start: currentStart });\n\n                        cleanUp();\n                    })\n                    .bind(\"dragcancel\", function() {\n                        cleanUp();\n                    })\n                    .userEvents.bind(\"select\", function() {\n                        blurActiveElement();\n                    });\n            },\n\n            _resizable: function() {\n                var that = this;\n                var element;\n                var task;\n                var currentStart;\n                var currentEnd;\n                var resizeStart;\n                var snap = this.options.snap;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n\n                var cleanUp = function() {\n                    that.view()._removeResizeHint();\n                    element = null;\n                    task = null;\n                    that.dragInProgress = false;\n                };\n\n                if (!editable || editable.resize === false || editable.update === false) {\n                    return;\n                }\n\n                this._resizeDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.taskResizeHandle,\n                    holdToDrag: false\n                });\n\n                this._resizeDraggable\n                    .bind(\"dragstart\", function(e) {\n                        resizeStart = e.currentTarget.hasClass(styles.taskResizeHandleWest);\n\n                        if (isRtl) {\n                            resizeStart = !resizeStart;\n                        }\n\n                        element = e.currentTarget.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n\n                        task = that._taskByUid(element.attr(\"data-uid\"));\n\n                        if (that.trigger(\"resizeStart\", { task: task })) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        currentStart = task.start;\n                        currentEnd = task.end;\n\n                        that.view()._createResizeHint(task);\n\n                        clearTimeout(that._tooltipTimeout);\n                        that.dragInProgress = true;\n                    })\n                    .bind(\"drag\", kendo.throttle(function(e) {\n                        if (!that.dragInProgress) {\n                            return;\n                        }\n\n                        var view = that.view();\n                        var date = view._timeByPosition(e.x.location, snap, !resizeStart);\n\n                        if (resizeStart) {\n                            if (date < currentEnd) {\n                                currentStart = date;\n                            } else {\n                                currentStart = currentEnd;\n                            }\n                        } else {\n                            if (date > currentStart) {\n                                currentEnd = date;\n                            } else {\n                                currentEnd = currentStart;\n                            }\n                        }\n\n                        if (!that.trigger(\"resize\", { task: task, start: currentStart, end: currentEnd })) {\n                            view._updateResizeHint(currentStart, currentEnd, resizeStart);\n                        }\n                    }, 15))\n                    .bind(\"dragend\", function() {\n                        that.trigger(\"resizeEnd\", { task: task, resizeStart: resizeStart, start: currentStart, end: currentEnd });\n\n                        cleanUp();\n                    })\n                    .bind(\"dragcancel\", function() {\n                        cleanUp();\n                    })\n                    .userEvents.bind(\"select\", function() {\n                        blurActiveElement();\n                    });\n            },\n\n            _percentResizeDraggable: function() {\n                var that = this;\n                var task;\n                var taskElement;\n                var taskElementOffset;\n                var timelineOffset;\n                var originalPercentWidth;\n                var maxPercentWidth;\n                var currentPercentComplete;\n                var tooltipTop;\n                var tooltipLeft;\n                var styles = GanttTimeline.styles;\n                var delta;\n                var editable = this.options.editable;\n\n                var cleanUp = function() {\n                    that.view()._removePercentCompleteTooltip();\n                    taskElement = null;\n                    task = null;\n                    that.dragInProgress = false;\n                };\n\n                var updateElement = function(width) {\n                    var taskDragHandle = taskElement.siblings(DOT + styles.taskDragHandle);\n\n                    if (!taskDragHandle.length) {\n                        taskDragHandle = taskElement.closest(DOT + styles.taskWrap).find(DOT + styles.taskDragHandle);\n                    }\n\n                    taskDragHandle.css(isRtl ? \"right\" : \"left\", width);\n\n                    taskElement\n                        .find(DOT + styles.taskComplete)\n                        .width(width);\n                };\n\n                if (!editable || editable.dragPercentComplete === false || editable.update === false) {\n                    return;\n                }\n\n                this._percentDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.taskDragHandle,\n                    holdToDrag: false\n                });\n\n                this._percentDraggable\n                    .bind(\"dragstart\", function(e) {\n                        if (that.trigger(\"percentResizeStart\")) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        taskElement = e.currentTarget.siblings(DOT + styles.task);\n\n                        if (!taskElement.length) {\n                            taskElement = e.currentTarget.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                        }\n\n                        task = that._taskByUid(taskElement.attr(\"data-uid\"));\n\n                        currentPercentComplete = task.percentComplete;\n\n                        taskElementOffset = taskElement.offset();\n                        timelineOffset = this.element.offset();\n\n                        originalPercentWidth = taskElement.find(DOT + styles.taskComplete).width();\n                        maxPercentWidth = outerWidth(taskElement);\n\n                        clearTimeout(that._tooltipTimeout);\n                        that.dragInProgress = true;\n                    })\n                    .bind(\"drag\", kendo.throttle(function(e) {\n                        if (!that.dragInProgress) {\n                            return;\n                        }\n\n                        delta = isRtl ? -e.x.initialDelta : e.x.initialDelta;\n\n                        var currentWidth = Math.max(0, Math.min(maxPercentWidth, originalPercentWidth + delta));\n\n                        currentPercentComplete = Math.round((currentWidth / maxPercentWidth) * 100);\n\n                        updateElement(currentWidth);\n\n                        tooltipTop = taskElementOffset.top - timelineOffset.top;\n                        tooltipLeft = taskElementOffset.left + currentWidth - timelineOffset.left;\n\n                        if (isRtl) {\n                            tooltipLeft += (maxPercentWidth - 2 * currentWidth);\n                        }\n\n                        that.view()._updatePercentCompleteTooltip(tooltipTop, tooltipLeft, currentPercentComplete);\n                    }, 15))\n                    .bind(\"dragend\", function() {\n                        that.trigger(\"percentResizeEnd\", { task: task, percentComplete: currentPercentComplete / 100 });\n\n                        cleanUp();\n                    })\n                    .bind(\"dragcancel\", function() {\n                        updateElement(originalPercentWidth);\n\n                        cleanUp();\n                    })\n                    .userEvents.bind(\"select\", function() {\n                        blurActiveElement();\n                    });\n            },\n\n            _createDependencyDraggable: function() {\n                var that = this;\n                var originalHandle;\n                var hoveredHandle = $();\n                var hoveredTask = $();\n                var startX;\n                var startY;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n\n                var cleanUp = function() {\n                    originalHandle\n                        .css(\"display\", \"\")\n                        .removeClass(styles.hovered);\n\n                    originalHandle.parent().removeClass(styles.origin);\n                    originalHandle = null;\n\n                    toggleHandles(false);\n\n                    hoveredTask = $();\n                    hoveredHandle = $();\n\n                    that.view()._removeDependencyDragHint();\n\n                    that.dragInProgress = false;\n                };\n\n                var toggleHandles = function(value) {\n                    if (!hoveredTask.hasClass(styles.origin)) {\n                        hoveredTask.find(DOT + styles.taskDot).css(\"display\", value ? \"block\" : \"\");\n                        hoveredHandle.toggleClass(styles.hovered, value);\n                    }\n                };\n\n                if (!editable || editable.dependencyCreate === false) {\n                    return;\n                }\n\n                this._dependencyDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.taskDot,\n                    holdToDrag: false\n                });\n\n                this._dependencyDraggable\n                    .bind(\"dragstart\", function(e) {\n                        if (that.trigger(\"dependencyDragStart\")) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        originalHandle = e.currentTarget\n                            .css(\"display\", \"block\")\n                            .addClass(styles.hovered);\n\n                        originalHandle.parent().addClass(styles.origin);\n\n                        var elementOffset = originalHandle.offset();\n                        var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\n\n                        startX = Math.round(elementOffset.left - tablesOffset.left + (outerHeight(originalHandle) / 2));\n                        startY = Math.round(elementOffset.top - tablesOffset.top + (outerWidth(originalHandle) / 2));\n\n                        clearTimeout(that._tooltipTimeout);\n                        that.dragInProgress = true;\n                    })\n                    .bind(\"drag\", kendo.throttle(function(e) {\n                        if (!that.dragInProgress) {\n                            return;\n                        }\n\n                        that.view()._removeDependencyDragHint();\n\n                        var target = $(kendo.elementUnderCursor(e));\n                        var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\n                        var currentX = e.x.location - tablesOffset.left;\n                        var currentY = e.y.location - tablesOffset.top;\n\n                        that.view()._updateDependencyDragHint({ x: startX, y: startY }, { x: currentX, y: currentY });\n\n                        toggleHandles(false);\n\n                        hoveredHandle = (target.hasClass(styles.taskDot)) ? target : $();\n                        hoveredTask = target.closest(DOT + styles.taskWrap);\n\n                        toggleHandles(true);\n                    }, 15))\n                    .bind(\"dragend\", function() {\n                        if (hoveredHandle.length) {\n                            var fromStart = originalHandle.hasClass(styles.taskDotStart);\n                            var toStart = hoveredHandle.hasClass(styles.taskDotStart);\n\n                            var type = fromStart ? (toStart ? 3 : 2) : (toStart ? 1 : 0);\n\n                            var predecessorElement = originalHandle.siblings(DOT + styles.task);\n                            if (!predecessorElement.length) {\n                                predecessorElement = originalHandle.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                            }\n                            var predecessor = that._taskByUid(predecessorElement.attr(\"data-uid\"));\n\n                            var successorElement = hoveredHandle.siblings(DOT + styles.task);\n                            if (!successorElement.length) {\n                                successorElement = hoveredHandle.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                            }\n                            var successor = that._taskByUid(successorElement.attr(\"data-uid\"));\n\n                            if (predecessor !== successor) {\n                                that.trigger(\"dependencyDragEnd\", { type: type, predecessor: predecessor, successor: successor });\n                            }\n                        }\n\n                        cleanUp();\n                    })\n                    .bind(\"dragcancel\", function() {\n                        cleanUp();\n                    })\n                    .userEvents.bind(\"select\", function() {\n                        blurActiveElement();\n                    });\n            },\n\n            _selectable: function() {\n                var that = this;\n                var styles = GanttTimeline.styles;\n\n                if (this.options.selectable) {\n                    this.wrapper\n                        .on(CLICK + NS, DOT + styles.task + \",\" + DOT + styles.taskOffset, function(e) {\n                            e.stopPropagation();\n\n                            var uid = $(this).attr(\"data-uid\");\n\n                            if (!uid) {\n                                uid = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).data(\"uid\");\n                            }\n\n                            if (!e.ctrlKey) {\n                                that.trigger(\"select\", { uid: uid });\n                            } else {\n                                that.trigger(\"clear\");\n                            }\n                        })\n                        .on(CLICK + NS, DOT + styles.taskWrap, function(e) {\n                            e.stopPropagation();\n\n                            // Decrease z-index of wrap so the we can get to the\n                            // dependency line underneath, if there is any\n                            $(this).css(\"z-index\", \"0\");\n\n                            var target = $(document.elementFromPoint(e.clientX, e.clientY));\n\n                            if (target.hasClass(styles.line)) {\n                                target.click();\n                            }\n\n                            $(this).css(\"z-index\", \"\");\n                        })\n                        .on(CLICK + NS, DOT + styles.tasksWrapper, function() {\n                            if (that.selectDependency().length > 0) {\n                                that.clearSelection();\n                            } else {\n                                that.trigger(\"clear\");\n                            }\n                        })\n                        .on(CLICK + NS, DOT + styles.line, function(e) {\n                            e.stopPropagation();\n\n                            that.selectDependency(this);\n                        });\n                }\n            },\n\n            select: function(value) {\n                var element = this.wrapper.find(value);\n                var styles = GanttTimeline.styles;\n\n                if (element.length) {\n                    this.clearSelection();\n\n                    element.addClass(styles.selected);\n\n                    if (kendo.support.mobileOS) {\n                        element.parent().addClass(styles.taskWrapActive);\n                    }\n\n                    return;\n                }\n\n                return this.wrapper.find(DOT + styles.task + DOT + styles.selected);\n            },\n\n            selectDependency: function(value) {\n                var element = this.wrapper.find(value);\n                var uid;\n                var styles = GanttTimeline.styles;\n\n                if (element.length) {\n                    this.clearSelection();\n                    this.trigger(\"clear\");\n\n                    uid = $(element).attr(\"data-uid\");\n\n                    this.wrapper.find(DOT + styles.line + \"[data-uid='\" + uid + \"']\").addClass(styles.selected);\n\n                    return;\n                }\n\n                return this.wrapper.find(DOT + styles.line + DOT + styles.selected);\n            },\n\n            clearSelection: function() {\n                var styles = GanttTimeline.styles;\n\n                this.wrapper\n                    .find(DOT + styles.selected)\n                    .removeClass(styles.selected);\n\n                if (kendo.support.mobileOS) {\n                    this.wrapper\n                        .find(DOT + styles.taskWrapActive)\n                        .removeClass(styles.taskWrapActive);\n                }\n            },\n\n            _attachEvents: function() {\n                var that = this;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n\n                if (editable) {\n                    this._tabindex();\n\n                    this.wrapper\n                        .on(CLICK + NS, DOT + styles.taskDelete, function(e) {\n                            that.trigger(\"removeTask\", { uid: $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\") });\n                            e.stopPropagation();\n                            e.preventDefault();\n                        })\n                        .on(KEYDOWN + NS, function(e) {\n                            var selectedDependency;\n                            var editable = that.options.editable;\n\n                            if (e.keyCode === keys.DELETE && editable && editable.dependencyDestroy !== false) {\n                                selectedDependency = that.selectDependency();\n\n                                if (selectedDependency.length) {\n                                    that.trigger(\"removeDependency\", { uid: selectedDependency.attr(\"data-uid\") });\n                                    that.clearSelection();\n                                }\n                            }\n                        });\n\n                    if (!kendo.support.mobileOS) {\n                        this.wrapper\n                            .on(DBLCLICK + NS, DOT + styles.task + \",\" + DOT + styles.taskOffset, function(e) {\n                                if (that.options.editable.update !== false) {\n                                    that.trigger(\"editTask\", { uid: $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\") });\n\n                                    e.stopPropagation();\n                                    e.preventDefault();\n                                }\n                            });\n                    } else {\n                        this.touch = this.wrapper\n                            .kendoTouch({\n                                filter: DOT + styles.task + \",\" + DOT + styles.taskOffset,\n                                doubletap: function(e) {\n                                    if (that.options.editable.update !== false) {\n                                        that.trigger(\"editTask\", { uid: $(e.touch.currentTarget).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\") });\n                                    }\n                                }\n                            }).data(\"kendoTouch\");\n                    }\n                }\n            },\n\n            _tooltip: function() {\n                var that = this;\n                var tooltipOptions = this.options.tooltip;\n                var styles = GanttTimeline.styles;\n                var currentMousePosition;\n                var mouseMoveHandler = function(e) {\n                    currentMousePosition = e.clientX;\n                };\n\n                if (tooltipOptions && tooltipOptions.visible === false) {\n                    return;\n                }\n\n                if (!kendo.support.mobileOS) {\n                    this.wrapper\n                            .on(MOUSEENTER + NS, DOT + styles.task, function() {\n                                var element = this;\n                                var task = that._taskByUid($(this).attr(\"data-uid\"));\n\n                                if (that.dragInProgress) {\n                                    return;\n                                }\n\n                                that._tooltipTimeout = setTimeout(function() {\n                                    that.view()._createTaskTooltip(task, element, currentMousePosition);\n                                }, 800);\n\n                                $(this).on(MOUSEMOVE, mouseMoveHandler);\n                            })\n                            .on(MOUSELEAVE + NS, DOT + styles.task, function() {\n                                clearTimeout(that._tooltipTimeout);\n\n                                that.view()._removeTaskTooltip();\n\n                                $(this).off(MOUSEMOVE, mouseMoveHandler);\n                            })\n                            .on(MOUSEENTER + NS, DOT + styles.taskOffset, function() {\n                                var taskElement = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                                var task = that._taskByUid(taskElement.attr(\"data-uid\"));\n\n                                if (that.dragInProgress) {\n                                    return;\n                                }\n\n                                that._offsetTooltipTimeout = setTimeout(function() {\n                                    that.view()._createOffsetTooltip(task, taskElement, currentMousePosition);\n                                }, 800);\n\n                                $(this).on(MOUSEMOVE, mouseMoveHandler);\n                            })\n                            .on(MOUSELEAVE + NS, DOT + styles.taskOffset, function() {\n                                clearTimeout(that._offsetTooltipTimeout);\n\n                                that.view()._removeOffsetTooltip();\n\n                                $(this).off(MOUSEMOVE, mouseMoveHandler);\n                            })\n                            .on(MOUSEENTER + NS, DOT + styles.taskPlanned, function() {\n                                var taskElement = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                                var task = that._taskByUid(taskElement.attr(\"data-uid\"));\n\n                                that._plannedTooltipTimeout = setTimeout(function() {\n                                    that.view()._createPlannedTooltip(task, taskElement, currentMousePosition);\n                                }, 800);\n\n                                $(this).on(MOUSEMOVE, mouseMoveHandler);\n                            })\n                            .on(MOUSELEAVE + NS, DOT + styles.taskPlanned, function() {\n                                clearTimeout(that._plannedTooltipTimeout);\n\n                                that.view()._removePlannedTooltip();\n\n                                $(this).off(MOUSEMOVE, mouseMoveHandler);\n                            });\n                } else {\n                    this.wrapper\n                        .on(CLICK + NS, DOT + styles.taskDelete, function(e) {\n                            e.stopPropagation();\n                            that.view()._removeTaskTooltip();\n                        })\n                        .on(MOUSELEAVE + NS, DOT + styles.task, function(e) {\n                            var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n\n                            if (parents.length === 0) {\n                                that.view()._removeTaskTooltip();\n                            }\n                        })\n                        .on(MOUSELEAVE + NS, DOT + styles.taskOffset, function(e) {\n                            var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n\n                            if (parents.length === 0) {\n                                that.view()._removeOffsetTooltip();\n                            }\n                        })\n                        .on(MOUSELEAVE + NS, DOT + styles.taskPlanned, function(e) {\n                            var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n\n                            if (parents.length === 0) {\n                                that.view()._removePlannedTooltip();\n                            }\n                        });\n\n                    if (this.touch) {\n                        this.touch\n                            .bind(\"tap\", function(e) {\n                                var element = $(e.touch.target);\n                                var currentPosition = e.touch.x.client;\n                                var task;\n\n                                if (!element.hasClass(styles.task)) {\n                                    task = that._taskByUid(element.closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\"));\n                                    if (that.view()._offsetTooltip) {\n                                        that.view()._removeOffsetTooltip();\n                                    }\n\n                                    that.view()._createOffsetTooltip(task, element, currentPosition);\n                                } else {\n                                    task = that._taskByUid(element.attr(\"data-uid\"));\n                                    if (that.view()._taskTooltip) {\n                                        that.view()._removeTaskTooltip();\n                                    }\n\n                                    that.view()._createTaskTooltip(task, element, currentPosition);\n                                }\n                            })\n                            .bind(\"doubletap\", function() {\n                                that.view()._removeTaskTooltip();\n                                that.view()._removeOffsetTooltip();\n                            });\n                    }\n                }\n            },\n            _setPlanned: function(value) {\n                this.options.showPlannedTasks = value;\n                this.view().options.showPlannedTasks = value;\n            }\n        });\n\n        extend(true, GanttTimeline, { styles: timelineStyles });\n\n    })(window.kendo.jQuery);\n\n}));\n"]}